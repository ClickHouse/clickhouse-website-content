<!doctype html><html ⚡ lang=fr> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>Les Tables Système | Documentation ClickHouse</title><link href=https://clickhouse.tech/docs/fr/operations/system-tables/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Les Tables Système | Documentation ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fr/operations/system-tables/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Les Tables Système | Documentation ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,main,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}b,strong{font-weight:bolder}sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.list-inline{padding-left:0;list-style:none}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-primary{background-color:#b8daff}.table-warning{background-color:#ffeeba}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-active{background-color:rgba(0,0,0,.075)}.table-dark{color:#fff;background-color:#343a40}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media(min-width:576px){.form-inline .custom-select{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning .alert-link{color:#533f03}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:-ms-flexbox;display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-warning{background-color:#ffc107}a.bg-warning:focus,a.bg-warning:hover{background-color:#d39e00}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.mt-0,.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.mt-1,.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.mt-2,.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.mt-3,.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.mt-4,.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.mt-5,.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pr-0{padding-right:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pr-1{padding-right:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pr-2{padding-right:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pr-3{padding-right:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pr-4{padding-right:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pr-5{padding-right:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.mt-n1,.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.mt-n2,.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.mt-n3,.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.mt-n4,.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.mt-n5,.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.mt-md-0,.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.mt-md-1,.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.mt-md-2,.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.mt-md-3,.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.mt-md-4,.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.mt-md-5,.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pr-md-0{padding-right:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pr-md-1{padding-right:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pr-md-2{padding-right:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pr-md-3{padding-right:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pr-md-4{padding-right:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pr-md-5{padding-right:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.mt-md-n1,.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.mt-md-n2,.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.mt-md-n3,.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.mt-md-n4,.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.mt-md-n5,.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.mt-lg-0,.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.mt-lg-1,.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.mt-lg-2,.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.mt-lg-3,.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.mt-lg-4,.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.mt-lg-5,.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pr-lg-0{padding-right:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pr-lg-1{padding-right:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pr-lg-2{padding-right:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pr-lg-3{padding-right:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pr-lg-4{padding-right:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pr-lg-5{padding-right:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.mt-lg-n3,.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.mt-lg-n5,.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-warning{color:#ffc107}a.text-warning:focus,a.text-warning:hover{color:#ba8b00}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}details{background:#444451;color:#eee;padding:1rem;margin-bottom:1rem;margin-top:1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .l{color:#08f}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ge{font-style:italic}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .no{color:#ef6155}.syntax .ne{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .nt{color:#5bc4bf}.syntax .mi{color:#08f}.syntax .s2{color:#48b685}.syntax .se{color:#08f}.syntax .si{color:#08f}.syntax .s1{color:#080}.syntax .il{color:#08f}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/operations/system-tables/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/operations/system-tables.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=system-tables>Les Tables Système<a class=headerlink href=../amp/#system-tables title="Permanent link"> </a></h1> <p>Les tables système sont utilisées pour implémenter une partie des fonctionnalités du système et pour fournir un accès à des informations sur le fonctionnement du système.<br> Vous ne pouvez pas supprimer une table système (mais vous pouvez effectuer un détachement).<br> Les tables système n'ont pas de fichiers avec des données sur le disque ou de fichiers avec des métadonnées. Le serveur crée toutes les tables système au démarrage.<br> Les tables système sont en lecture seule.<br> Ils sont situés dans la ‘system’ la base de données.</p> <h2 id=system_tables-asynchronous_metrics>système.asynchronous_metrics<a class=headerlink href=../amp/#system_tables-asynchronous_metrics title="Permanent link"> </a></h2> <p>Contient des mesures qui sont calculées périodiquement en arrière-plan. Par exemple, la quantité de RAM utilisée.</p> <p>Colonne:</p> <ul> <li><code class=syntax>metric</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Metric name.</li> <li><code class=syntax>value</code> (<a href=../../../sql-reference/data-types/float/amp/ >Float64</a>) — Metric value.</li> </ul> <p><strong>Exemple</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>asynchronous_metrics</span> <span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─metric──────────────────────────────────┬──────value─┐
│ jemalloc.background_thread.run_interval │          0 │
│ jemalloc.background_thread.num_runs     │          0 │
│ jemalloc.background_thread.num_threads  │          0 │
│ jemalloc.retained                       │  422551552 │
│ jemalloc.mapped                         │ 1682989056 │
│ jemalloc.resident                       │ 1656446976 │
│ jemalloc.metadata_thp                   │          0 │
│ jemalloc.metadata                       │   10226856 │
│ UncompressedCacheCells                  │          0 │
│ MarkCacheFiles                          │          0 │
└─────────────────────────────────────────┴────────────┘
</code></pre></div> <p><strong>Voir Aussi</strong></p> <ul> <li><a href=../../monitoring/amp/ >Surveiller</a> — Base concepts of ClickHouse monitoring.</li> <li><a href=../amp/#system_tables-metrics>système.métrique</a> — Contains instantly calculated metrics.</li> <li><a href=../amp/#system_tables-events>système.événement</a> — Contains a number of events that have occurred.</li> <li><a href=../amp/#system_tables-metric_log>système.metric_log</a> — Contains a history of metrics values from tables <code class=syntax>system.metrics</code> и <code class=syntax>system.events</code>.</li> </ul> <h2 id=system-clusters>système.cluster<a class=headerlink href=../amp/#system-clusters title="Permanent link"> </a></h2> <p>Contient des informations sur les clusters disponibles dans le fichier de configuration et les serveurs en eux.</p> <p>Colonne:</p> <ul> <li><code class=syntax>cluster</code> (String) — The cluster name.</li> <li><code class=syntax>shard_num</code> (UInt32) — The shard number in the cluster, starting from 1.</li> <li><code class=syntax>shard_weight</code> (UInt32) — The relative weight of the shard when writing data.</li> <li><code class=syntax>replica_num</code> (UInt32) — The replica number in the shard, starting from 1.</li> <li><code class=syntax>host_name</code> (String) — The host name, as specified in the config.</li> <li><code class=syntax>host_address</code> (String) — The host IP address obtained from DNS.</li> <li><code class=syntax>port</code> (UInt16) — The port to use for connecting to the server.</li> <li><code class=syntax>user</code> (String) — The name of the user for connecting to the server.</li> <li><code class=syntax>errors_count</code> (UInt32) - nombre de fois que cet hôte n'a pas atteint le réplica.</li> <li><code class=syntax>estimated_recovery_time</code> (UInt32) - secondes restantes jusqu'à ce que le nombre d'erreurs de réplique soit remis à zéro et qu'il soit considéré comme revenu à la normale.</li> </ul> <p>Veuillez noter que <code class=syntax>errors_count</code> est mise à jour une fois par requête à la grappe, mais <code class=syntax>estimated_recovery_time</code> est recalculé sur-demande. Il pourrait donc y avoir un cas de non-zéro <code class=syntax>errors_count</code> et zéro <code class=syntax>estimated_recovery_time</code>, cette requête suivante sera nulle <code class=syntax>errors_count</code> et essayez d'utiliser des répliques comme si elle ne comporte pas d'erreurs.</p> <p><strong>Voir aussi</strong></p> <ul> <li><a href=../../../engines/table-engines/special/distributed/amp/ >Tableau moteur Distribués</a></li> <li><a href=../../settings/settings/amp/#settings-distributed_replica_error_cap>paramètre distributed_replica_error_cap</a></li> <li><a href=../../settings/settings/amp/#settings-distributed_replica_error_half_life>paramètre distributed_replica_error_half_life</a></li> </ul> <h2 id=system-columns>système.colonne<a class=headerlink href=../amp/#system-columns title="Permanent link"> </a></h2> <p>Contient des informations sur les colonnes de toutes les tables.</p> <p>Vous pouvez utiliser ce tableau pour obtenir des informations similaires à l' <a href=../../../sql-reference/statements/misc/amp/#misc-describe-table>DESCRIBE TABLE</a> requête, mais pour plusieurs tables à la fois.</p> <p>Le <code class=syntax>system.columns</code> le tableau contient les colonnes suivantes (la colonne type est indiqué entre parenthèses):</p> <ul> <li><code class=syntax>database</code> (String) — Database name.</li> <li><code class=syntax>table</code> (String) — Table name.</li> <li><code class=syntax>name</code> (String) — Column name.</li> <li><code class=syntax>type</code> (String) — Column type.</li> <li><code class=syntax>default_kind</code> (String) — Expression type (<code class=syntax>DEFAULT</code>, <code class=syntax>MATERIALIZED</code>, <code class=syntax>ALIAS</code>) pour la valeur par défaut, ou une chaîne vide si elle n'est pas définie.</li> <li><code class=syntax>default_expression</code> (String) — Expression for the default value, or an empty string if it is not defined.</li> <li><code class=syntax>data_compressed_bytes</code> (UInt64) — The size of compressed data, in bytes.</li> <li><code class=syntax>data_uncompressed_bytes</code> (UInt64) — The size of decompressed data, in bytes.</li> <li><code class=syntax>marks_bytes</code> (UInt64) — The size of marks, in bytes.</li> <li><code class=syntax>comment</code> (String) — Comment on the column, or an empty string if it is not defined.</li> <li><code class=syntax>is_in_partition_key</code> (UInt8) — Flag that indicates whether the column is in the partition expression.</li> <li><code class=syntax>is_in_sorting_key</code> (UInt8) — Flag that indicates whether the column is in the sorting key expression.</li> <li><code class=syntax>is_in_primary_key</code> (UInt8) — Flag that indicates whether the column is in the primary key expression.</li> <li><code class=syntax>is_in_sampling_key</code> (UInt8) — Flag that indicates whether the column is in the sampling key expression.</li> </ul> <h2 id=system-contributors>système.contributeur<a class=headerlink href=../amp/#system-contributors title="Permanent link"> </a></h2> <p>Contient des informations sur les donateurs. Tous les constributors dans un ordre aléatoire. L'ordre est aléatoire au moment de l'exécution de la requête.</p> <p>Colonne:</p> <ul> <li><code class=syntax>name</code> (String) — Contributor (author) name from git log.</li> </ul> <p><strong>Exemple</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>contributors</span> <span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name─────────────┐
│ Olga Khvostikova │
│ Max Vetrov       │
│ LiuYangkuan      │
│ svladykin        │
│ zamulla          │
│ Šimon Podlipský  │
│ BayoNet          │
│ Ilya Khomutov    │
│ Amy Krishnevsky  │
│ Loud_Scream      │
└──────────────────┘
</code></pre></div> <p>Trouver vous-même dans le tableau, utilisez une requête:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>contributors</span> <span class=k>WHERE</span> <span class=n>name</span><span class=o>=</span><span class=s1>'Olga Khvostikova'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name─────────────┐
│ Olga Khvostikova │
└──────────────────┘
</code></pre></div> <h2 id=system-databases>système.les bases de données<a class=headerlink href=../amp/#system-databases title="Permanent link"> </a></h2> <p>Cette table contient une seule colonne de chaîne appelée ‘name’ – the name of a database.<br> Chaque base de données que le serveur connaît a une entrée correspondante dans la table.<br> Cette table système est utilisée pour implémenter <code class=syntax>SHOW DATABASES</code> requête.</p> <h2 id=system_tables-detached_parts>système.detached_parts<a class=headerlink href=../amp/#system_tables-detached_parts title="Permanent link"> </a></h2> <p>Contient des informations sur les pièces détachées de <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/ >MergeTree</a> table. Le <code class=syntax>reason</code> colonne spécifie pourquoi la pièce a été détachée. Pour les pièces détachées par l'utilisateur, la raison est vide. De telles pièces peuvent être attachées avec <a href=../../../sql-reference/statements/alter/amp/#alter_attach-partition>ALTER TABLE ATTACH PARTITION|PART</a> commande. Pour la description des autres colonnes, voir <a href=../amp/#system_tables-parts>système.partie</a>. Si le nom de pièce n'est pas valide, les valeurs de certaines colonnes peuvent être <code class=syntax>NULL</code>. Ces pièces peuvent être supprimés avec <a href=../../../sql-reference/statements/alter/amp/#alter_drop-detached>ALTER TABLE DROP DETACHED PART</a>.</p> <h2 id=system_tables-dictionaries>système.dictionnaire<a class=headerlink href=../amp/#system_tables-dictionaries title="Permanent link"> </a></h2> <p>Contient des informations sur <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts/amp/ >dictionnaires externes</a>.</p> <p>Colonne:</p> <ul> <li><code class=syntax>database</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Name of the database containing the dictionary created by DDL query. Empty string for other dictionaries.</li> <li><code class=syntax>name</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/amp/ >Nom du dictionnaire</a>.</li> <li><code class=syntax>status</code> (<a href=../../../sql-reference/data-types/enum/amp/ >Enum8</a>) — Dictionary status. Possible values:<ul> <li><code class=syntax>NOT_LOADED</code> — Dictionary was not loaded because it was not used.</li> <li><code class=syntax>LOADED</code> — Dictionary loaded successfully.</li> <li><code class=syntax>FAILED</code> — Unable to load the dictionary as a result of an error.</li> <li><code class=syntax>LOADING</code> — Dictionary is loading now.</li> <li><code class=syntax>LOADED_AND_RELOADING</code> — Dictionary is loaded successfully, and is being reloaded right now (frequent reasons: <a href=../../../sql-reference/statements/system/amp/#query_language-system-reload-dictionary>SYSTEM RELOAD DICTIONARY</a> requête, délai d'attente, configuration du dictionnaire a changé).</li> <li><code class=syntax>FAILED_AND_RELOADING</code> — Could not load the dictionary as a result of an error and is loading now.</li> </ul> </li> <li><code class=syntax>origin</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Path to the configuration file that describes the dictionary.</li> <li><code class=syntax>type</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Type of a dictionary allocation. <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/amp/ >Stockage des dictionnaires en mémoire</a>.</li> <li><code class=syntax>key</code> — <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/amp/#ext_dict_structure-key>Type de clé</a>: Touche Numérique (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt64</a>) or Сomposite key (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — form “(type 1, type 2, …, type n)”.</li> <li><code class=syntax>attribute.names</code> (<a href=../../../sql-reference/data-types/array/amp/ >Tableau</a>(<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>)) — Array of <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/amp/#ext_dict_structure-attributes>les noms d'attribut</a> fournis par le dictionnaire.</li> <li><code class=syntax>attribute.types</code> (<a href=../../../sql-reference/data-types/array/amp/ >Tableau</a>(<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>)) — Corresponding array of <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/amp/#ext_dict_structure-attributes>les types d'attribut</a> qui sont fournis par le dictionnaire.</li> <li><code class=syntax>bytes_allocated</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt64</a>) — Amount of RAM allocated for the dictionary.</li> <li><code class=syntax>query_count</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt64</a>) — Number of queries since the dictionary was loaded or since the last successful reboot.</li> <li><code class=syntax>hit_rate</code> (<a href=../../../sql-reference/data-types/float/amp/ >Float64</a>) — For cache dictionaries, the percentage of uses for which the value was in the cache.</li> <li><code class=syntax>element_count</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt64</a>) — Number of items stored in the dictionary.</li> <li><code class=syntax>load_factor</code> (<a href=../../../sql-reference/data-types/float/amp/ >Float64</a>) — Percentage filled in the dictionary (for a hashed dictionary, the percentage filled in the hash table).</li> <li><code class=syntax>source</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Text describing the <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/amp/ >source de données</a> pour le dictionnaire.</li> <li><code class=syntax>lifetime_min</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt64</a>) — Minimum <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/amp/ >vie</a> du dictionnaire en mémoire, après quoi ClickHouse tente de recharger le dictionnaire (si <code class=syntax>invalidate_query</code> est définie, alors que si elle a changé). Réglez en quelques secondes.</li> <li><code class=syntax>lifetime_max</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt64</a>) — Maximum <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/amp/ >vie</a> du dictionnaire en mémoire, après quoi ClickHouse tente de recharger le dictionnaire (si <code class=syntax>invalidate_query</code> est définie, alors que si elle a changé). Réglez en quelques secondes.</li> <li><code class=syntax>loading_start_time</code> (<a href=../../../sql-reference/data-types/datetime/amp/ >DateTime</a>) — Start time for loading the dictionary.</li> <li><code class=syntax>last_successful_update_time</code> (<a href=../../../sql-reference/data-types/datetime/amp/ >DateTime</a>) — End time for loading or updating the dictionary. Helps to monitor some troubles with external sources and investigate causes.</li> <li><code class=syntax>loading_duration</code> (<a href=../../../sql-reference/data-types/float/amp/ >Float32</a>) — Duration of a dictionary loading.</li> <li><code class=syntax>last_exception</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Text of the error that occurs when creating or reloading the dictionary if the dictionary couldn't be created.</li> </ul> <p><strong>Exemple</strong></p> <p>Configurez le dictionnaire.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>DICTIONARY</span> <span class=n>dictdb</span><span class=p>.</span><span class=n>dict</span>
<span class=p>(</span>
    <span class=o>`</span><span class=k>key</span><span class=o>`</span> <span class=n>Int64</span> <span class=k>DEFAULT</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
    <span class=o>`</span><span class=n>value_default</span><span class=o>`</span> <span class=n>String</span> <span class=k>DEFAULT</span> <span class=s1>'world'</span><span class=p>,</span>
    <span class=o>`</span><span class=n>value_expression</span><span class=o>`</span> <span class=n>String</span> <span class=k>DEFAULT</span> <span class=s1>'xxx'</span> <span class=n>EXPRESSION</span> <span class=s1>'toString(127 * 172)'</span>
<span class=p>)</span>
<span class=k>PRIMARY</span> <span class=k>KEY</span> <span class=k>key</span>
<span class=k>SOURCE</span><span class=p>(</span><span class=n>CLICKHOUSE</span><span class=p>(</span><span class=k>HOST</span> <span class=s1>'localhost'</span> <span class=n>PORT</span> <span class=mi>9000</span> <span class=k>USER</span> <span class=s1>'default'</span> <span class=k>TABLE</span> <span class=s1>'dicttbl'</span> <span class=n>DB</span> <span class=s1>'dictdb'</span><span class=p>))</span>
<span class=n>LIFETIME</span><span class=p>(</span><span class=k>MIN</span> <span class=mi>0</span> <span class=k>MAX</span> <span class=mi>1</span><span class=p>)</span>
<span class=n>LAYOUT</span><span class=p>(</span><span class=n>FLAT</span><span class=p>())</span>
</code></pre></div> <p>Assurez-vous que le dictionnaire est chargé.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>dictionaries</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─database─┬─name─┬─status─┬─origin──────┬─type─┬─key────┬─attribute.names──────────────────────┬─attribute.types─────┬─bytes_allocated─┬─query_count─┬─hit_rate─┬─element_count─┬───────────load_factor─┬─source─────────────────────┬─lifetime_min─┬─lifetime_max─┬──loading_start_time─┌──last_successful_update_time─┬──────loading_duration─┬─last_exception─┐
│ dictdb   │ dict │ LOADED │ dictdb.dict │ Flat │ UInt64 │ ['value_default','value_expression'] │ ['String','String'] │           74032 │           0 │        1 │             1 │ 0.0004887585532746823 │ ClickHouse: dictdb.dicttbl │            0 │            1 │ 2020-03-04 04:17:34 │   2020-03-04 04:30:34        │                 0.002 │                │
└──────────┴──────┴────────┴─────────────┴──────┴────────┴──────────────────────────────────────┴─────────────────────┴─────────────────┴─────────────┴──────────┴───────────────┴───────────────────────┴────────────────────────────┴──────────────┴──────────────┴─────────────────────┴──────────────────────────────┘───────────────────────┴────────────────┘
</code></pre></div> <h2 id=system_tables-events>système.événement<a class=headerlink href=../amp/#system_tables-events title="Permanent link"> </a></h2> <p>Contient des informations sur le nombre d'événements survenus dans le système. Par exemple, dans le tableau, vous pouvez trouver combien <code class=syntax>SELECT</code> les requêtes ont été traitées depuis le démarrage du serveur ClickHouse.</p> <p>Colonne:</p> <ul> <li><code class=syntax>event</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Event name.</li> <li><code class=syntax>value</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Number of events occurred.</li> <li><code class=syntax>description</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Event description.</li> </ul> <p><strong>Exemple</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>events</span> <span class=k>LIMIT</span> <span class=mi>5</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─event─────────────────────────────────┬─value─┬─description────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ Query                                 │    12 │ Number of queries to be interpreted and potentially executed. Does not include queries that failed to parse or were rejected due to AST size limits, quota limits or limits on the number of simultaneously running queries. May include internal queries initiated by ClickHouse itself. Does not count subqueries.                  │
│ SelectQuery                           │     8 │ Same as Query, but only for SELECT queries.                                                                                                                                                                                                                │
│ FileOpen                              │    73 │ Number of files opened.                                                                                                                                                                                                                                    │
│ ReadBufferFromFileDescriptorRead      │   155 │ Number of reads (read/pread) from a file descriptor. Does not include sockets.                                                                                                                                                                             │
│ ReadBufferFromFileDescriptorReadBytes │  9931 │ Number of bytes read from file descriptors. If the file is compressed, this will show the compressed data size.                                                                                                                                              │
└───────────────────────────────────────┴───────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <p><strong>Voir Aussi</strong></p> <ul> <li><a href=../amp/#system_tables-asynchronous_metrics>système.asynchronous_metrics</a> — Contains periodically calculated metrics.</li> <li><a href=../amp/#system_tables-metrics>système.métrique</a> — Contains instantly calculated metrics.</li> <li><a href=../amp/#system_tables-metric_log>système.metric_log</a> — Contains a history of metrics values from tables <code class=syntax>system.metrics</code> и <code class=syntax>system.events</code>.</li> <li><a href=../../monitoring/amp/ >Surveiller</a> — Base concepts of ClickHouse monitoring.</li> </ul> <h2 id=system-functions>système.fonction<a class=headerlink href=../amp/#system-functions title="Permanent link"> </a></h2> <p>Contient des informations sur les fonctions normales et agrégées.</p> <p>Colonne:</p> <ul> <li><code class=syntax>name</code>(<code class=syntax>String</code>) – The name of the function.</li> <li><code class=syntax>is_aggregate</code>(<code class=syntax>UInt8</code>) — Whether the function is aggregate.</li> </ul> <h2 id=system-graphite-retentions>système.graphite_retentions<a class=headerlink href=../amp/#system-graphite-retentions title="Permanent link"> </a></h2> <p>Contient des informations sur les paramètres <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-graphite>graphite_rollup</a> qui sont utilisés dans les tableaux avec <a href=../../../engines/table-engines/mergetree-family/graphitemergetree/amp/ >* GraphiteMergeTree</a> moteur.</p> <p>Colonne:</p> <ul> <li><code class=syntax>config_name</code> (Chaîne) - <code class=syntax>graphite_rollup</code> nom du paramètre.</li> <li><code class=syntax>regexp</code> (Chaîne) - un modèle pour le nom de la métrique.</li> <li><code class=syntax>function</code> (Chaîne) - le nom de la fonction d'agrégation.</li> <li><code class=syntax>age</code> (UInt64) - l'âge minimum des données en secondes.</li> <li><code class=syntax>precision</code> (UInt64) - comment définir précisément l'âge des données en secondes.</li> <li><code class=syntax>priority</code> (UInt16) - priorité de motif.</li> <li><code class=syntax>is_default</code> (UInt8) - indique si le motif est la valeur par défaut.</li> <li><code class=syntax>Tables.database</code> (Array (String)) - tableau de noms de tables de base de données qui utilisent <code class=syntax>config_name</code> paramètre.</li> <li><code class=syntax>Tables.table</code> (Array (String)) - tableau de noms de tables qui utilisent <code class=syntax>config_name</code> paramètre.</li> </ul> <h2 id=system-merges>système.fusionner<a class=headerlink href=../amp/#system-merges title="Permanent link"> </a></h2> <p>Contient des informations sur les fusions et les mutations de pièces actuellement en cours pour les tables de la famille MergeTree.</p> <p>Colonne:</p> <ul> <li><code class=syntax>database</code> (String) — The name of the database the table is in.</li> <li><code class=syntax>table</code> (String) — Table name.</li> <li><code class=syntax>elapsed</code> (Float64) — The time elapsed (in seconds) since the merge started.</li> <li><code class=syntax>progress</code> (Float64) — The percentage of completed work from 0 to 1.</li> <li><code class=syntax>num_parts</code> (UInt64) — The number of pieces to be merged.</li> <li><code class=syntax>result_part_name</code> (String) — The name of the part that will be formed as the result of merging.</li> <li><code class=syntax>is_mutation</code> (UInt8) - 1 si ce processus est une mutation partielle.</li> <li><code class=syntax>total_size_bytes_compressed</code> (UInt64) — The total size of the compressed data in the merged chunks.</li> <li><code class=syntax>total_size_marks</code> (UInt64) — The total number of marks in the merged parts.</li> <li><code class=syntax>bytes_read_uncompressed</code> (UInt64) — Number of bytes read, uncompressed.</li> <li><code class=syntax>rows_read</code> (UInt64) — Number of rows read.</li> <li><code class=syntax>bytes_written_uncompressed</code> (UInt64) — Number of bytes written, uncompressed.</li> <li><code class=syntax>rows_written</code> (UInt64) — Number of rows written.</li> </ul> <h2 id=system_tables-metrics>système.métrique<a class=headerlink href=../amp/#system_tables-metrics title="Permanent link"> </a></h2> <p>Contient des mesures qui peuvent être calculées instantanément, ou ont une valeur actuelle. Par exemple, le nombre de requêtes traitées ou en cours réplique de retard. Ce tableau est toujours à jour.</p> <p>Colonne:</p> <ul> <li><code class=syntax>metric</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Metric name.</li> <li><code class=syntax>value</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a>) — Metric value.</li> <li><code class=syntax>description</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Metric description.</li> </ul> <p>La liste des mesures que vous pouvez trouver dans le <a href=https://github.com/ClickHouse/ClickHouse/blob/master/src/Common/CurrentMetrics.cpp rel="external nofollow noreferrer" target=_blank>src / Common / CurrentMetrics.rpc</a> fichier source de ClickHouse.</p> <p><strong>Exemple</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>metrics</span> <span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─metric─────────────────────┬─value─┬─description──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ Query                      │     1 │ Number of executing queries                                                                                                                                                                      │
│ Merge                      │     0 │ Number of executing background merges                                                                                                                                                            │
│ PartMutation               │     0 │ Number of mutations (ALTER DELETE/UPDATE)                                                                                                                                                        │
│ ReplicatedFetch            │     0 │ Number of data parts being fetched from replicas                                                                                                                                                │
│ ReplicatedSend             │     0 │ Number of data parts being sent to replicas                                                                                                                                                      │
│ ReplicatedChecks           │     0 │ Number of data parts checking for consistency                                                                                                                                                    │
│ BackgroundPoolTask         │     0 │ Number of active tasks in BackgroundProcessingPool (merges, mutations, fetches, or replication queue bookkeeping)                                                                                │
│ BackgroundSchedulePoolTask │     0 │ Number of active tasks in BackgroundSchedulePool. This pool is used for periodic ReplicatedMergeTree tasks, like cleaning old data parts, altering data parts, replica re-initialization, etc.   │
│ DiskSpaceReservedForMerge  │     0 │ Disk space reserved for currently running background merges. It is slightly more than the total size of currently merging parts.                                                                     │
│ DistributedSend            │     0 │ Number of connections to remote servers sending data that was INSERTed into Distributed tables. Both synchronous and asynchronous mode.                                                          │
└────────────────────────────┴───────┴──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <p><strong>Voir Aussi</strong></p> <ul> <li><a href=../amp/#system_tables-asynchronous_metrics>système.asynchronous_metrics</a> — Contains periodically calculated metrics.</li> <li><a href=../amp/#system_tables-events>système.événement</a> — Contains a number of events that occurred.</li> <li><a href=../amp/#system_tables-metric_log>système.metric_log</a> — Contains a history of metrics values from tables <code class=syntax>system.metrics</code> и <code class=syntax>system.events</code>.</li> <li><a href=../../monitoring/amp/ >Surveiller</a> — Base concepts of ClickHouse monitoring.</li> </ul> <h2 id=system_tables-metric_log>système.metric_log<a class=headerlink href=../amp/#system_tables-metric_log title="Permanent link"> </a></h2> <p>Contient l'historique des valeurs de métriques des tables <code class=syntax>system.metrics</code> et <code class=syntax>system.events</code> périodiquement vidé sur le disque.<br> Pour activer la collection d'historique des métriques <code class=syntax>system.metric_log</code>, créer <code class=syntax>/etc/clickhouse-server/config.d/metric_log.xml</code> avec le contenu suivant:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=nt>&lt;yandex&gt;</span>
    <span class=nt>&lt;metric_log&gt;</span>
        <span class=nt>&lt;database&gt;</span>system<span class=nt>&lt;/database&gt;</span>
        <span class=nt>&lt;table&gt;</span>metric_log<span class=nt>&lt;/table&gt;</span>
        <span class=nt>&lt;flush_interval_milliseconds&gt;</span>7500<span class=nt>&lt;/flush_interval_milliseconds&gt;</span>
        <span class=nt>&lt;collect_interval_milliseconds&gt;</span>1000<span class=nt>&lt;/collect_interval_milliseconds&gt;</span>
    <span class=nt>&lt;/metric_log&gt;</span>
<span class=nt>&lt;/yandex&gt;</span>
</code></pre></div> <p><strong>Exemple</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>metric_log</span> <span class=k>LIMIT</span> <span class=mi>1</span> <span class=n>FORMAT</span> <span class=n>Vertical</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
event_date:                                                 2020-02-18
event_time:                                                 2020-02-18 07:15:33
milliseconds:                                               554
ProfileEvent_Query:                                         0
ProfileEvent_SelectQuery:                                   0
ProfileEvent_InsertQuery:                                   0
ProfileEvent_FileOpen:                                      0
ProfileEvent_Seek:                                          0
ProfileEvent_ReadBufferFromFileDescriptorRead:              1
ProfileEvent_ReadBufferFromFileDescriptorReadFailed:        0
ProfileEvent_ReadBufferFromFileDescriptorReadBytes:         0
ProfileEvent_WriteBufferFromFileDescriptorWrite:            1
ProfileEvent_WriteBufferFromFileDescriptorWriteFailed:      0
ProfileEvent_WriteBufferFromFileDescriptorWriteBytes:       56
...
CurrentMetric_Query:                                        0
CurrentMetric_Merge:                                        0
CurrentMetric_PartMutation:                                 0
CurrentMetric_ReplicatedFetch:                              0
CurrentMetric_ReplicatedSend:                               0
CurrentMetric_ReplicatedChecks:                             0
...
</code></pre></div> <p><strong>Voir aussi</strong></p> <ul> <li><a href=../amp/#system_tables-asynchronous_metrics>système.asynchronous_metrics</a> — Contains periodically calculated metrics.</li> <li><a href=../amp/#system_tables-events>système.événement</a> — Contains a number of events that occurred.</li> <li><a href=../amp/#system_tables-metrics>système.métrique</a> — Contains instantly calculated metrics.</li> <li><a href=../../monitoring/amp/ >Surveiller</a> — Base concepts of ClickHouse monitoring.</li> </ul> <h2 id=system-numbers>système.nombre<a class=headerlink href=../amp/#system-numbers title="Permanent link"> </a></h2> <p>Cette table contient une seule colonne UInt64 nommée ‘number’ qui contient presque tous les nombres naturels à partir de zéro.<br> Vous pouvez utiliser cette table pour les tests, ou si vous avez besoin de faire une recherche de force brute.<br> Les lectures de cette table ne sont pas parallélisées.</p> <h2 id=system-numbers-mt>système.numbers_mt<a class=headerlink href=../amp/#system-numbers-mt title="Permanent link"> </a></h2> <p>Le même que ‘system.numbers’ mais les lectures sont parallélisées. Les nombres peuvent être retournés dans n'importe quel ordre.<br> Utilisé pour les tests.</p> <h2 id=system-one>système.un<a class=headerlink href=../amp/#system-one title="Permanent link"> </a></h2> <p>Cette table contient une seule ligne avec un ‘dummy’ Colonne UInt8 contenant la valeur 0.<br> Cette table est utilisée si une requête SELECT ne spécifie pas la clause FROM.<br> Ceci est similaire à la table double trouvée dans d'autres SGBD.</p> <h2 id=system_tables-parts>système.partie<a class=headerlink href=../amp/#system_tables-parts title="Permanent link"> </a></h2> <p>Contient des informations sur les parties de <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/ >MergeTree</a> table.</p> <p>Chaque ligne décrit une partie des données.</p> <p>Colonne:</p> <ul> <li> <p><code class=syntax>partition</code> (String) – The partition name. To learn what a partition is, see the description of the <a href=../../../sql-reference/statements/alter/amp/#query_language_queries_alter>ALTER</a> requête.</p> <p>Format:</p> <ul> <li><code class=syntax>YYYYMM</code> pour le partitionnement automatique par mois.</li> <li><code class=syntax>any_string</code> lors du partitionnement manuel.</li> </ul> </li> <li> <p><code class=syntax>name</code> (<code class=syntax>String</code>) – Name of the data part.</p> </li> <li> <p><code class=syntax>active</code> (<code class=syntax>UInt8</code>) – Flag that indicates whether the data part is active. If a data part is active, it's used in a table. Otherwise, it's deleted. Inactive data parts remain after merging.</p> </li> <li> <p><code class=syntax>marks</code> (<code class=syntax>UInt64</code>) – The number of marks. To get the approximate number of rows in a data part, multiply <code class=syntax>marks</code> par la granularité d'index (généralement 8192) (cet indice ne fonctionne pas pour la granularité adaptative).</p> </li> <li> <p><code class=syntax>rows</code> (<code class=syntax>UInt64</code>) – The number of rows.</p> </li> <li> <p><code class=syntax>bytes_on_disk</code> (<code class=syntax>UInt64</code>) – Total size of all the data part files in bytes.</p> </li> <li> <p><code class=syntax>data_compressed_bytes</code> (<code class=syntax>UInt64</code>) – Total size of compressed data in the data part. All the auxiliary files (for example, files with marks) are not included.</p> </li> <li> <p><code class=syntax>data_uncompressed_bytes</code> (<code class=syntax>UInt64</code>) – Total size of uncompressed data in the data part. All the auxiliary files (for example, files with marks) are not included.</p> </li> <li> <p><code class=syntax>marks_bytes</code> (<code class=syntax>UInt64</code>) – The size of the file with marks.</p> </li> <li> <p><code class=syntax>modification_time</code> (<code class=syntax>DateTime</code>) – The time the directory with the data part was modified. This usually corresponds to the time of data part creation.|</p> </li> <li> <p><code class=syntax>remove_time</code> (<code class=syntax>DateTime</code>) – The time when the data part became inactive.</p> </li> <li> <p><code class=syntax>refcount</code> (<code class=syntax>UInt32</code>) – The number of places where the data part is used. A value greater than 2 indicates that the data part is used in queries or merges.</p> </li> <li> <p><code class=syntax>min_date</code> (<code class=syntax>Date</code>) – The minimum value of the date key in the data part.</p> </li> <li> <p><code class=syntax>max_date</code> (<code class=syntax>Date</code>) – The maximum value of the date key in the data part.</p> </li> <li> <p><code class=syntax>min_time</code> (<code class=syntax>DateTime</code>) – The minimum value of the date and time key in the data part.</p> </li> <li> <p><code class=syntax>max_time</code>(<code class=syntax>DateTime</code>) – The maximum value of the date and time key in the data part.</p> </li> <li> <p><code class=syntax>partition_id</code> (<code class=syntax>String</code>) – ID of the partition.</p> </li> <li> <p><code class=syntax>min_block_number</code> (<code class=syntax>UInt64</code>) – The minimum number of data parts that make up the current part after merging.</p> </li> <li> <p><code class=syntax>max_block_number</code> (<code class=syntax>UInt64</code>) – The maximum number of data parts that make up the current part after merging.</p> </li> <li> <p><code class=syntax>level</code> (<code class=syntax>UInt32</code>) – Depth of the merge tree. Zero means that the current part was created by insert rather than by merging other parts.</p> </li> <li> <p><code class=syntax>data_version</code> (<code class=syntax>UInt64</code>) – Number that is used to determine which mutations should be applied to the data part (mutations with a version higher than <code class=syntax>data_version</code>).</p> </li> <li> <p><code class=syntax>primary_key_bytes_in_memory</code> (<code class=syntax>UInt64</code>) – The amount of memory (in bytes) used by primary key values.</p> </li> <li> <p><code class=syntax>primary_key_bytes_in_memory_allocated</code> (<code class=syntax>UInt64</code>) – The amount of memory (in bytes) reserved for primary key values.</p> </li> <li> <p><code class=syntax>is_frozen</code> (<code class=syntax>UInt8</code>) – Flag that shows that a partition data backup exists. 1, the backup exists. 0, the backup doesn't exist. For more details, see <a href=../../../sql-reference/statements/alter/amp/#alter_freeze-partition>FREEZE PARTITION</a></p> </li> <li> <p><code class=syntax>database</code> (<code class=syntax>String</code>) – Name of the database.</p> </li> <li> <p><code class=syntax>table</code> (<code class=syntax>String</code>) – Name of the table.</p> </li> <li> <p><code class=syntax>engine</code> (<code class=syntax>String</code>) – Name of the table engine without parameters.</p> </li> <li> <p><code class=syntax>path</code> (<code class=syntax>String</code>) – Absolute path to the folder with data part files.</p> </li> <li> <p><code class=syntax>disk</code> (<code class=syntax>String</code>) – Name of a disk that stores the data part.</p> </li> <li> <p><code class=syntax>hash_of_all_files</code> (<code class=syntax>String</code>) – <a href=../../../sql-reference/functions/hash-functions/amp/#hash_functions-siphash128>sipHash128</a> de fichiers compressés.</p> </li> <li> <p><code class=syntax>hash_of_uncompressed_files</code> (<code class=syntax>String</code>) – <a href=../../../sql-reference/functions/hash-functions/amp/#hash_functions-siphash128>sipHash128</a> de fichiers non compressés (fichiers avec des marques, fichier d'index, etc.).</p> </li> <li> <p><code class=syntax>uncompressed_hash_of_compressed_files</code> (<code class=syntax>String</code>) – <a href=../../../sql-reference/functions/hash-functions/amp/#hash_functions-siphash128>sipHash128</a> des données dans les fichiers compressés comme s'ils étaient non compressé.</p> </li> <li> <p><code class=syntax>bytes</code> (<code class=syntax>UInt64</code>) – Alias for <code class=syntax>bytes_on_disk</code>.</p> </li> <li> <p><code class=syntax>marks_size</code> (<code class=syntax>UInt64</code>) – Alias for <code class=syntax>marks_bytes</code>.</p> </li> </ul> <h2 id=system_tables-part-log>système.part_log<a class=headerlink href=../amp/#system_tables-part-log title="Permanent link"> </a></h2> <p>Le <code class=syntax>system.part_log</code> la table est créée uniquement si <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-part-log>part_log</a> serveur paramètre est spécifié.</p> <p>Ce tableau contient des informations sur les événements survenus avec <a href=../../../engines/table-engines/mergetree-family/custom-partitioning-key/amp/ >les parties de données</a> dans le <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/ >MergeTree</a> table de famille, telles que l'ajout ou la fusion de données.</p> <p>Le <code class=syntax>system.part_log</code> le tableau contient les colonnes suivantes:</p> <ul> <li><code class=syntax>event_type</code> (Enum) — Type of the event that occurred with the data part. Can have one of the following values:<ul> <li><code class=syntax>NEW_PART</code> — Inserting of a new data part.</li> <li><code class=syntax>MERGE_PARTS</code> — Merging of data parts.</li> <li><code class=syntax>DOWNLOAD_PART</code> — Downloading a data part.</li> <li><code class=syntax>REMOVE_PART</code> — Removing or detaching a data part using <a href=../../../sql-reference/statements/alter/amp/#alter_detach-partition>DETACH PARTITION</a>.</li> <li><code class=syntax>MUTATE_PART</code> — Mutating of a data part.</li> <li><code class=syntax>MOVE_PART</code> — Moving the data part from the one disk to another one.</li> </ul> </li> <li><code class=syntax>event_date</code> (Date) — Event date.</li> <li><code class=syntax>event_time</code> (DateTime) — Event time.</li> <li><code class=syntax>duration_ms</code> (UInt64) — Duration.</li> <li><code class=syntax>database</code> (String) — Name of the database the data part is in.</li> <li><code class=syntax>table</code> (String) — Name of the table the data part is in.</li> <li><code class=syntax>part_name</code> (String) — Name of the data part.</li> <li><code class=syntax>partition_id</code> (String) — ID of the partition that the data part was inserted to. The column takes the ‘all’ si le partitionnement est par <code class=syntax>tuple()</code>.</li> <li><code class=syntax>rows</code> (UInt64) — The number of rows in the data part.</li> <li><code class=syntax>size_in_bytes</code> (UInt64) — Size of the data part in bytes.</li> <li><code class=syntax>merged_from</code> (Array(String)) — An array of names of the parts which the current part was made up from (after the merge).</li> <li><code class=syntax>bytes_uncompressed</code> (UInt64) — Size of uncompressed bytes.</li> <li><code class=syntax>read_rows</code> (UInt64) — The number of rows was read during the merge.</li> <li><code class=syntax>read_bytes</code> (UInt64) — The number of bytes was read during the merge.</li> <li><code class=syntax>error</code> (UInt16) — The code number of the occurred error.</li> <li><code class=syntax>exception</code> (String) — Text message of the occurred error.</li> </ul> <p>Le <code class=syntax>system.part_log</code> la table est créée après la première insertion de données <code class=syntax>MergeTree</code> table.</p> <h2 id=system_tables-processes>système.processus<a class=headerlink href=../amp/#system_tables-processes title="Permanent link"> </a></h2> <p>Cette table système est utilisée pour implémenter <code class=syntax>SHOW PROCESSLIST</code> requête.</p> <p>Colonne:</p> <ul> <li><code class=syntax>user</code> (String) – The user who made the query. Keep in mind that for distributed processing, queries are sent to remote servers under the <code class=syntax>default</code> utilisateur. Le champ contient le nom d'utilisateur pour une requête spécifique, pas pour une requête que cette requête lancée.</li> <li><code class=syntax>address</code> (String) – The IP address the request was made from. The same for distributed processing. To track where a distributed query was originally made from, look at <code class=syntax>system.processes</code> sur le serveur du demandeur de requête.</li> <li><code class=syntax>elapsed</code> (Float64) – The time in seconds since request execution started.</li> <li><code class=syntax>rows_read</code> (UInt64) – The number of rows read from the table. For distributed processing, on the requestor server, this is the total for all remote servers.</li> <li><code class=syntax>bytes_read</code> (UInt64) – The number of uncompressed bytes read from the table. For distributed processing, on the requestor server, this is the total for all remote servers.</li> <li><code class=syntax>total_rows_approx</code> (UInt64) – The approximation of the total number of rows that should be read. For distributed processing, on the requestor server, this is the total for all remote servers. It can be updated during request processing, when new sources to process become known.</li> <li><code class=syntax>memory_usage</code> (UInt64) – Amount of RAM the request uses. It might not include some types of dedicated memory. See the <a href=../../settings/query-complexity/amp/#settings_max_memory_usage>max_memory_usage</a> paramètre.</li> <li><code class=syntax>query</code> (String) – The query text. For <code class=syntax>INSERT</code> il n'inclut pas les données à insérer.</li> <li><code class=syntax>query_id</code> (String) – Query ID, if defined.</li> </ul> <h2 id=system_tables-text_log>système.text_log<a class=headerlink href=../amp/#system_tables-text_log title="Permanent link"> </a></h2> <p>Contient des entrées de journalisation. Niveau de journalisation qui va à cette table peut être limité <code class=syntax>text_log.level</code> paramètre de serveur.</p> <p>Colonne:</p> <ul> <li><code class=syntax>event_date</code> (<code class=syntax>Date</code>) - Date de l'entrée.</li> <li><code class=syntax>event_time</code> (<code class=syntax>DateTime</code>) - Temps de l'entrée.</li> <li><code class=syntax>microseconds</code> (<code class=syntax>UInt32</code>) - Microsecondes de l'entrée.</li> <li><code class=syntax>thread_name</code> (String) — Name of the thread from which the logging was done.</li> <li><code class=syntax>thread_id</code> (UInt64) — OS thread ID.</li> <li><code class=syntax>level</code> (<code class=syntax>Enum8</code>) - Niveau d'entrée.<ul> <li><code class=syntax>'Fatal' = 1</code></li> <li><code class=syntax>'Critical' = 2</code></li> <li><code class=syntax>'Error' = 3</code></li> <li><code class=syntax>'Warning' = 4</code></li> <li><code class=syntax>'Notice' = 5</code></li> <li><code class=syntax>'Information' = 6</code></li> <li><code class=syntax>'Debug' = 7</code></li> <li><code class=syntax>'Trace' = 8</code></li> </ul> </li> <li><code class=syntax>query_id</code> (<code class=syntax>String</code>)- ID de la requête.</li> <li><code class=syntax>logger_name</code> (<code class=syntax>LowCardinality(String)</code>) - Name of the logger (i.e. <code class=syntax>DDLWorker</code>)</li> <li><code class=syntax>message</code> (<code class=syntax>String</code>) - Le message lui-même.</li> <li><code class=syntax>revision</code> (<code class=syntax>UInt32</code>)- Révision ClickHouse.</li> <li><code class=syntax>source_file</code> (<code class=syntax>LowCardinality(String)</code>)- Fichier Source à partir duquel la journalisation a été effectuée.</li> <li><code class=syntax>source_line</code> (<code class=syntax>UInt64</code>)- Ligne Source à partir de laquelle la journalisation a été effectuée.</li> </ul> <h2 id=system_tables-query_log>système.query_log<a class=headerlink href=../amp/#system_tables-query_log title="Permanent link"> </a></h2> <p>Contient des informations sur l'exécution de requêtes. Pour chaque requête, vous pouvez voir l'Heure de début du traitement, la durée du traitement, les messages d'erreur et d'autres informations.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Note</p> <p>Le tableau ne contient pas les données d'entrée pour <code class=syntax>INSERT</code> requête.</p> </div> <p>Clickhouse crée cette table uniquement si <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-query-log>query_log</a> serveur paramètre est spécifié. Ce paramètre définit les règles de journalisation, tels que l'intervalle d'enregistrement ou le nom de la table, la requête sera connecté.</p> <p>Pour activer la journalisation des requêtes, définissez <a href=../../settings/settings/amp/#settings-log-queries>log_queries</a> paramètre 1. Pour plus de détails, voir le <a href=../../settings/settings/amp/ >Paramètre</a> section.</p> <p>Le <code class=syntax>system.query_log</code> table enregistre deux types de requêtes:</p> <ol> <li>Requêtes initiales qui ont été exécutées directement par le client.</li> <li>Requêtes enfants initiées par d'autres requêtes (pour l'exécution de requêtes distribuées). Pour ces types de requêtes, des informations sur les requêtes parentes sont affichées dans <code class=syntax>initial_*</code> colonne.</li> </ol> <p>Colonne:</p> <ul> <li><code class=syntax>type</code> (<code class=syntax>Enum8</code>) — Type of event that occurred when executing the query. Values:<ul> <li><code class=syntax>'QueryStart' = 1</code> — Successful start of query execution.</li> <li><code class=syntax>'QueryFinish' = 2</code> — Successful end of query execution.</li> <li><code class=syntax>'ExceptionBeforeStart' = 3</code> — Exception before the start of query execution.</li> <li><code class=syntax>'ExceptionWhileProcessing' = 4</code> — Exception during the query execution.</li> </ul> </li> <li><code class=syntax>event_date</code> (Date) — Query starting date.</li> <li><code class=syntax>event_time</code> (DateTime) — Query starting time.</li> <li><code class=syntax>query_start_time</code> (DateTime) — Start time of query execution.</li> <li><code class=syntax>query_duration_ms</code> (UInt64) — Duration of query execution.</li> <li><code class=syntax>read_rows</code> (UInt64) — Number of read rows.</li> <li><code class=syntax>read_bytes</code> (UInt64) — Number of read bytes.</li> <li><code class=syntax>written_rows</code> (UInt64) — For <code class=syntax>INSERT</code> des requêtes, le nombre de lignes. Pour les autres requêtes, la valeur de la colonne est 0.</li> <li><code class=syntax>written_bytes</code> (UInt64) — For <code class=syntax>INSERT</code> des requêtes, le nombre d'octets écrits. Pour les autres requêtes, la valeur de la colonne est 0.</li> <li><code class=syntax>result_rows</code> (UInt64) — Number of rows in the result.</li> <li><code class=syntax>result_bytes</code> (UInt64) — Number of bytes in the result.</li> <li><code class=syntax>memory_usage</code> (UInt64) — Memory consumption by the query.</li> <li><code class=syntax>query</code> (String) — Query string.</li> <li><code class=syntax>exception</code> (String) — Exception message.</li> <li><code class=syntax>stack_trace</code> (String) — Stack trace (a list of methods called before the error occurred). An empty string, if the query is completed successfully.</li> <li><code class=syntax>is_initial_query</code> (UInt8) — Query type. Possible values:<ul> <li>1 — Query was initiated by the client.</li> <li>0 — Query was initiated by another query for distributed query execution.</li> </ul> </li> <li><code class=syntax>user</code> (String) — Name of the user who initiated the current query.</li> <li><code class=syntax>query_id</code> (String) — ID of the query.</li> <li><code class=syntax>address</code> (IPv6) — IP address that was used to make the query.</li> <li><code class=syntax>port</code> (UInt16) — The client port that was used to make the query.</li> <li><code class=syntax>initial_user</code> (String) — Name of the user who ran the initial query (for distributed query execution).</li> <li><code class=syntax>initial_query_id</code> (String) — ID of the initial query (for distributed query execution).</li> <li><code class=syntax>initial_address</code> (IPv6) — IP address that the parent query was launched from.</li> <li><code class=syntax>initial_port</code> (UInt16) — The client port that was used to make the parent query.</li> <li><code class=syntax>interface</code> (UInt8) — Interface that the query was initiated from. Possible values:<ul> <li>1 — TCP.</li> <li>2 — HTTP.</li> </ul> </li> <li><code class=syntax>os_user</code> (String) — OS's username who runs <a href=../../../interfaces/cli/amp/ >clickhouse-client</a>.</li> <li><code class=syntax>client_hostname</code> (String) — Hostname of the client machine where the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP est exécuté.</li> <li><code class=syntax>client_name</code> (String) — The <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre nom de client TCP.</li> <li><code class=syntax>client_revision</code> (UInt32) — Revision of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP.</li> <li><code class=syntax>client_version_major</code> (UInt32) — Major version of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP.</li> <li><code class=syntax>client_version_minor</code> (UInt32) — Minor version of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP.</li> <li><code class=syntax>client_version_patch</code> (UInt32) — Patch component of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou une autre version du client TCP.</li> <li><code class=syntax>http_method</code> (UInt8) — HTTP method that initiated the query. Possible values:<ul> <li>0 — The query was launched from the TCP interface.</li> <li>1 — <code class=syntax>GET</code> la méthode a été utilisée.</li> <li>2 — <code class=syntax>POST</code> la méthode a été utilisée.</li> </ul> </li> <li><code class=syntax>http_user_agent</code> (String) — The <code class=syntax>UserAgent</code> en-tête passé dans la requête HTTP.</li> <li><code class=syntax>quota_key</code> (String) — The “quota key” spécifié dans le <a href=../../quotas/amp/ >quota</a> (voir <code class=syntax>keyed</code>).</li> <li><code class=syntax>revision</code> (UInt32) — ClickHouse revision.</li> <li><code class=syntax>thread_numbers</code> (Array(UInt32)) — Number of threads that are participating in query execution.</li> <li><code class=syntax>ProfileEvents.Names</code> (Array(String)) — Counters that measure different metrics. The description of them could be found in the table <a href=../amp/#system_tables-events>système.événement</a></li> <li><code class=syntax>ProfileEvents.Values</code> (Array(UInt64)) — Values of metrics that are listed in the <code class=syntax>ProfileEvents.Names</code> colonne.</li> <li><code class=syntax>Settings.Names</code> (Array(String)) — Names of settings that were changed when the client ran the query. To enable logging changes to settings, set the <code class=syntax>log_query_settings</code> paramètre 1.</li> <li><code class=syntax>Settings.Values</code> (Array(String)) — Values of settings that are listed in the <code class=syntax>Settings.Names</code> colonne.</li> </ul> <p>Chaque requête crée une ou deux lignes dans le <code class=syntax>query_log</code> le tableau, en fonction de l'état de la requête:</p> <ol> <li>Si l'exécution de la requête est réussie, deux événements de type 1 et 2 sont créés (voir <code class=syntax>type</code> colonne).</li> <li>Si une erreur s'est produite pendant le traitement de la requête, deux événements avec les types 1 et 4 sont créés.</li> <li>Si une erreur s'est produite avant le lancement de la requête, un seul événement de type 3 est créé.</li> </ol> <p>Par défaut, les journaux sont ajoutés à la table à des intervalles de 7,5 secondes. Vous pouvez définir cet intervalle dans la <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-query-log>query_log</a> configuration du serveur (voir <code class=syntax>flush_interval_milliseconds</code> paramètre). Pour vider les journaux de force du tampon mémoire dans la table, utilisez le <code class=syntax>SYSTEM FLUSH LOGS</code> requête.</p> <p>Lorsque la table est supprimée manuellement, il sera automatiquement créé à la volée. Notez que tous les précédents journaux seront supprimés.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Note</p> <p>La période de stockage des journaux est illimitée. Les journaux ne sont pas automatiquement supprimés de la table. Vous devez organiser vous-même la suppression des journaux obsolètes.</p> </div> <p>Vous pouvez spécifier une clé de partitionnement arbitraire pour <code class=syntax>system.query_log</code> la table dans le <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-query-log>query_log</a> configuration du serveur (voir <code class=syntax>partition_by</code> paramètre).</p> <h2 id=system_tables-query-thread-log>système.query_thread_log<a class=headerlink href=../amp/#system_tables-query-thread-log title="Permanent link"> </a></h2> <p>La table contient des informations sur chaque thread d'exécution de requête.</p> <p>Clickhouse crée cette table uniquement si <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-query-thread-log>query_thread_log</a> serveur paramètre est spécifié. Ce paramètre définit les règles de journalisation, tels que l'intervalle d'enregistrement ou le nom de la table, la requête sera connecté.</p> <p>Pour activer la journalisation des requêtes, définissez <a href=../../settings/settings/amp/#settings-log-query-threads>log_query_threads</a> paramètre 1. Pour plus de détails, voir le <a href=../../settings/settings/amp/ >Paramètre</a> section.</p> <p>Colonne:</p> <ul> <li><code class=syntax>event_date</code> (Date) — the date when the thread has finished execution of the query.</li> <li><code class=syntax>event_time</code> (DateTime) — the date and time when the thread has finished execution of the query.</li> <li><code class=syntax>query_start_time</code> (DateTime) — Start time of query execution.</li> <li><code class=syntax>query_duration_ms</code> (UInt64) — Duration of query execution.</li> <li><code class=syntax>read_rows</code> (UInt64) — Number of read rows.</li> <li><code class=syntax>read_bytes</code> (UInt64) — Number of read bytes.</li> <li><code class=syntax>written_rows</code> (UInt64) — For <code class=syntax>INSERT</code> des requêtes, le nombre de lignes. Pour les autres requêtes, la valeur de la colonne est 0.</li> <li><code class=syntax>written_bytes</code> (UInt64) — For <code class=syntax>INSERT</code> des requêtes, le nombre d'octets écrits. Pour les autres requêtes, la valeur de la colonne est 0.</li> <li><code class=syntax>memory_usage</code> (Int64) — The difference between the amount of allocated and freed memory in context of this thread.</li> <li><code class=syntax>peak_memory_usage</code> (Int64) — The maximum difference between the amount of allocated and freed memory in context of this thread.</li> <li><code class=syntax>thread_name</code> (String) — Name of the thread.</li> <li><code class=syntax>thread_number</code> (UInt32) — Internal thread ID.</li> <li><code class=syntax>os_thread_id</code> (Int32) — OS thread ID.</li> <li><code class=syntax>master_thread_id</code> (UInt64) — OS initial ID of initial thread.</li> <li><code class=syntax>query</code> (String) — Query string.</li> <li><code class=syntax>is_initial_query</code> (UInt8) — Query type. Possible values:<ul> <li>1 — Query was initiated by the client.</li> <li>0 — Query was initiated by another query for distributed query execution.</li> </ul> </li> <li><code class=syntax>user</code> (String) — Name of the user who initiated the current query.</li> <li><code class=syntax>query_id</code> (String) — ID of the query.</li> <li><code class=syntax>address</code> (IPv6) — IP address that was used to make the query.</li> <li><code class=syntax>port</code> (UInt16) — The client port that was used to make the query.</li> <li><code class=syntax>initial_user</code> (String) — Name of the user who ran the initial query (for distributed query execution).</li> <li><code class=syntax>initial_query_id</code> (String) — ID of the initial query (for distributed query execution).</li> <li><code class=syntax>initial_address</code> (IPv6) — IP address that the parent query was launched from.</li> <li><code class=syntax>initial_port</code> (UInt16) — The client port that was used to make the parent query.</li> <li><code class=syntax>interface</code> (UInt8) — Interface that the query was initiated from. Possible values:<ul> <li>1 — TCP.</li> <li>2 — HTTP.</li> </ul> </li> <li><code class=syntax>os_user</code> (String) — OS's username who runs <a href=../../../interfaces/cli/amp/ >clickhouse-client</a>.</li> <li><code class=syntax>client_hostname</code> (String) — Hostname of the client machine where the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP est exécuté.</li> <li><code class=syntax>client_name</code> (String) — The <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre nom de client TCP.</li> <li><code class=syntax>client_revision</code> (UInt32) — Revision of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP.</li> <li><code class=syntax>client_version_major</code> (UInt32) — Major version of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP.</li> <li><code class=syntax>client_version_minor</code> (UInt32) — Minor version of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou un autre client TCP.</li> <li><code class=syntax>client_version_patch</code> (UInt32) — Patch component of the <a href=../../../interfaces/cli/amp/ >clickhouse-client</a> ou une autre version du client TCP.</li> <li><code class=syntax>http_method</code> (UInt8) — HTTP method that initiated the query. Possible values:<ul> <li>0 — The query was launched from the TCP interface.</li> <li>1 — <code class=syntax>GET</code> la méthode a été utilisée.</li> <li>2 — <code class=syntax>POST</code> la méthode a été utilisée.</li> </ul> </li> <li><code class=syntax>http_user_agent</code> (String) — The <code class=syntax>UserAgent</code> en-tête passé dans la requête HTTP.</li> <li><code class=syntax>quota_key</code> (String) — The “quota key” spécifié dans le <a href=../../quotas/amp/ >quota</a> (voir <code class=syntax>keyed</code>).</li> <li><code class=syntax>revision</code> (UInt32) — ClickHouse revision.</li> <li><code class=syntax>ProfileEvents.Names</code> (Array(String)) — Counters that measure different metrics for this thread. The description of them could be found in the table <a href=../amp/#system_tables-events>système.événement</a></li> <li><code class=syntax>ProfileEvents.Values</code> (Array(UInt64)) — Values of metrics for this thread that are listed in the <code class=syntax>ProfileEvents.Names</code> colonne.</li> </ul> <p>Par défaut, les journaux sont ajoutés à la table à des intervalles de 7,5 secondes. Vous pouvez définir cet intervalle dans la <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-query-thread-log>query_thread_log</a> configuration du serveur (voir <code class=syntax>flush_interval_milliseconds</code> paramètre). Pour vider les journaux de force du tampon mémoire dans la table, utilisez le <code class=syntax>SYSTEM FLUSH LOGS</code> requête.</p> <p>Lorsque la table est supprimée manuellement, il sera automatiquement créé à la volée. Notez que tous les précédents journaux seront supprimés.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Note</p> <p>La période de stockage des journaux est illimitée. Les journaux ne sont pas automatiquement supprimés de la table. Vous devez organiser vous-même la suppression des journaux obsolètes.</p> </div> <p>Vous pouvez spécifier une clé de partitionnement arbitraire pour <code class=syntax>system.query_thread_log</code> la table dans le <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-query-thread-log>query_thread_log</a> configuration du serveur (voir <code class=syntax>partition_by</code> paramètre).</p> <h2 id=system_tables-trace_log>système.trace_log<a class=headerlink href=../amp/#system_tables-trace_log title="Permanent link"> </a></h2> <p>Contient des traces de pile collectées par le profileur de requête d'échantillonnage.</p> <p>Clickhouse crée cette table lorsque le <a href=../../server-configuration-parameters/settings/amp/#server_configuration_parameters-trace_log>trace_log</a> la section de configuration du serveur est définie. Aussi l' <a href=../../settings/settings/amp/#query_profiler_real_time_period_ns>query_profiler_real_time_period_ns</a> et <a href=../../settings/settings/amp/#query_profiler_cpu_time_period_ns>query_profiler_cpu_time_period_ns</a> paramètres doivent être définis.</p> <p>Pour analyser les journaux, utilisez <code class=syntax>addressToLine</code>, <code class=syntax>addressToSymbol</code> et <code class=syntax>demangle</code> fonctions d'introspection.</p> <p>Colonne:</p> <ul> <li> <p><code class=syntax>event_date</code> (<a href=../../../sql-reference/data-types/date/amp/ >Date</a>) — Date of sampling moment.</p> </li> <li> <p><code class=syntax>event_time</code> (<a href=../../../sql-reference/data-types/datetime/amp/ >DateTime</a>) — Timestamp of the sampling moment.</p> </li> <li> <p><code class=syntax>timestamp_ns</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Timestamp of the sampling moment in nanoseconds.</p> </li> <li> <p><code class=syntax>revision</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt32</a>) — ClickHouse server build revision.</p> <p>Lors de la connexion au serveur par <code class=syntax>clickhouse-client</code>, vous voyez la chaîne similaire à <code class=syntax>Connected to ClickHouse server version 19.18.1 revision 54429.</code>. Ce champ contient le <code class=syntax>revision</code> mais pas le <code class=syntax>version</code> d'un serveur.</p> </li> <li> <p><code class=syntax>timer_type</code> (<a href=../../../sql-reference/data-types/enum/amp/ >Enum8</a>) — Timer type:</p> <ul> <li><code class=syntax>Real</code> représente l'horloge murale.</li> <li><code class=syntax>CPU</code> représente le temps CPU.</li> </ul> </li> <li> <p><code class=syntax>thread_number</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt32</a>) — Thread identifier.</p> </li> <li> <p><code class=syntax>query_id</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Query identifier that can be used to get details about a query that was running from the <a href=../amp/#system_tables-query_log>query_log</a> système de table.</p> </li> <li> <p><code class=syntax>trace</code> (<a href=../../../sql-reference/data-types/array/amp/ >Tableau (UInt64)</a>) — Stack trace at the moment of sampling. Each element is a virtual memory address inside ClickHouse server process.</p> </li> </ul> <p><strong>Exemple</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>trace_log</span> <span class=k>LIMIT</span> <span class=mi>1</span> <span class=err>\</span><span class=k>G</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
event_date:    2019-11-15
event_time:    2019-11-15 15:09:38
revision:      54428
timer_type:    Real
thread_number: 48
query_id:      acc4d61f-5bd1-4a3e-bc91-2180be37c915
trace:         [94222141367858,94222152240175,94222152325351,94222152329944,94222152330796,94222151449980,94222144088167,94222151682763,94222144088167,94222151682763,94222144088167,94222144058283,94222144059248,94222091840750,94222091842302,94222091831228,94222189631488,140509950166747,140509942945935]
</code></pre></div> <h2 id=system_tables-replicas>système.réplique<a class=headerlink href=../amp/#system_tables-replicas title="Permanent link"> </a></h2> <p>Contient des informations et l'état des tables répliquées résidant sur le serveur local.<br> Ce tableau peut être utilisé pour la surveillance. La table contient une ligne pour chaque Répliqué* table.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>replicas</span>
<span class=k>WHERE</span> <span class=k>table</span> <span class=o>=</span> <span class=s1>'visits'</span>
<span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
database:                   merge
table:                      visits
engine:                     ReplicatedCollapsingMergeTree
is_leader:                  1
can_become_leader:          1
is_readonly:                0
is_session_expired:         0
future_parts:               1
parts_to_check:             0
zookeeper_path:             /clickhouse/tables/01-06/visits
replica_name:               example01-06-1.yandex.ru
replica_path:               /clickhouse/tables/01-06/visits/replicas/example01-06-1.yandex.ru
columns_version:            9
queue_size:                 1
inserts_in_queue:           0
merges_in_queue:            1
part_mutations_in_queue:    0
queue_oldest_time:          2020-02-20 08:34:30
inserts_oldest_time:        1970-01-01 00:00:00
merges_oldest_time:         2020-02-20 08:34:30
part_mutations_oldest_time: 1970-01-01 00:00:00
oldest_part_to_get:
oldest_part_to_merge_to:    20200220_20284_20840_7
oldest_part_to_mutate_to:
log_max_index:              596273
log_pointer:                596274
last_queue_update:          2020-02-20 08:34:32
absolute_delay:             0
total_replicas:             2
active_replicas:            2
</code></pre></div> <p>Colonne:</p> <ul> <li><code class=syntax>database</code> (<code class=syntax>String</code>) - Nom de base de données</li> <li><code class=syntax>table</code> (<code class=syntax>String</code>)- Nom de la Table</li> <li><code class=syntax>engine</code> (<code class=syntax>String</code>)- Nom du moteur de Table</li> <li><code class=syntax>is_leader</code> (<code class=syntax>UInt8</code>) - Si la réplique est le chef de file.<br> Une seule réplique à la fois peut être le leader. Le leader est responsable de la sélection des fusions d'arrière-plan à effectuer.<br> Notez que les Écritures peuvent être effectuées sur n'importe quel réplica disponible et ayant une session dans ZK, qu'il s'agisse d'un leader.</li> <li><code class=syntax>can_become_leader</code> (<code class=syntax>UInt8</code>)- Si la réplique peut être élue en tant que leader.</li> <li><code class=syntax>is_readonly</code> (<code class=syntax>UInt8</code>) - Si la réplique est en mode lecture seule.<br> Ce mode est activé si la configuration n'a pas de sections avec ZooKeeper, si une erreur inconnue s'est produite lors de la réinitialisation des sessions dans ZooKeeper et lors de la réinitialisation des sessions dans ZooKeeper.</li> <li><code class=syntax>is_session_expired</code> (<code class=syntax>UInt8</code>)- la session avec ZooKeeper a expiré. Fondamentalement le même que <code class=syntax>is_readonly</code>.</li> <li><code class=syntax>future_parts</code> (<code class=syntax>UInt32</code>)- Le nombre de parties de données qui apparaîtront à la suite D'insertions ou de fusions qui n'ont pas encore été effectuées.</li> <li><code class=syntax>parts_to_check</code> (<code class=syntax>UInt32</code>) - Le nombre de parties des données dans la file d'attente pour la vérification. Une pièce est placée dans la file d'attente de vérification s'il y a un soupçon qu'elle pourrait être endommagée.</li> <li><code class=syntax>zookeeper_path</code> (<code class=syntax>String</code>)- Chemin d'accès aux données de la table dans ZooKeeper.</li> <li><code class=syntax>replica_name</code> (<code class=syntax>String</code>) - Réplique nom de la Gardienne. Différentes répliques d'une même table ont des noms différents.</li> <li><code class=syntax>replica_path</code> (<code class=syntax>String</code>)- Chemin vers les données de réplique dans ZooKeeper. La même chose que la concaténation ‘zookeeper_path/replicas/replica_path’.</li> <li><code class=syntax>columns_version</code> (<code class=syntax>Int32</code>)- Numéro de Version de la structure de la table. Indique combien de fois ALTER a été effectué. Si les répliques ont des versions différentes, cela signifie que certaines répliques n'ont pas encore Toutes les modifications.</li> <li><code class=syntax>queue_size</code> (<code class=syntax>UInt32</code>),- La taille de la file d'attente pour les opérations en attente d'être exécuté. Les opérations comprennent l'insertion de blocs de données, les fusions et certaines autres actions. Il coïncide généralement avec <code class=syntax>future_parts</code>.</li> <li><code class=syntax>inserts_in_queue</code> (<code class=syntax>UInt32</code>) - Nombre d'insertions de blocs de données qui doivent être faits. Les Insertions sont généralement répliquées assez rapidement. Si ce nombre est grand, cela signifie que quelque chose est faux.</li> <li><code class=syntax>merges_in_queue</code> (<code class=syntax>UInt32</code>) - Le nombre de fusions en attente d'être fait. Parfois, les fusions sont longues, donc cette valeur peut être supérieure à zéro pendant une longue période.</li> <li><code class=syntax>part_mutations_in_queue</code> (<code class=syntax>UInt32</code>) - Le nombre de mutations en attente d'être fait.</li> <li><code class=syntax>queue_oldest_time</code> (<code class=syntax>DateTime</code>) - Si <code class=syntax>queue_size</code> supérieur à 0, indique quand l'opération la plus ancienne a été ajoutée à la file d'attente.</li> <li><code class=syntax>inserts_oldest_time</code> (<code class=syntax>DateTime</code>) - Voir <code class=syntax>queue_oldest_time</code></li> <li><code class=syntax>merges_oldest_time</code> (<code class=syntax>DateTime</code>) - Voir <code class=syntax>queue_oldest_time</code></li> <li><code class=syntax>part_mutations_oldest_time</code> (<code class=syntax>DateTime</code>) - Voir <code class=syntax>queue_oldest_time</code></li> </ul> <p>Les 4 colonnes suivantes ont une valeur non nulle uniquement lorsqu'il y a une session active avec ZK.</p> <ul> <li><code class=syntax>log_max_index</code> (<code class=syntax>UInt64</code>) - Maximum nombre d'entrées dans le journal de l'activité générale.</li> <li><code class=syntax>log_pointer</code> (<code class=syntax>UInt64</code>)- Numéro d'entrée Maximum dans le journal de l'activité générale que le réplica a copié dans sa file d'attente d'exécution, plus un. Si <code class=syntax>log_pointer</code> est beaucoup plus petite que <code class=syntax>log_max_index</code> quelque chose ne va pas.</li> <li><code class=syntax>last_queue_update</code> (<code class=syntax>DateTime</code>) - Lorsque la file d'attente a été mise à jour la dernière fois.</li> <li><code class=syntax>absolute_delay</code> (<code class=syntax>UInt64</code>)- Combien de décalage en secondes la réplique actuelle A.</li> <li><code class=syntax>total_replicas</code> (<code class=syntax>UInt8</code>) - Le nombre total de répliques connues de ce tableau.</li> <li><code class=syntax>active_replicas</code> (<code class=syntax>UInt8</code>) - Le nombre de répliques de cette table qui ont une session dans ZooKeeper (c'est-à-dire le nombre de répliques fonctionnelles).</li> </ul> <p>Si vous demandez toutes les colonnes, la table peut fonctionner un peu lentement, car plusieurs lectures de ZooKeeper sont faites pour chaque ligne.<br> Si vous ne demandez pas les 4 dernières colonnes (log_max_index, log_pointer, total_replicas, active_replicas), la table fonctionne rapidement.</p> <p>Par exemple, vous pouvez vérifier que tout fonctionne correctement comme ceci:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=k>database</span><span class=p>,</span>
    <span class=k>table</span><span class=p>,</span>
    <span class=n>is_leader</span><span class=p>,</span>
    <span class=n>is_readonly</span><span class=p>,</span>
    <span class=n>is_session_expired</span><span class=p>,</span>
    <span class=n>future_parts</span><span class=p>,</span>
    <span class=n>parts_to_check</span><span class=p>,</span>
    <span class=n>columns_version</span><span class=p>,</span>
    <span class=n>queue_size</span><span class=p>,</span>
    <span class=n>inserts_in_queue</span><span class=p>,</span>
    <span class=n>merges_in_queue</span><span class=p>,</span>
    <span class=n>log_max_index</span><span class=p>,</span>
    <span class=n>log_pointer</span><span class=p>,</span>
    <span class=n>total_replicas</span><span class=p>,</span>
    <span class=n>active_replicas</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>replicas</span>
<span class=k>WHERE</span>
       <span class=n>is_readonly</span>
    <span class=k>OR</span> <span class=n>is_session_expired</span>
    <span class=k>OR</span> <span class=n>future_parts</span> <span class=o>&gt;</span> <span class=mi>20</span>
    <span class=k>OR</span> <span class=n>parts_to_check</span> <span class=o>&gt;</span> <span class=mi>10</span>
    <span class=k>OR</span> <span class=n>queue_size</span> <span class=o>&gt;</span> <span class=mi>20</span>
    <span class=k>OR</span> <span class=n>inserts_in_queue</span> <span class=o>&gt;</span> <span class=mi>10</span>
    <span class=k>OR</span> <span class=n>log_max_index</span> <span class=o>-</span> <span class=n>log_pointer</span> <span class=o>&gt;</span> <span class=mi>10</span>
    <span class=k>OR</span> <span class=n>total_replicas</span> <span class=o>&lt;</span> <span class=mi>2</span>
    <span class=k>OR</span> <span class=n>active_replicas</span> <span class=o>&lt;</span> <span class=n>total_replicas</span>
</code></pre></div> <p>Si cette requête ne retourne rien, cela signifie que tout va bien.</p> <h2 id=system-tables-system-settings>système.paramètre<a class=headerlink href=../amp/#system-tables-system-settings title="Permanent link"> </a></h2> <p>Contient des informations sur les paramètres de session pour l'utilisateur actuel.</p> <p>Colonne:</p> <ul> <li><code class=syntax>name</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Setting name.</li> <li><code class=syntax>value</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Setting value.</li> <li><code class=syntax>changed</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt8</a>) — Shows whether a setting is changed from its default value.</li> <li><code class=syntax>description</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Short setting description.</li> <li><code class=syntax>min</code> (<a href=../../../sql-reference/data-types/nullable/amp/ >Nullable</a>(<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>)) — Minimum value of the setting, if any is set via <a href=../../settings/constraints-on-settings/amp/#constraints-on-settings>contraintes</a>. Si le réglage n'a pas de valeur minimale, contient <a href=../../../sql-reference/syntax/amp/#null-literal>NULL</a>.</li> <li><code class=syntax>max</code> (<a href=../../../sql-reference/data-types/nullable/amp/ >Nullable</a>(<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>)) — Maximum value of the setting, if any is set via <a href=../../settings/constraints-on-settings/amp/#constraints-on-settings>contraintes</a>. Si le réglage n'a pas de valeur maximale, contient <a href=../../../sql-reference/syntax/amp/#null-literal>NULL</a>.</li> <li><code class=syntax>readonly</code> (<a href=../../../sql-reference/data-types/int-uint/amp/#uint-ranges>UInt8</a>) — Shows whether the current user can change the setting:<ul> <li><code class=syntax>0</code> — Current user can change the setting.</li> <li><code class=syntax>1</code> — Current user can't change the setting.</li> </ul> </li> </ul> <p><strong>Exemple</strong></p> <p>L'exemple suivant montre comment obtenir des informations sur les paramètres dont le nom contient <code class=syntax>min_i</code>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span>
<span class=k>WHERE</span> <span class=n>name</span> <span class=k>LIKE</span> <span class=s1>'%min_i%'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name────────────────────────────────────────┬─value─────┬─changed─┬─description───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┬─min──┬─max──┬─readonly─┐
│ min_insert_block_size_rows                  │ 1048576   │       0 │ Squash blocks passed to INSERT query to specified size in rows, if blocks are not big enough.                                                                         │ ᴺᵁᴸᴸ │ ᴺᵁᴸᴸ │        0 │
│ min_insert_block_size_bytes                 │ 268435456 │       0 │ Squash blocks passed to INSERT query to specified size in bytes, if blocks are not big enough.                                                                        │ ᴺᵁᴸᴸ │ ᴺᵁᴸᴸ │        0 │
│ read_backoff_min_interval_between_events_ms │ 1000      │       0 │ Settings to reduce the number of threads in case of slow reads. Do not pay attention to the event, if the previous one has passed less than a certain amount of time. │ ᴺᵁᴸᴸ │ ᴺᵁᴸᴸ │        0 │
└─────────────────────────────────────────────┴───────────┴─────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴──────┴──────┴──────────┘
</code></pre></div> <p>À l'aide de <code class=syntax>WHERE changed</code> peut être utile, par exemple, lorsque vous voulez vérifier:</p> <ul> <li>Indique si les paramètres des fichiers de configuration sont chargés correctement et sont utilisés.</li> <li>Paramètres modifiés dans la session en cours.</li> </ul> <!-- --> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>changed</span> <span class=k>AND</span> <span class=n>name</span><span class=o>=</span><span class=s1>'load_balancing'</span>
</code></pre></div> <p><strong>Voir aussi</strong></p> <ul> <li><a href=../../settings/amp/#session-settings-intro>Paramètre</a></li> <li><a href=../../settings/permissions-for-queries/amp/#settings_readonly>Autorisations pour les requêtes</a></li> <li><a href=../../settings/constraints-on-settings/amp/ >Contraintes sur les paramètres</a></li> </ul> <h2 id=system.table_engines>système.tableau_moteurs<a class=headerlink href=../amp/#system.table_engines title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax>┌─name───────────────────┬─value───────┐
│ max_threads            │ 8           │
│ use_uncompressed_cache │ 0           │
│ load_balancing         │ random      │
│ max_memory_usage       │ 10000000000 │
└────────────────────────┴─────────────┘
</code></pre></div> <h2 id=system-merge_tree_settings>système.merge_tree_settings<a class=headerlink href=../amp/#system-merge_tree_settings title="Permanent link"> </a></h2> <p>Contient des informations sur les paramètres pour <code class=syntax>MergeTree</code> table.</p> <p>Colonne:</p> <ul> <li><code class=syntax>name</code> (String) — Setting name.</li> <li><code class=syntax>value</code> (String) — Setting value.</li> <li><code class=syntax>description</code> (String) — Setting description.</li> <li><code class=syntax>type</code> (String) — Setting type (implementation specific string value).</li> <li><code class=syntax>changed</code> (UInt8) — Whether the setting was explicitly defined in the config or explicitly changed.</li> </ul> <h2 id=system-table-engines>système.tableau_moteurs<a class=headerlink href=../amp/#system-table-engines title="Permanent link"> </a></h2> <p>Contient une description des moteurs de table pris en charge par le serveur et leurs informations de support de fonctionnalité.</p> <p>Ce tableau contient les colonnes suivantes (le type de colonne est indiqué entre parenthèses):</p> <ul> <li><code class=syntax>name</code> (String) — The name of table engine.</li> <li><code class=syntax>supports_settings</code> (UInt8) — Flag that indicates if table engine supports <code class=syntax>SETTINGS</code> clause.</li> <li><code class=syntax>supports_skipping_indices</code> (UInt8) — Flag that indicates if table engine supports <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-data_skipping-indexes>sauter les indices</a>.</li> <li><code class=syntax>supports_ttl</code> (UInt8) — Flag that indicates if table engine supports <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-ttl>TTL</a>.</li> <li><code class=syntax>supports_sort_order</code> (UInt8) — Flag that indicates if table engine supports clauses <code class=syntax>PARTITION_BY</code>, <code class=syntax>PRIMARY_KEY</code>, <code class=syntax>ORDER_BY</code> et <code class=syntax>SAMPLE_BY</code>.</li> <li><code class=syntax>supports_replication</code> (UInt8) — Flag that indicates if table engine supports <a href=../../../engines/table-engines/mergetree-family/replication/amp/ >réplication des données</a>.</li> <li><code class=syntax>supports_duduplication</code> (UInt8) — Flag that indicates if table engine supports data deduplication.</li> </ul> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>table_engines</span>
<span class=k>WHERE</span> <span class=n>name</span> <span class=k>in</span> <span class=p>(</span><span class=s1>'Kafka'</span><span class=p>,</span> <span class=s1>'MergeTree'</span><span class=p>,</span> <span class=s1>'ReplicatedCollapsingMergeTree'</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name──────────────────────────┬─supports_settings─┬─supports_skipping_indices─┬─supports_sort_order─┬─supports_ttl─┬─supports_replication─┬─supports_deduplication─┐
│ Kafka                         │                 1 │                         0 │                   0 │            0 │                    0 │                      0 │
│ MergeTree                     │                 1 │                         1 │                   1 │            1 │                    0 │                      0 │
│ ReplicatedCollapsingMergeTree │                 1 │                         1 │                   1 │            1 │                    1 │                      1 │
└───────────────────────────────┴───────────────────┴───────────────────────────┴─────────────────────┴──────────────┴──────────────────────┴────────────────────────┘
</code></pre></div> <p><strong>Voir aussi</strong></p> <ul> <li>Famille MergeTree <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/#mergetree-query-clauses>les clauses de requête</a></li> <li>Kafka <a href=../../../engines/table-engines/integrations/kafka/amp/#table_engine-kafka-creating-a-table>paramètre</a></li> <li>Rejoindre <a href=../../../engines/table-engines/special/join/amp/#join-limitations-and-settings>paramètre</a></li> </ul> <h2 id=system-tables>système.table<a class=headerlink href=../amp/#system-tables title="Permanent link"> </a></h2> <p>Contient les métadonnées de chaque table que le serveur connaît. Les tableaux détachés ne sont pas représentés dans <code class=syntax>system.tables</code>.</p> <p>Ce tableau contient les colonnes suivantes (le type de colonne est indiqué entre parenthèses):</p> <ul> <li> <p><code class=syntax>database</code> (String) — The name of the database the table is in.</p> </li> <li> <p><code class=syntax>name</code> (String) — Table name.</p> </li> <li> <p><code class=syntax>engine</code> (String) — Table engine name (without parameters).</p> </li> <li> <p><code class=syntax>is_temporary</code> (UInt8) - indicateur qui indique si la table est temporaire.</p> </li> <li> <p><code class=syntax>data_path</code> (Chaîne) - chemin d'accès aux données de la table dans le système de fichiers.</p> </li> <li> <p><code class=syntax>metadata_path</code> (Chaîne) - chemin d'accès aux métadonnées de la table dans le système de fichiers.</p> </li> <li> <p><code class=syntax>metadata_modification_time</code> (DateTime) - Heure de la dernière modification des métadonnées de la table.</p> </li> <li> <p><code class=syntax>dependencies_database</code> (Array (String)) - dépendances de base de données.</p> </li> <li> <p><code class=syntax>dependencies_table</code> (Array (String)) - dépendances de Table (<a href=../../../engines/table-engines/special/materializedview/amp/ >MaterializedView</a> tables basées sur le tableau actuel).</p> </li> <li> <p><code class=syntax>create_table_query</code> (Chaîne) - la requête qui a été utilisée pour créer la table.</p> </li> <li> <p><code class=syntax>engine_full</code> (Chaîne) - paramètres du moteur de table.</p> </li> <li> <p><code class=syntax>partition_key</code> (String) - l'expression de clé de partition spécifiée dans le tableau.</p> </li> <li> <p><code class=syntax>sorting_key</code> (String) - l'expression de clé de tri spécifiée dans la table.</p> </li> <li> <p><code class=syntax>primary_key</code> (String) - l'expression de clé primaire spécifiée dans la table.</p> </li> <li> <p><code class=syntax>sampling_key</code> (String) - l'expression de clé d'échantillonnage spécifiée dans la table.</p> </li> <li> <p><code class=syntax>storage_policy</code> (String) - La politique de stockage:</p> <ul> <li><a href=../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-multiple-volumes>MergeTree</a></li> <li><a href=../../../engines/table-engines/special/distributed/amp/#distributed>Distribué</a></li> </ul> </li> <li> <p><code class=syntax>total_rows</code> (Nullable (UInt64)) - nombre Total de lignes, s'il est possible de déterminer rapidement le nombre exact de lignes dans la table, sinon <code class=syntax>Null</code> (y compris underying <code class=syntax>Buffer</code> table).</p> </li> <li> <p><code class=syntax>total_bytes</code> (Nullable (UInt64)) - nombre Total d'octets, s'il est possible de déterminer rapidement le nombre exact d'octets pour la table sur le stockage, sinon <code class=syntax>Null</code> (<strong>ne pas</strong> comprend tout de stockage sous-jacent).</p> <ul> <li>If the table stores data on disk, returns used space on disk (i.e. compressed).</li> <li>Si la table stocke des données en mémoire, renvoie un nombre approximatif d'octets utilisés en mémoire.</li> </ul> </li> </ul> <p>Le <code class=syntax>system.tables</code> le tableau est utilisé dans <code class=syntax>SHOW TABLES</code> implémentation de requête.</p> <h2 id=system-zookeeper>système.zookeeper<a class=headerlink href=../amp/#system-zookeeper title="Permanent link"> </a></h2> <p>La table n'existe pas si ZooKeeper n'est pas configuré. Permet de lire les données du cluster Zookeeper défini dans la configuration.<br> La requête doit avoir un ‘path’ condition d'égalité dans la clause WHERE. C'est le chemin dans ZooKeeper pour les enfants pour lesquels vous souhaitez obtenir des données.</p> <p>Requête <code class=syntax>SELECT * FROM system.zookeeper WHERE path = '/clickhouse'</code> données de sortie pour tous les enfants <code class=syntax>/clickhouse</code> nœud.<br> Pour générer des données pour tous les nœuds racine, écrivez path = ‘/’.<br> Si le chemin d'accès spécifié dans ‘path’ n'existe pas, une exception sera levée.</p> <p>Colonne:</p> <ul> <li><code class=syntax>name</code> (String) — The name of the node.</li> <li><code class=syntax>path</code> (String) — The path to the node.</li> <li><code class=syntax>value</code> (String) — Node value.</li> <li><code class=syntax>dataLength</code> (Int32) — Size of the value.</li> <li><code class=syntax>numChildren</code> (Int32) — Number of descendants.</li> <li><code class=syntax>czxid</code> (Int64) — ID of the transaction that created the node.</li> <li><code class=syntax>mzxid</code> (Int64) — ID of the transaction that last changed the node.</li> <li><code class=syntax>pzxid</code> (Int64) — ID of the transaction that last deleted or added descendants.</li> <li><code class=syntax>ctime</code> (DateTime) — Time of node creation.</li> <li><code class=syntax>mtime</code> (DateTime) — Time of the last modification of the node.</li> <li><code class=syntax>version</code> (Int32) — Node version: the number of times the node was changed.</li> <li><code class=syntax>cversion</code> (Int32) — Number of added or removed descendants.</li> <li><code class=syntax>aversion</code> (Int32) — Number of changes to the ACL.</li> <li><code class=syntax>ephemeralOwner</code> (Int64) — For ephemeral nodes, the ID of the session that owns this node.</li> </ul> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>zookeeper</span>
<span class=k>WHERE</span> <span class=n>path</span> <span class=o>=</span> <span class=s1>'/clickhouse/tables/01-08/visits/replicas'</span>
<span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
name:           example01-08-1.yandex.ru
value:
czxid:          932998691229
mzxid:          932998691229
ctime:          2015-03-27 16:49:51
mtime:          2015-03-27 16:49:51
version:        0
cversion:       47
aversion:       0
ephemeralOwner: 0
dataLength:     0
numChildren:    7
pzxid:          987021031383
path:           /clickhouse/tables/01-08/visits/replicas

Row 2:
──────
name:           example01-08-2.yandex.ru
value:
czxid:          933002738135
mzxid:          933002738135
ctime:          2015-03-27 16:57:01
mtime:          2015-03-27 16:57:01
version:        0
cversion:       37
aversion:       0
ephemeralOwner: 0
dataLength:     0
numChildren:    7
pzxid:          987021252247
path:           /clickhouse/tables/01-08/visits/replicas
</code></pre></div> <h2 id=system_tables-mutations>système.mutation<a class=headerlink href=../amp/#system_tables-mutations title="Permanent link"> </a></h2> <p>Le tableau contient des informations sur <a href=../../../sql-reference/statements/alter/amp/#alter-mutations>mutation</a> des tables MergeTree et leur progression. Chaque commande de mutation est représentée par une seule ligne. Le tableau comporte les colonnes suivantes:</p> <p><strong>base de données</strong>, <strong>table</strong> - Le nom de la base de données et de la table à laquelle la mutation a été appliquée.</p> <p><strong>mutation_id</strong> - Le numéro d'identification de la mutation. Pour les tables répliquées ces ID correspondent aux noms znode dans le <code class=syntax>&lt;table_path_in_zookeeper&gt;/mutations/</code> répertoire de la Gardienne. Pour les tables non compliquées, Les Id correspondent aux noms de fichiers dans le répertoire de données de la table.</p> <p><strong>commande</strong> - La chaîne de commande mutation (la partie de la requête après <code class=syntax>ALTER TABLE [db.]table</code>).</p> <p><strong>create_time</strong> - Quand cette commande de mutation a été soumise pour exécution.</p> <p><strong>block_numbers.partition_id</strong>, <strong>block_numbers.nombre</strong> - Une colonne imbriquée. Pour les mutations de tables répliquées, il contient un enregistrement pour chaque partition: l'ID de partition et le numéro de bloc acquis par la mutation (dans chaque partition, seules les parties contenant des blocs avec des nombres inférieurs au numéro de bloc acquis par la mutation dans cette partition seront mutées). Dans les tables non répliquées, les numéros de bloc de toutes les partitions forment une seule séquence. Cela signifie que pour les mutations de tables non répliquées, la colonne contiendra un enregistrement avec un seul numéro de bloc acquis par la mutation.</p> <p><strong>parts_to_do</strong> - Le nombre de parties de données qui doivent être mutées pour que la mutation se termine.</p> <p><strong>_done</strong> - La mutation est faite? Notez que même si <code class=syntax>parts_to_do = 0</code> il est possible qu'une mutation d'une table répliquée ne soit pas encore effectuée en raison d'un INSERT de longue durée qui créera une nouvelle partie de données qui devra être mutée.</p> <p>S'il y avait des problèmes avec la mutation de certaines parties, les colonnes suivantes contiennent des informations supplémentaires:</p> <p><strong>latest_failed_part</strong> - Le nom de la partie la plus récente qui n'a pas pu être mutée.</p> <p><strong>latest_fail_time</strong> - Le temps de la partie la plus récente mutation de l'échec.</p> <p><strong>latest_fail_reason</strong> - Le message d'exception qui a provoqué l'échec de la mutation de pièce la plus récente.</p> <h2 id=system_tables-disks>système.disque<a class=headerlink href=../amp/#system_tables-disks title="Permanent link"> </a></h2> <p>Contient des informations sur les disques définis dans <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-multiple-volumes_configure>configuration du serveur</a>.</p> <p>Colonne:</p> <ul> <li><code class=syntax>name</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Name of a disk in the server configuration.</li> <li><code class=syntax>path</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Path to the mount point in the file system.</li> <li><code class=syntax>free_space</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Free space on disk in bytes.</li> <li><code class=syntax>total_space</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Disk volume in bytes.</li> <li><code class=syntax>keep_free_space</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Amount of disk space that should stay free on disk in bytes. Defined in the <code class=syntax>keep_free_space_bytes</code> paramètre de configuration du disque.</li> </ul> <h2 id=system_tables-storage_policies>système.storage_policies<a class=headerlink href=../amp/#system_tables-storage_policies title="Permanent link"> </a></h2> <p>Contient des informations sur les stratégies de stockage et les volumes définis <a href=../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-multiple-volumes_configure>configuration du serveur</a>.</p> <p>Colonne:</p> <ul> <li><code class=syntax>policy_name</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Name of the storage policy.</li> <li><code class=syntax>volume_name</code> (<a href=../../../sql-reference/data-types/string/amp/ >Chaîne</a>) — Volume name defined in the storage policy.</li> <li><code class=syntax>volume_priority</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Volume order number in the configuration.</li> <li><code class=syntax>disks</code> (<a href=../../../sql-reference/data-types/array/amp/ >Tableau(String)</a>) — Disk names, defined in the storage policy.</li> <li><code class=syntax>max_data_part_size</code> (<a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a>) — Maximum size of a data part that can be stored on volume disks (0 — no limit).</li> <li><code class=syntax>move_factor</code> (<a href=../../../sql-reference/data-types/float/amp/ >Float64</a>) — Ratio of free disk space. When the ratio exceeds the value of configuration parameter, ClickHouse start to move data to the next volume in order.</li> </ul> <p>Si la stratégie de stockage contient plus d'un volume, les informations pour chaque volume sont stockées dans la ligne individuelle de la table.</p> <p><a href=https://clickhouse.tech/docs/en/operations/system_tables/ target=_blank>Article Original</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/fr/operations/system-tables/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 