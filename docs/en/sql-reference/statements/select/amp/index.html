<!doctype html><html ⚡ lang=en> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>SELECT Query</title><link href=https://clickhouse.tech/docs/en/sql-reference/statements/select/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "SELECT Query",
"mainEntityOfPage": "https://clickhouse.tech/docs/en/sql-reference/statements/select/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "SELECT Query",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,main,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}strong{font-weight:bolder}small{font-size:80%}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.small,small{font-size:80%;font-weight:400}.list-inline{padding-left:0;list-style:none}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-dark{color:#fff;background-color:#343a40}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.btn-group{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group>.btn:hover{z-index:1}.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-left{float:left}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-left{float:left}.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-left{float:left}.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-left{text-align:left}.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-left{text-align:left}.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}details{background:#444451;color:#eee;padding:1rem;margin-bottom:1rem;margin-top:1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}@media(prefers-color-scheme:dark){.syntax{background:#2d2d2d;color:#f2f0ec}.syntax .c{color:#747369}.syntax .k{color:#c9c}.syntax .n{color:#f2f0ec}.syntax .o{color:#6cc}.syntax .p{color:#f2f0ec}.syntax .c1{color:#747369}.syntax .ld{color:#9c9}.syntax .m{color:#f99157}.syntax .s{color:#9c9}.syntax .nb{color:#f2f0ec}.syntax .py{color:#f2f0ec}.syntax .mi{color:#f99157}.syntax .s2{color:#9c9}.syntax .s1{color:#9c9}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <h1 id=select-queries-syntax>SELECT Query<a class=headerlink href=../amp/#select-queries-syntax title="Permanent link"> </a></h1> <p><code class=syntax>SELECT</code> queries perform data retrieval. By default, the requested data is returned to the client, while in conjunction with <a href=../../insert-into/amp/ >INSERT INTO</a> it can be forwarded to a different table.</p> <h2 id=syntax>Syntax<a class=headerlink href=../amp/#syntax title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=p>[</span><span class=k>WITH</span> <span class=n>expr_list</span><span class=o>|</span><span class=p>(</span><span class=n>subquery</span><span class=p>)]</span>
<span class=k>SELECT</span> <span class=p>[</span><span class=k>DISTINCT</span><span class=p>]</span> <span class=n>expr_list</span>
<span class=p>[</span><span class=k>FROM</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=o>|</span> <span class=p>(</span><span class=n>subquery</span><span class=p>)</span> <span class=o>|</span> <span class=n>table_function</span><span class=p>]</span> <span class=p>[</span><span class=k>FINAL</span><span class=p>]</span>
<span class=p>[</span><span class=n>SAMPLE</span> <span class=n>sample_coeff</span><span class=p>]</span>
<span class=p>[</span><span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=p>...]</span>
<span class=p>[</span><span class=k>GLOBAL</span><span class=p>]</span> <span class=p>[</span><span class=k>ANY</span><span class=o>|</span><span class=k>ALL</span><span class=o>|</span><span class=n>ASOF</span><span class=p>]</span> <span class=p>[</span><span class=k>INNER</span><span class=o>|</span><span class=k>LEFT</span><span class=o>|</span><span class=k>RIGHT</span><span class=o>|</span><span class=k>FULL</span><span class=o>|</span><span class=k>CROSS</span><span class=p>]</span> <span class=p>[</span><span class=k>OUTER</span><span class=o>|</span><span class=n>SEMI</span><span class=o>|</span><span class=n>ANTI</span><span class=p>]</span> <span class=k>JOIN</span> <span class=p>(</span><span class=n>subquery</span><span class=p>)</span><span class=o>|</span><span class=k>table</span> <span class=p>(</span><span class=k>ON</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span><span class=p>)</span><span class=o>|</span><span class=p>(</span><span class=k>USING</span> <span class=o>&lt;</span><span class=n>column_list</span><span class=o>&gt;</span><span class=p>)</span>
<span class=p>[</span><span class=n>PREWHERE</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>WHERE</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>GROUP</span> <span class=k>BY</span> <span class=n>expr_list</span><span class=p>]</span> <span class=p>[</span><span class=k>WITH</span> <span class=k>ROLLUP</span><span class=o>|</span><span class=k>WITH</span> <span class=k>CUBE</span><span class=p>]</span> <span class=p>[</span><span class=k>WITH</span> <span class=n>TOTALS</span><span class=p>]</span>
<span class=p>[</span><span class=k>HAVING</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>ORDER</span> <span class=k>BY</span> <span class=n>expr_list</span><span class=p>]</span> <span class=p>[</span><span class=k>WITH</span> <span class=n>FILL</span><span class=p>]</span> <span class=p>[</span><span class=k>FROM</span> <span class=n>expr</span><span class=p>]</span> <span class=p>[</span><span class=k>TO</span> <span class=n>expr</span><span class=p>]</span> <span class=p>[</span><span class=n>STEP</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>LIMIT</span> <span class=p>[</span><span class=n>offset_value</span><span class=p>,</span> <span class=p>]</span><span class=n>n</span> <span class=k>BY</span> <span class=n>columns</span><span class=p>]</span>
<span class=p>[</span><span class=k>LIMIT</span> <span class=p>[</span><span class=n>n</span><span class=p>,</span> <span class=p>]</span><span class=n>m</span><span class=p>]</span> <span class=p>[</span><span class=k>WITH</span> <span class=n>TIES</span><span class=p>]</span>
<span class=p>[</span><span class=n>SETTINGS</span> <span class=p>...]</span>
<span class=p>[</span><span class=k>UNION</span>  <span class=p>...]</span>
<span class=p>[</span><span class=k>INTO</span> <span class=n>OUTFILE</span> <span class=n>filename</span><span class=p>]</span>
<span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>All clauses are optional, except for the required list of expressions immediately after <code class=syntax>SELECT</code> which is covered in more detail <a href=../amp/#select-clause>below</a>.</p> <p>Specifics of each optional clause are covered in separate sections, which are listed in the same order as they are executed:</p> <ul> <li><a href=../with/amp/ >WITH clause</a></li> <li><a href=../from/amp/ >FROM clause</a></li> <li><a href=../sample/amp/ >SAMPLE clause</a></li> <li><a href=../join/amp/ >JOIN clause</a></li> <li><a href=../prewhere/amp/ >PREWHERE clause</a></li> <li><a href=../where/amp/ >WHERE clause</a></li> <li><a href=../group-by/amp/ >GROUP BY clause</a></li> <li><a href=../limit-by/amp/ >LIMIT BY clause</a></li> <li><a href=../having/amp/ >HAVING clause</a></li> <li><a href=../amp/#select-clause>SELECT clause</a></li> <li><a href=../distinct/amp/ >DISTINCT clause</a></li> <li><a href=../limit/amp/ >LIMIT clause</a></li> <li><a href=../offset/amp/ >OFFSET clause</a></li> <li><a href=../union/amp/ >UNION clause</a></li> <li><a href=../into-outfile/amp/ >INTO OUTFILE clause</a></li> <li><a href=../format/amp/ >FORMAT clause</a></li> </ul> <h2 id=select-clause>SELECT Clause<a class=headerlink href=../amp/#select-clause title="Permanent link"> </a></h2> <p><a href=../../../syntax/amp/#syntax-expressions>Expressions</a> specified in the <code class=syntax>SELECT</code> clause are calculated after all the operations in the clauses described above are finished. These expressions work as if they apply to separate rows in the result. If expressions in the <code class=syntax>SELECT</code> clause contain aggregate functions, then ClickHouse processes aggregate functions and expressions used as their arguments during the <a href=../group-by/amp/ >GROUP BY</a> aggregation.</p> <p>If you want to include all columns in the result, use the asterisk (<code class=syntax>*</code>) symbol. For example, <code class=syntax>SELECT * FROM ...</code>.</p> <h3 id=columns-expression>COLUMNS expression<a class=headerlink href=../amp/#columns-expression title="Permanent link"> </a></h3> <p>To match some columns in the result with a <a href=https://en.wikipedia.org/wiki/RE2_(software) rel="external nofollow noreferrer" target=_blank>re2</a> regular expression, you can use the <code class=syntax>COLUMNS</code> expression.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'regexp'</span><span class=p>)</span>
</code></pre></div> <p>For example, consider the table:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>default</span><span class=p>.</span><span class=n>col_names</span> <span class=p>(</span><span class=n>aa</span> <span class=nb>Int8</span><span class=p>,</span> <span class=n>ab</span> <span class=nb>Int8</span><span class=p>,</span> <span class=n>bc</span> <span class=nb>Int8</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <p>The following query selects data from all the columns containing the <code class=syntax>a</code> symbol in their name.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'a'</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>col_names</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─aa─┬─ab─┐
│  1 │  1 │
└────┴────┘
</code></pre></div> <p>The selected columns are returned not in the alphabetical order.</p> <p>You can use multiple <code class=syntax>COLUMNS</code> expressions in a query and apply functions to them.</p> <p>For example:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'a'</span><span class=p>),</span> <span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'c'</span><span class=p>),</span> <span class=n>toTypeName</span><span class=p>(</span><span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'c'</span><span class=p>))</span> <span class=k>FROM</span> <span class=n>col_names</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─aa─┬─ab─┬─bc─┬─toTypeName(bc)─┐
│  1 │  1 │  1 │ Int8           │
└────┴────┴────┴────────────────┘
</code></pre></div> <p>Each column returned by the <code class=syntax>COLUMNS</code> expression is passed to the function as a separate argument. Also you can pass other arguments to the function if it supports them. Be careful when using functions. If a function does not support the number of arguments you have passed to it, ClickHouse throws an exception.</p> <p>For example:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'a'</span><span class=p>)</span> <span class=o>+</span> <span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'c'</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>col_names</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Received exception from server (version 19.14.1):
Code: 42. DB::Exception: Received from localhost:9000. DB::Exception: Number of arguments for function plus does not match: passed 3, should be 2.
</code></pre></div> <p>In this example, <code class=syntax>COLUMNS('a')</code> returns two columns: <code class=syntax>aa</code> and <code class=syntax>ab</code>. <code class=syntax>COLUMNS('c')</code> returns the <code class=syntax>bc</code> column. The <code class=syntax>+</code> operator can’t apply to 3 arguments, so ClickHouse throws an exception with the relevant message.</p> <p>Columns that matched the <code class=syntax>COLUMNS</code> expression can have different data types. If <code class=syntax>COLUMNS</code> does not match any columns and is the only expression in <code class=syntax>SELECT</code>, ClickHouse throws an exception.</p> <h3 id=asterisk>Asterisk<a class=headerlink href=../amp/#asterisk title="Permanent link"> </a></h3> <p>You can put an asterisk in any part of a query instead of an expression. When the query is analyzed, the asterisk is expanded to a list of all table columns (excluding the <code class=syntax>MATERIALIZED</code> and <code class=syntax>ALIAS</code> columns). There are only a few cases when using an asterisk is justified:</p> <ul> <li>When creating a table dump.</li> <li>For tables containing just a few columns, such as system tables.</li> <li>For getting information about what columns are in a table. In this case, set <code class=syntax>LIMIT 1</code>. But it is better to use the <code class=syntax>DESC TABLE</code> query.</li> <li>When there is strong filtration on a small number of columns using <code class=syntax>PREWHERE</code>.</li> <li>In subqueries (since columns that aren’t needed for the external query are excluded from subqueries).</li> </ul> <p>In all other cases, we do not recommend using the asterisk, since it only gives you the drawbacks of a columnar DBMS instead of the advantages. In other words using the asterisk is not recommended.</p> <h3 id=extreme-values>Extreme Values<a class=headerlink href=../amp/#extreme-values title="Permanent link"> </a></h3> <p>In addition to results, you can also get minimum and maximum values for the results columns. To do this, set the <strong>extremes</strong> setting to 1. Minimums and maximums are calculated for numeric types, dates, and dates with times. For other columns, the default values are output.</p> <p>An extra two rows are calculated – the minimums and maximums, respectively. These extra two rows are output in <code class=syntax>JSON*</code>, <code class=syntax>TabSeparated*</code>, and <code class=syntax>Pretty*</code> <a href=../../../../interfaces/formats/amp/ >formats</a>, separate from the other rows. They are not output for other formats.</p> <p>In <code class=syntax>JSON*</code> formats, the extreme values are output in a separate ‘extremes’ field. In <code class=syntax>TabSeparated*</code> formats, the row comes after the main result, and after ‘totals’ if present. It is preceded by an empty row (after the other data). In <code class=syntax>Pretty*</code> formats, the row is output as a separate table after the main result, and after <code class=syntax>totals</code> if present.</p> <p>Extreme values are calculated for rows before <code class=syntax>LIMIT</code>, but after <code class=syntax>LIMIT BY</code>. However, when using <code class=syntax>LIMIT offset, size</code>, the rows before <code class=syntax>offset</code> are included in <code class=syntax>extremes</code>. In stream requests, the result may also include a small number of rows that passed through <code class=syntax>LIMIT</code>.</p> <h3 id=notes>Notes<a class=headerlink href=../amp/#notes title="Permanent link"> </a></h3> <p>You can use synonyms (<code class=syntax>AS</code> aliases) in any part of a query.</p> <p>The <code class=syntax>GROUP BY</code> and <code class=syntax>ORDER BY</code> clauses do not support positional arguments. This contradicts MySQL, but conforms to standard SQL. For example, <code class=syntax>GROUP BY 1, 2</code> will be interpreted as grouping by constants (i.e. aggregation of all rows into one).</p> <h2 id=implementation-details>Implementation Details<a class=headerlink href=../amp/#implementation-details title="Permanent link"> </a></h2> <p>If the query omits the <code class=syntax>DISTINCT</code>, <code class=syntax>GROUP BY</code> and <code class=syntax>ORDER BY</code> clauses and the <code class=syntax>IN</code> and <code class=syntax>JOIN</code> subqueries, the query will be completely stream processed, using O(1) amount of RAM. Otherwise, the query might consume a lot of RAM if the appropriate restrictions are not specified:</p> <ul> <li><code class=syntax>max_memory_usage</code></li> <li><code class=syntax>max_rows_to_group_by</code></li> <li><code class=syntax>max_rows_to_sort</code></li> <li><code class=syntax>max_rows_in_distinct</code></li> <li><code class=syntax>max_bytes_in_distinct</code></li> <li><code class=syntax>max_rows_in_set</code></li> <li><code class=syntax>max_bytes_in_set</code></li> <li><code class=syntax>max_rows_in_join</code></li> <li><code class=syntax>max_bytes_in_join</code></li> <li><code class=syntax>max_bytes_before_external_sort</code></li> <li><code class=syntax>max_bytes_before_external_group_by</code></li> </ul> <p>For more information, see the section “Settings”. It is possible to use external sorting (saving temporary tables to a disk) and external aggregation.</p> <h2 id=select-modifiers>SELECT modifiers<a class=headerlink href=../amp/#select-modifiers title="Permanent link"> </a></h2> <p>You can use the following modifiers in <code class=syntax>SELECT</code> queries.</p> <h3 id=apply-modifier>APPLY<a class=headerlink href=../amp/#apply-modifier title="Permanent link"> </a></h3> <p>Allows you to invoke some function for each row returned by an outer table expression of a query. </p> <p><strong>Syntax:</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr</span><span class=o>&gt;</span> <span class=n>APPLY</span><span class=p>(</span> <span class=o>&lt;</span><span class=n>func</span><span class=o>&gt;</span> <span class=p>)</span> <span class=k>FROM</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span>
</code></pre></div> <p><strong>Example:</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>columns_transformers</span> <span class=p>(</span><span class=n>i</span> <span class=n>Int64</span><span class=p>,</span> <span class=n>j</span> <span class=n>Int16</span><span class=p>,</span> <span class=n>k</span> <span class=n>Int64</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span> <span class=k>ORDER</span> <span class=k>by</span> <span class=p>(</span><span class=n>i</span><span class=p>);</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>columns_transformers</span> <span class=k>VALUES</span> <span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>324</span><span class=p>),</span> <span class=p>(</span><span class=mi>120</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>23</span><span class=p>);</span>
<span class=k>SELECT</span> <span class=o>*</span> <span class=n>APPLY</span><span class=p>(</span><span class=k>sum</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>columns_transformers</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─sum(i)─┬─sum(j)─┬─sum(k)─┐
│    220 │     18 │    347 │
└────────┴────────┴────────┘
</code></pre></div> <h3 id=except-modifier>EXCEPT<a class=headerlink href=../amp/#except-modifier title="Permanent link"> </a></h3> <p>Specifies the names of one or more columns to exclude from the result. All matching column names are omitted from the output.</p> <p><strong>Syntax:</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr</span><span class=o>&gt;</span> <span class=k>EXCEPT</span> <span class=p>(</span> <span class=n>col_name1</span> <span class=p>[,</span> <span class=n>col_name2</span><span class=p>,</span> <span class=n>col_name3</span><span class=p>,</span> <span class=p>...]</span> <span class=p>)</span> <span class=k>FROM</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span>
</code></pre></div> <p><strong>Example:</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>EXCEPT</span> <span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>from</span> <span class=n>columns_transformers</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌──j─┬───k─┐
│ 10 │ 324 │
│  8 │  23 │
└────┴─────┘
</code></pre></div> <h3 id=replace-modifier>REPLACE<a class=headerlink href=../amp/#replace-modifier title="Permanent link"> </a></h3> <p>Specifies one or more <a href=../../../syntax/amp/#syntax-expression_aliases>expression aliases</a>. Each alias must match a column name from the <code class=syntax>SELECT *</code> statement. In the output column list, the column that matches the alias is replaced by the expression in that <code class=syntax>REPLACE</code>.</p> <p>This modifier does not change the names or order of columns. However, it can change the value and the value type.</p> <p><strong>Syntax:</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr</span><span class=o>&gt;</span> <span class=k>REPLACE</span><span class=p>(</span> <span class=o>&lt;</span><span class=n>expr</span><span class=o>&gt;</span> <span class=k>AS</span> <span class=n>col_name</span><span class=p>)</span> <span class=k>from</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span>
</code></pre></div> <p><strong>Example:</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>REPLACE</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span> <span class=k>AS</span> <span class=n>i</span><span class=p>)</span> <span class=k>from</span> <span class=n>columns_transformers</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌───i─┬──j─┬───k─┐
│ 101 │ 10 │ 324 │
│ 121 │  8 │  23 │
└─────┴────┴─────┘
</code></pre></div> <h3 id=modifier-combinations>Modifier Combinations<a class=headerlink href=../amp/#modifier-combinations title="Permanent link"> </a></h3> <p>You can use each modifier separately or combine them.</p> <p><strong>Examples:</strong></p> <p>Using the same modifier multiple times.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>COLUMNS</span><span class=p>(</span><span class=s1>'[jk]'</span><span class=p>)</span> <span class=n>APPLY</span><span class=p>(</span><span class=n>toString</span><span class=p>)</span> <span class=n>APPLY</span><span class=p>(</span><span class=k>length</span><span class=p>)</span> <span class=n>APPLY</span><span class=p>(</span><span class=k>max</span><span class=p>)</span> <span class=k>from</span> <span class=n>columns_transformers</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─max(length(toString(j)))─┬─max(length(toString(k)))─┐
│                        2 │                        3 │
└──────────────────────────┴──────────────────────────┘
</code></pre></div> <p>Using multiple modifiers in a single query.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>REPLACE</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span> <span class=k>AS</span> <span class=n>i</span><span class=p>)</span> <span class=k>EXCEPT</span> <span class=p>(</span><span class=n>j</span><span class=p>)</span> <span class=n>APPLY</span><span class=p>(</span><span class=k>sum</span><span class=p>)</span> <span class=k>from</span> <span class=n>columns_transformers</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─sum(plus(i, 1))─┬─sum(k)─┐
│             222 │    347 │
└─────────────────┴────────┘
</code></pre></div> <h2 id=settings-in-select>SETTINGS in SELECT Query<a class=headerlink href=../amp/#settings-in-select title="Permanent link"> </a></h2> <p>You can specify the necessary settings right in the <code class=syntax>SELECT</code> query. The setting value is applied only to this query and is reset to default or previous value after the query is executed. </p> <p>Other ways to make settings see <a href=../../../../operations/settings/amp/ >here</a>. </p> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>some_table</span> <span class=n>SETTINGS</span> <span class=n>optimize_read_in_order</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>cast_keep_nullable</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span>
</code></pre></div> <p><a href=https://clickhouse.tech/docs/en/sql-reference/statements/select/ target=_blank>Original article</a><!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2021 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/878a159538935028f2d2dce3eb3074d44eb191df rel="external nofollow noreferrer" target=_blank class=text-reset>878a159538</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/en/sql-reference/statements/select/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 