<!doctype html><html ⚡ lang=ja> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>入力および出力フォーマット | ClickHouseドキュメント</title><link href=https://clickhouse.tech/docs/ja/interfaces/formats/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "入力および出力フォーマット | ClickHouseドキュメント",
"mainEntityOfPage": "https://clickhouse.tech/docs/ja/interfaces/formats/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "入力および出力フォーマット | ClickHouseドキュメント",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,header,main{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}dd{margin-bottom:.5rem;margin-left:0}b,strong{font-weight:bolder}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}input,select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}input{overflow:visible}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}template{display:none}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.list-inline{padding-left:0;list-style:none}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.custom-select.is-valid{border-color:#28a745;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-select.is-invalid{border-color:#dc3545;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select{position:relative;-ms-flex:1 1 0;flex:1 1 0;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select{margin-left:-1px}.input-group>.custom-select:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select{height:calc(1.5em+1rem+2px)}.input-group-lg>.custom-select{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-lg>.custom-select{padding-right:1.75rem}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em+.75rem+2px);margin:0;opacity:0}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.border{border:1px solid #dee2e6}.border-right{border-right:1px solid #dee2e6}.border-bottom{border-bottom:1px solid #dee2e6}.border-0{border:0}.border-right-0{border-right:0}.border-bottom-0{border-bottom:0}.border-primary{border-color:#007bff}.border-light{border-color:#f8f9fa}.border-dark{border-color:#343a40}.border-white{border-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table td,.table th{background-color:#fff}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content thead{background:#444451;color:#fff}#content td,#content th{padding:.75rem;vertical-align:top}#content td{border:1px solid #dee2e6}#content th{border:1px solid #444451}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre,td,th,thead,tr{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content thead{background:#333}#content td{border:1px solid #444451}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .l{color:#08f}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .cp{color:#8d8687}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .na{color:#06b6ef}.syntax .nc{color:#fec418}.syntax .nd{color:#5bc4bf}.syntax .py{color:#2f1e2e}.syntax .nt{color:#5bc4bf}.syntax .mi{color:#08f}.syntax .s2{color:#48b685}.syntax .s1{color:#080}.syntax .ss{color:#48b685}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .ss{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/interfaces/formats/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/interfaces/formats.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=formats>入出力データのフォーマット<a class=headerlink href=../amp/#formats title="Permanent link"> </a></h1> <p>ClickHouse受け入れと返信データなフレームワークです。 入力用にサポートされている形式を使用して、指定されたデータを解析できます <code class=syntax>INSERT</code>s、実行する <code class=syntax>SELECT</code>ファイル、URL、HDFSなどのファイルバックアップテーブルから、または外部辞書を読み取ることができます。 出力でサポートされているフォーマットを使用して、<br> aの結果 <code class=syntax>SELECT</code>、および実行する <code class=syntax>INSERT</code>ファイルバックアップテーブルにs。</p> <p>のサポートされるフォーマットは:</p> <table> <thead> <tr> <th>形式</th> <th>入力</th> <th>出力</th> </tr> </thead> <tbody> <tr> <td><a href=../amp/#tabseparated>TabSeparated</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tabseparatedraw>TabSeparatedRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tabseparatedwithnames>TabSeparatedWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#format-template>テンプレー</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#templateignorespaces>TemplateIgnoreSpaces</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=../amp/#csv>CSV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#csvwithnames>CSVWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#format-customseparated>カスタム区切り</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-values>値</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#vertical>垂直</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#verticalraw>VerticalRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#json>JSON</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#jsoncompact>JSONCompact</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#jsoneachrow>JSONEachRow</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tskv>TSKV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#pretty>プリティ</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettycompact>プリティコンパクト</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettycompactmonoblock>プリティコンパクトモノブロック</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettynoescapes>プリティノスケープ</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettyspace>PrettySpace</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#protobuf>プロトブフ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-avro>アヴロ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-avro-confluent>アブロコンフルエント</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=../amp/#data-format-parquet>寄木細工</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-orc>ORC</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=../amp/#rowbinary>ローバイナリ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#native>ネイティブ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#null>Null</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#xml>XML</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#capnproto>CapnProto</a></td> <td>✔</td> <td>✗</td> </tr> </tbody> </table> <p>ClickHouse設定を使用して、いくつかの形式処理パラメータを制御できます。 詳細については、 <a href=../../../operations/settings/settings/amp/ >設定</a> セクション</p> <h2 id=tabseparated>TabSeparated<a class=headerlink href=../amp/#tabseparated title="Permanent link"> </a></h2> <p>TabSeparated形式では、データは行ごとに書き込まれます。 各行にはタブで区切られた値が含まれます。 各値の後にはタブが続きますが、行の最後の値の後には改行が続きます。 厳正なUnixラインフィードと仮定します。 最後の行には、最後に改行も含める必要があります。 値は、引用符を囲まずにテキスト形式で書き込まれ、特殊文字はエスケープされます。</p> <p>この形式は、名前でも使用できます <code class=syntax>TSV</code>.</p> <p>その <code class=syntax>TabSeparated</code> 形式は便利な加工データをカスタムプログラムやイントロダクションです。 これは、HTTPインターフェイスおよびコマンドラインクライアントのバッチモードで既定で使用されます。 この形式は、異なるDbms間でデータを転送することもできます。 たとえば、MySQLからダンプを取得してClickHouseにアップロードすることも、その逆も可能です。</p> <p>その <code class=syntax>TabSeparated</code> 書式では、合計値(合計と共に使用する場合)と極値(場合)の出力がサポートされます ‘extremes’ 1)に設定される。 このような場合、合計値と極値がメインデータの後に出力されます。 主な結果、合計値、および極値は、空の行で区切られます。 例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>TabSeparated</span><span class=o>``</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>2014-03-17      1406958
2014-03-18      1383658
2014-03-19      1405797
2014-03-20      1353623
2014-03-21      1245779
2014-03-22      1031592
2014-03-23      1046491

1970-01-01      8873898

2014-03-17      1031592
2014-03-23      1406958
</code></pre></div> <h3 id=data-formatting>データの書式設定<a class=headerlink href=../amp/#data-formatting title="Permanent link"> </a></h3> <p>整数は小数点形式で書かれています。 番号を含むことができ追加 “+” 先頭の文字(解析時は無視され、書式設定時は記録されません)。 負でない数値には負符号を含めることはできません。 読み取り時には、空の文字列をゼロとして解析するか、（符号付き型の場合）マイナス記号だけで構成される文字列をゼロとして解析することができ 対応するデータ型に適合しない数値は、エラーメッセージなしで別の数値として解析される可能性があります。</p> <p>浮動小数点数は小数点形式で記述されます。 ドットは小数点区切り記号として使用されます。 指数エントリがサポートされています。 ‘inf’, ‘+inf’, ‘-inf’,and ‘nan’. 浮動小数点数のエントリは、小数点で始まったり終わったりすることがあります。<br> 書式設定中に、浮動小数点数の精度が失われる可能性があります。<br> 解析中に、最も近いマシン表現可能な番号を読み取ることは厳密には必要ありません。</p> <p>日付はYYYY-MM-DD形式で記述され、同じ形式で解析されますが、区切り文字として任意の文字が使用されます。<br> 時刻付きの日付は、次の形式で記述されます <code class=syntax>YYYY-MM-DD hh:mm:ss</code> 同じ形式で解析されますが、区切り文字として任意の文字で解析されます。<br> これはすべて、クライアントまたはサーバーが起動したときのシステムタイムゾーンで発生します(データの形式に応じて)。 時刻のある日付の場合、夏時間は指定されません。 したがって、夏時間の間にダンプに時間がある場合、ダンプはデータと明確に一致しないため、解析は二回のいずれかを選択します。<br> 読み取り操作中に、エラーメッセージなしで、自然なオーバーフローまたはnullの日付と時刻として、不適切な日付と時刻を解析することができます。</p> <p>例外として、正確に10桁の数字で構成されている場合は、時刻を含む日付の解析もUnixタイムスタンプ形式でサポートされます。 結果はタイムゾーンに依存しません。 YYYY-MM-DD hh:mm:ssとNNNNNNNNNNの形式は自動的に区別されます。</p> <p>文字列はバックスラッシュでエスケープされた特殊文字で出力されます。 以下のエスケープシーケンスを使用出力: <code class=syntax>\b</code>, <code class=syntax>\f</code>, <code class=syntax>\r</code>, <code class=syntax>\n</code>, <code class=syntax>\t</code>, <code class=syntax>\0</code>, <code class=syntax>\'</code>, <code class=syntax>\\</code>. 解析にも対応し配列 <code class=syntax>\a</code>, <code class=syntax>\v</code>,and <code class=syntax>\xHH</code> (hexエスケープシーケンス)と <code class=syntax>\c</code> シーケンス <code class=syntax>c</code> は任意の文字です(これらのシーケンスは <code class=syntax>c</code>). このように、データを読み込む形式に対応し、改行して書き込み可能で <code class=syntax>\n</code> または <code class=syntax>\</code>、または改行として。 たとえば、文字列 <code class=syntax>Hello world</code> スペースの代わりに単語の間の改行を使用すると、次のいずれかのバリエーションで解析できます:</p> <div class=codehilite><pre><span></span><code class=syntax>Hello\nworld

Hello\
world
</code></pre></div> <p>の変異体でサポートしてMySQLで書く時にタブ区切り捨て場.</p> <p>TabSeparated形式でデータを渡すときにエスケープする必要がある最小文字セット:tab、改行(LF)、およびバックスラッシュ。</p> <p>のみの小さなセットの記号は自動的にエスケープされます。 あなたの端末が出力で台無しにする文字列値に簡単に遭遇することができます。</p> <p>配列は、角かっこで囲まれたコンマ区切りの値のリストとして記述されます。 配列内のNumber項目は、通常どおりに書式設定されます。 <code class=syntax>Date</code> と <code class=syntax>DateTime</code> 型は単一引quotesで記述されます。 文字列は、上記と同じエスケープ規則で一重引quotesで記述されます。</p> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> として書式設定される <code class=syntax>\N</code>.</p> <p>の各要素 <a href=../../../sql-reference/data-types/nested-data-structures/nested/amp/ >入れ子</a> 構造体は配列として表されます。</p> <p>例えば:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>nestedt</span>
<span class=p>(</span>
    <span class=o>`</span><span class=n>id</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=n>aux</span><span class=o>`</span> <span class=n>Nested</span><span class=p>(</span>
        <span class=n>a</span> <span class=n>UInt8</span><span class=p>,</span>
        <span class=n>b</span> <span class=n>String</span>
    <span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>nestedt</span> <span class=k>Values</span> <span class=p>(</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=s1>'a'</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>nestedt</span> <span class=n>FORMAT</span> <span class=n>TSV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>1  [1]    ['a']
</code></pre></div> <h2 id=tabseparatedraw>TabSeparatedRaw<a class=headerlink href=../amp/#tabseparatedraw title="Permanent link"> </a></h2> <p>とは異なる <code class=syntax>TabSeparated</code> 行がエスケープせずに書き込まれる形式。<br> この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <p>この形式は、名前でも使用できます <code class=syntax>TSVRaw</code>.</p> <h2 id=tabseparatedwithnames>TabSeparatedWithNames<a class=headerlink href=../amp/#tabseparatedwithnames title="Permanent link"> </a></h2> <p>とは異なる <code class=syntax>TabSeparated</code> 列名が最初の行に書き込まれる形式。<br> 解析中、最初の行は完全に無視されます。 列名を使用して位置を特定したり、列の正しさを確認したりすることはできません。<br> （ヘッダー行の解析のサポートは、将来的に追加される可能性があります。)</p> <p>この形式は、名前でも使用できます <code class=syntax>TSVWithNames</code>.</p> <h2 id=tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes<a class=headerlink href=../amp/#tabseparatedwithnamesandtypes title="Permanent link"> </a></h2> <p>とは異なる <code class=syntax>TabSeparated</code> 列名は最初の行に書き込まれ、列タイプは二番目の行に書き込まれます。<br> 解析中、第一行と第二行は完全に無視されます。</p> <p>この形式は、名前でも使用できます <code class=syntax>TSVWithNamesAndTypes</code>.</p> <h2 id=format-template>テンプレー<a class=headerlink href=../amp/#format-template title="Permanent link"> </a></h2> <p>このフォーマットで指定するカスタムフォーマット文字列とプレースホルダーのための値を指定して逃げます。</p> <p>設定を使用します <code class=syntax>format_template_resultset</code>, <code class=syntax>format_template_row</code>, <code class=syntax>format_template_rows_between_delimiter</code> and some settings of other formats (e.g. <code class=syntax>output_format_json_quote_64bit_integers</code> 使用する場合 <code class=syntax>JSON</code> エスケープ、さらに参照)</p> <p>設定 <code class=syntax>format_template_row</code> 次の構文で行の書式指定文字列を含むファイルへのパスを指定します:</p> <p><code class=syntax>delimiter_1${column_1:serializeAs_1}delimiter_2${column_2:serializeAs_2} ... delimiter_N</code>,</p> <p>どこに <code class=syntax>delimiter_i</code> 値の区切り文字です (<code class=syntax>$</code> シンボルでき逃してい <code class=syntax>$$</code>),<br> <code class=syntax>column_i</code> 値が選択または挿入される列の名前またはインデックスを指定します(空の場合、列はスキップされます),<br> <code class=syntax>serializeAs_i</code> 列値のエスケープ規則です。 以下の脱出ルールに対応:</p> <ul> <li><code class=syntax>CSV</code>, <code class=syntax>JSON</code>, <code class=syntax>XML</code> （同じ名前の形式と同様)</li> <li><code class=syntax>Escaped</code> （同様に <code class=syntax>TSV</code>)</li> <li><code class=syntax>Quoted</code> （同様に <code class=syntax>Values</code>)</li> <li><code class=syntax>Raw</code> （エスケープせずに、同様に <code class=syntax>TSVRaw</code>)</li> <li><code class=syntax>None</code> （エスケープルールなし、詳細を参照)</li> </ul> <p>エスケープ規則が省略された場合、 <code class=syntax>None</code> 使用されます。 <code class=syntax>XML</code> と <code class=syntax>Raw</code> 出力のためにだけ適しています。</p> <p>したがって、次の書式文字列の場合:</p> <div class=codehilite><pre><span></span><code class=syntax>  `Search phrase: <span class=cp>${</span><span class=n>SearchPhrase</span><span class=p>:</span><span class=n>Quoted</span><span class=cp>}</span>, count: <span class=cp>${</span><span class=n>c</span><span class=p>:</span><span class=n>Escaped</span><span class=cp>}</span>, ad price: $$${price:JSON};`
</code></pre></div> <p>の値 <code class=syntax>SearchPhrase</code>, <code class=syntax>c</code> と <code class=syntax>price</code> 列は、次のようにエスケープ <code class=syntax>Quoted</code>, <code class=syntax>Escaped</code> と <code class=syntax>JSON</code> その間に（選択のために）印刷されるか、または（挿入のために）期待されます <code class=syntax>Search phrase:</code>, <code class=syntax>, count:</code>, <code class=syntax>, ad price: $</code> と <code class=syntax>;</code> 区切り文字。 例えば:</p> <p><code class=syntax>Search phrase: 'bathroom interior design', count: 2166, ad price: $3;</code></p> <p>その <code class=syntax>format_template_rows_between_delimiter</code> これは、最後の行を除くすべての行の後に印刷されます（または期待されます）。 (<code class=syntax>\n</code> 既定では)</p> <p>設定 <code class=syntax>format_template_resultset</code> このパスには、resultsetの書式指定文字列が含まれます。 Resultsetの書式指定文字列は、行の書式指定文字列と同じ構文を持ち、接頭辞、接尾辞、および追加情報を出力する方法を指定できます。 列名の代わりに次のプレースホルダが含まれます:</p> <ul> <li><code class=syntax>data</code> はデータを含む行です <code class=syntax>format_template_row</code> で区切られた形式 <code class=syntax>format_template_rows_between_delimiter</code>. このプレースホルダーの最初のプレースホルダー形式の文字列になります。</li> <li><code class=syntax>totals</code> は、合計値を持つ行です。 <code class=syntax>format_template_row</code> 書式(合計で使用する場合)</li> <li><code class=syntax>min</code> は最小値を持つ行です。 <code class=syntax>format_template_row</code> 書式(極値が1に設定されている場合)</li> <li><code class=syntax>max</code> は最大値を持つ行です。 <code class=syntax>format_template_row</code> 書式(極値が1に設定されている場合)</li> <li><code class=syntax>rows</code> 出力行の合計数です</li> <li><code class=syntax>rows_before_limit</code> そこにあったであろう行の最小数は制限なしです。 出力の場合のみを含むクエリを制限します。 クエリにGROUP BYが含まれている場合、rows_before_limit_at_leastは制限なしで行われていた行の正確な数です。</li> <li><code class=syntax>time</code> リクエストの実行時間を秒単位で指定します</li> <li><code class=syntax>rows_read</code> 読み込まれた行数です</li> <li><code class=syntax>bytes_read</code> (圧縮されていない)読み込まれたバイト数です</li> </ul> <p>プレースホルダ <code class=syntax>data</code>, <code class=syntax>totals</code>, <code class=syntax>min</code> と <code class=syntax>max</code> エスケープルールを指定してはいけません <code class=syntax>None</code> 明示的に指定する必要があります)。 残りのプレースホルダはあるの脱出ルールを指定します。<br> もし <code class=syntax>format_template_resultset</code> 設定は空の文字列です, <code class=syntax>${data}</code> デフォルト値として使用されます。<br> Insertクエリ形式では、接頭辞または接尾辞の場合は、一部の列または一部のフィールドをスキップできます（例を参照）。</p> <p>例を選択:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>'\n    '</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>&lt;!DOCTYPE HTML&gt;
&lt;html&gt; &lt;head&gt; &lt;title&gt;Search phrases&lt;/title&gt; &lt;/head&gt;
 &lt;body&gt;
  &lt;table border="1"&gt; &lt;caption&gt;Search phrases&lt;/caption&gt;
    &lt;tr&gt; &lt;th&gt;Search phrase&lt;/th&gt; &lt;th&gt;Count&lt;/th&gt; &lt;/tr&gt;
    ${data}
  &lt;/table&gt;
  &lt;table border="1"&gt; &lt;caption&gt;Max&lt;/caption&gt;
    ${max}
  &lt;/table&gt;
  &lt;b&gt;Processed ${rows_read:XML} rows in ${time:XML} sec&lt;/b&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>&lt;tr&gt; &lt;td&gt;${0:XML}&lt;/td&gt; &lt;td&gt;${1:XML}&lt;/td&gt; &lt;/tr&gt;
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>&lt;!DOCTYPE HTML&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
 <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>"1"</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Search phrase<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Count<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8267016<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>bathroom interior design<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>2166<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>yandex<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1655<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>spring 2014 fashion<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1549<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>freeform photos<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1480<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>"1"</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Max<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8873898<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>b</span><span class=p>&gt;</span>Processed 3095973 rows in 0.1569913 sec<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
 <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>挿入例:</p> <div class=codehilite><pre><span></span><code class=syntax>Some header
Page views: 5, User id: 4324182021466249494, Useless field: hello, Duration: 146, Sign: -1
Page views: 6, User id: 4324182021466249494, Useless field: world, Duration: 185, Sign: 1
Total rows: 2
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>Some header\n${data}\nTotal rows: ${:CSV}\n
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>Page views: ${PageViews:CSV}, User id: ${UserID:CSV}, Useless field: ${:CSV}, Duration: ${Duration:CSV}, Sign: ${Sign:CSV}
</code></pre></div> <p><code class=syntax>PageViews</code>, <code class=syntax>UserID</code>, <code class=syntax>Duration</code> と <code class=syntax>Sign</code> 内部のプレースホルダーは、テーブル内の列の名前です。 後の値 <code class=syntax>Useless field</code> 行とその後 <code class=syntax>\nTotal rows:</code> in suffixは無視されます。<br> すべての区切り文字の入力データを厳密に等しい区切り文字で指定されたフォーマット文字列です。</p> <h2 id=templateignorespaces>TemplateIgnoreSpaces<a class=headerlink href=../amp/#templateignorespaces title="Permanent link"> </a></h2> <p>この形式は入力にのみ適しています。<br> に類似した <code class=syntax>Template</code> しかし、入力ストリーム内の区切り文字と値の間の空白文字をスキップします。 ただし、書式指定文字列に空白文字が含まれている場合、これらの文字は入力ストリーム内で使用されます。 でも指定空のプレースホルダー (<code class=syntax>${}</code> または <code class=syntax>${:None}</code>）区切り文字を別々の部分に分割して、それらの間のスペースを無視します。 などのプレースホルダを使用させていただきますの飛び空白文字です。<br> それは読むことが可能です <code class=syntax>JSON</code> 列の値がすべての行で同じ順序を持つ場合は、この形式を使用します。 たとえば、次のリクエストは、formatの出力例からデータを挿入するために使用できます <a href=../amp/#json>JSON</a>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=k>table_name</span> <span class=n>FORMAT</span> <span class=n>TemplateIgnoreSpaces</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>','</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>{${}"meta"${}:${:JSON},${}"data"${}:${}[${data}]${},${}"totals"${}:${:JSON},${}"extremes"${}:${:JSON},${}"rows"${}:${:JSON},${}"rows_before_limit_at_least"${}:${:JSON}${}}
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>{${}"SearchPhrase"${}:${}${phrase:JSON}${},${}"c"${}:${}${cnt:JSON}${}}
</code></pre></div> <h2 id=tskv>TSKV<a class=headerlink href=../amp/#tskv title="Permanent link"> </a></h2> <p>TabSeparatedに似ていますが、name=value形式で値を出力します。 名前はTabSeparated形式と同じ方法でエスケープされ、=記号もエスケープされます。</p> <div class=codehilite><pre><span></span><code class=syntax>SearchPhrase=   count()=8267016
SearchPhrase=bathroom interior design    count()=2166
SearchPhrase=yandex     count()=1655
SearchPhrase=2014 spring fashion    count()=1549
SearchPhrase=freeform photos       count()=1480
SearchPhrase=angelina jolie    count()=1245
SearchPhrase=omsk       count()=1112
SearchPhrase=photos of dog breeds    count()=1091
SearchPhrase=curtain designs        count()=1064
SearchPhrase=baku       count()=1000
</code></pre></div> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> として書式設定される <code class=syntax>\N</code>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>TSKV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>x=1    y=\N
</code></pre></div> <p>小さな列が多数ある場合、この形式は無効であり、一般的に使用する理由はありません。 それにもかかわらず、それはJSONEachRowよりも悪くありません効率の面で。</p> <p>Both data output and parsing are supported in this format. For parsing, any order is supported for the values of different columns. It is acceptable for some values to be omitted – they are treated as equal to their default values. In this case, zeros and blank rows are used as default values. Complex values that could be specified in the table are not supported as defaults.</p> <p>構文解析できるの存在は、追加のフィールド <code class=syntax>tskv</code> 等号または値なし。 この項目は無視されます。</p> <h2 id=csv>CSV<a class=headerlink href=../amp/#csv title="Permanent link"> </a></h2> <p>カンマ区切りの値の形式 (<a href=https://tools.ietf.org/html/rfc4180 rel="external nofollow noreferrer" target=_blank>RFC</a>).</p> <p>書式設定の場合、行は二重引用符で囲まれます。 文字列内の二重引用符は、行の二重引用符として出力されます。 文字をエスケープするルールは他にありません。 Dateとdate-timeは二重引用符で囲みます。 数値は引用符なしで出力されます。 値は区切り文字で区切られます。 <code class=syntax>,</code> デフォルトでは。 区切り文字は設定で定義されています <a href=../../../operations/settings/settings/amp/#settings-format_csv_delimiter>format_csv_delimiter</a>. 行は、Unixラインフィード(LF)を使用して区切られます。 最初に、配列はTabSeparated形式のように文字列にシリアル化され、結果の文字列は二重引用符でCSVに出力されます。 CSV形式のタプルは、個別の列としてシリアル化されます(つまり、タプル内の入れ子は失われます)。</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --format_csv_delimiter<span class=o>=</span><span class=s2>"|"</span> --query<span class=o>=</span><span class=s2>"INSERT INTO test.csv FORMAT CSV"</span> &lt; data.csv
</code></pre></div> <p>*デフォルトでは、区切り文字は <code class=syntax>,</code>. を参照。 <a href=../../../operations/settings/settings/amp/#settings-format_csv_delimiter>format_csv_delimiter</a> より多くの情報のための設定。</p> <p>解析時には、すべての値を引用符の有無にかかわらず解析できます。 二重引用符と単一引quotesの両方がサポートされています。 行は引用符なしで配置することもできます。 この場合、区切り文字または改行（CRまたはLF）まで解析されます。 RFCに違反して、引用符なしで行を解析すると、先頭と末尾のスペースとタブは無視されます。 ラインフィードでは、Unix(LF)、Windows(CR LF)、およびMac OS Classic(CR LF)タイプがすべてサポートされています。</p> <p>空の引用符で囲まれていない入力値は、それぞれの列のデフォルト値に置き換えられます。<br> <a href=../../../operations/settings/settings/amp/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a><br> 有効です。</p> <p><code class=syntax>NULL</code> として書式設定される <code class=syntax>\N</code> または <code class=syntax>NULL</code> または空の引用符で囲まれていない文字列(設定を参照 <a href=../../../operations/settings/settings/amp/#settings-input_format_csv_unquoted_null_literal_as_null>input_format_csv_unquoted_null_literal_as_null</a> と <a href=../../../operations/settings/settings/amp/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a>).</p> <p>CSV形式では、合計と極値の出力は次のようにサポートされます <code class=syntax>TabSeparated</code>.</p> <h2 id=csvwithnames>CSVWithNames<a class=headerlink href=../amp/#csvwithnames title="Permanent link"> </a></h2> <p>また、次のようなヘッダー行も出力します <code class=syntax>TabSeparatedWithNames</code>.</p> <h2 id=format-customseparated>カスタム区切り<a class=headerlink href=../amp/#format-customseparated title="Permanent link"> </a></h2> <p>に類似した <a href=../amp/#format-template>テンプレー</a> ですが、版画を読み込みまたは全てのカラムを使用脱出ルールからの設定 <code class=syntax>format_custom_escaping_rule</code> 設定から区切り文字 <code class=syntax>format_custom_field_delimiter</code>, <code class=syntax>format_custom_row_before_delimiter</code>, <code class=syntax>format_custom_row_after_delimiter</code>, <code class=syntax>format_custom_row_between_delimiter</code>, <code class=syntax>format_custom_result_before_delimiter</code> と <code class=syntax>format_custom_result_after_delimiter</code> 書式指定文字列からではありません。<br> また <code class=syntax>CustomSeparatedIgnoreSpaces</code> 形式は次のようになります <code class=syntax>TemplateIgnoreSpaces</code>.</p> <h2 id=json>JSON<a class=headerlink href=../amp/#json title="Permanent link"> </a></h2> <p>JSON形式でデータを出力します。 データテーブルのほかに、列名と型、および出力行の合計数、制限がない場合に出力される可能性のある行の数などの追加情報も出力します。 例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=n>JSON</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
        <span class=nt>"meta"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"SearchPhrase"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"String"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"c"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"UInt64"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"data"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8267016"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"bathroom interior design"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"2166"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"yandex"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1655"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"spring 2014 fashion"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1549"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"freeform photos"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1480"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"totals"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8873898"</span>
        <span class=p>},</span>

        <span class=nt>"extremes"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"min"</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1480"</span>
                <span class=p>},</span>
                <span class=nt>"max"</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8267016"</span>
                <span class=p>}</span>
        <span class=p>},</span>

        <span class=nt>"rows"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>"rows_before_limit_at_least"</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>JSONはJavaScriptと互換性があります。 これを確実にするために、一部の文字は追加でエスケープされます。 <code class=syntax>/</code> としてエスケープ <code class=syntax>\/</code>;代替の改行 <code class=syntax>U+2028</code> と <code class=syntax>U+2029</code> ブラウザによってはエスケープされます <code class=syntax>\uXXXX</code>. ASCII制御文字はエスケープされます。 <code class=syntax>\b</code>, <code class=syntax>\f</code>, <code class=syntax>\n</code>, <code class=syntax>\r</code>, <code class=syntax>\t</code> を使用して、00-1F範囲の残りのバイトと同様に <code class=syntax>\uXXXX</code> sequences. Invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences. For compatibility with JavaScript, Int64 and UInt64 integers are enclosed in double-quotes by default. To remove the quotes, you can set the configuration parameter <a href=../../../operations/settings/settings/amp/#session_settings-output_format_json_quote_64bit_integers>output_format_json_quote_64bit_integers</a> 0にする。</p> <p><code class=syntax>rows</code> – The total number of output rows.</p> <p><code class=syntax>rows_before_limit_at_least</code> そこにある行の最小数は制限なしであったでしょう。 出力の場合のみを含むクエリを制限します。<br> クエリにGROUP BYが含まれている場合、rows_before_limit_at_leastは制限なしで行われていた行の正確な数です。</p> <p><code class=syntax>totals</code> – Total values (when using WITH TOTALS).</p> <p><code class=syntax>extremes</code> – Extreme values (when extremes are set to 1).</p> <p>この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <p>ClickHouseサポート <a href=../../../sql-reference/syntax/amp/ >NULL</a> として表示されます。 <code class=syntax>null</code> JSON出力で。</p> <p>も参照。 <a href=../amp/#jsoneachrow>JSONEachRow</a> 形式。</p> <h2 id=jsoncompact>JSONCompact<a class=headerlink href=../amp/#jsoncompact title="Permanent link"> </a></h2> <p>JSONとは異なるのは、データ行がオブジェクトではなく配列で出力される点だけです。</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
        <span class=nt>"meta"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"SearchPhrase"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"String"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"c"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"UInt64"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"data"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>[</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"8267016"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"bathroom interior design"</span><span class=p>,</span> <span class=s2>"2166"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"yandex"</span><span class=p>,</span> <span class=s2>"1655"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"fashion trends spring 2014"</span><span class=p>,</span> <span class=s2>"1549"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"freeform photo"</span><span class=p>,</span> <span class=s2>"1480"</span><span class=p>]</span>
        <span class=p>],</span>

        <span class=nt>"totals"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"8873898"</span><span class=p>],</span>

        <span class=nt>"extremes"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"min"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"1480"</span><span class=p>],</span>
                <span class=nt>"max"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"8267016"</span><span class=p>]</span>
        <span class=p>},</span>

        <span class=nt>"rows"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>"rows_before_limit_at_least"</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。<br> も参照。 <code class=syntax>JSONEachRow</code> 形式。</p> <h2 id=jsoneachrow>JSONEachRow<a class=headerlink href=../amp/#jsoneachrow title="Permanent link"> </a></h2> <p>この形式を使用する場合、ClickHouseは行を区切り、改行区切りのJSONオブジェクトとして出力しますが、データ全体は有効なJSONではありません。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>"curtain designs"</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"1064"</span><span class=p>}</span>
<span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>"baku"</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"1000"</span><span class=p>}</span>
<span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>""</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"8267016"</span><span class=p>}</span>
</code></pre></div> <p>データを挿入するときは、各行に個別のJSONオブジェクトを指定する必要があります。</p> <h3 id=inserting-data>データの挿入<a class=headerlink href=../amp/#inserting-data title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"PageViews"</span><span class=p>:</span><span class=mi>5</span><span class=p>,</span> <span class=ss>"UserID"</span><span class=p>:</span><span class=ss>"4324182021466249494"</span><span class=p>,</span> <span class=ss>"Duration"</span><span class=p>:</span><span class=mi>146</span><span class=p>,</span><span class=ss>"Sign"</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=err>}</span> <span class=err>{</span><span class=ss>"UserID"</span><span class=p>:</span><span class=ss>"4324182021466249494"</span><span class=p>,</span><span class=ss>"PageViews"</span><span class=p>:</span><span class=mi>6</span><span class=p>,</span><span class=ss>"Duration"</span><span class=p>:</span><span class=mi>185</span><span class=p>,</span><span class=ss>"Sign"</span><span class=p>:</span><span class=mi>1</span><span class=err>}</span>
</code></pre></div> <p>クリックハウス:</p> <ul> <li>オブジェクト内のキーと値のペアの任意の順序。</li> <li>いくつかの値を省略します。</li> </ul> <p>ClickHouseを無視した空間要素には、カンマの後にオブジェクト。 すべてのオブジェクトを一行で渡すことができます。 改行で区切る必要はありません。</p> <p><strong>省略された値の処理</strong></p> <p>ClickHouseは省略された値を対応するデフォルト値に置き換えます <a href=../../../sql-reference/data-types/amp/ >データ型</a>.</p> <p>もし <code class=syntax>DEFAULT expr</code> に応じて異なる置換規則を使用します。 <a href=../../../operations/settings/settings/amp/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a> 設定。</p> <p>次の表を考えます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>example_table</span>
<span class=p>(</span>
    <span class=n>x</span> <span class=n>UInt32</span><span class=p>,</span>
    <span class=n>a</span> <span class=k>DEFAULT</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>
</code></pre></div> <ul> <li>もし <code class=syntax>input_format_defaults_for_omitted_fields = 0</code> のデフォルト値 <code class=syntax>x</code> と <code class=syntax>a</code> 等しい <code class=syntax>0</code> のデフォルト値として <code class=syntax>UInt32</code> データ型）。</li> <li>もし <code class=syntax>input_format_defaults_for_omitted_fields = 1</code> のデフォルト値 <code class=syntax>x</code> 等しい <code class=syntax>0</code> しかし、デフォルト値は <code class=syntax>a</code> 等しい <code class=syntax>x * 2</code>.</li> </ul> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">警告</p> <p>データを挿入するとき <code class=syntax>insert_sample_with_metadata = 1</code>,ClickHouseは、挿入と比較して、より多くの計算リソースを消費します <code class=syntax>insert_sample_with_metadata = 0</code>.</p> </div> <h3 id=selecting-data>データの選択<a class=headerlink href=../amp/#selecting-data title="Permanent link"> </a></h3> <p>を考える <code class=syntax>UserActivity</code> 例としての表:</p> <div class=codehilite><pre><span></span><code class=syntax>┌──────────────UserID─┬─PageViews─┬─Duration─┬─Sign─┐
│ 4324182021466249494 │         5 │      146 │   -1 │
│ 4324182021466249494 │         6 │      185 │    1 │
└─────────────────────┴───────────┴──────────┴──────┘
</code></pre></div> <p>クエリ <code class=syntax>SELECT * FROM UserActivity FORMAT JSONEachRow</code> ﾂづｩﾂ。:</p> <div class=codehilite><pre><span></span><code class=syntax>{"UserID":"4324182021466249494","PageViews":5,"Duration":146,"Sign":-1}
{"UserID":"4324182021466249494","PageViews":6,"Duration":185,"Sign":1}
</code></pre></div> <p>とは異なり <a href=../amp/#json>JSON</a> 無効なUTF-8シーケンスの置換はありません。 値は、次の場合と同じ方法でエスケープされます <code class=syntax>JSON</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>任意のバイトセットを文字列に出力できます。 使用する <code class=syntax>JSONEachRow</code> テーブル内のデータが情報を失うことなくJSONとしてフォーマットできることが確実な場合は、format。</p> </div> <h3 id=jsoneachrow-nested>入れ子構造の使用<a class=headerlink href=../amp/#jsoneachrow-nested title="Permanent link"> </a></h3> <p>あなたがテーブルを持っている場合 <a href=../../../sql-reference/data-types/nested-data-structures/nested/amp/ >入れ子</a> データ型の列には、同じ構造でJSONデータを挿入することができます。 この機能を有効にするには <a href=../../../operations/settings/settings/amp/#settings-input_format_import_nested_json>input_format_import_nested_json</a> 設定。</p> <p>たとえば、次の表を考えてみましょう:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>json_each_row_nested</span> <span class=p>(</span><span class=n>n</span> <span class=n>Nested</span> <span class=p>(</span><span class=n>s</span> <span class=n>String</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span>
</code></pre></div> <p>で見ることができるように <code class=syntax>Nested</code> ClickHouseは、入れ子構造の各コンポーネントを個別の列として扱います (<code class=syntax>n.s</code> と <code class=syntax>n.i</code> 私達のテーブルのため）。 次の方法でデータを挿入できます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n.s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"n.i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}</span>
</code></pre></div> <p>挿入データとしての階層JSONオブジェクト <a href=../../../operations/settings/settings/amp/#settings-input_format_import_nested_json>input_format_import_nested_json=1</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
    <span class=nt>"n"</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>"s"</span><span class=p>:</span> <span class=p>[</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>"def"</span><span class=p>],</span>
        <span class=nt>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>この設定がない場合、ClickHouseは例外をスローします。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>'input_format_import_nested_json'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name────────────────────────────┬─value─┐
│ input_format_import_nested_json │ 0     │
└─────────────────────────────────┴───────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n"</span><span class=p>:</span> <span class=err>{</span><span class=ss>"s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Code: 117. DB::Exception: Unknown field found while parsing JSONEachRow format: n: (at row 1)
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=n>input_format_import_nested_json</span><span class=o>=</span><span class=mi>1</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n"</span><span class=p>:</span> <span class=err>{</span><span class=ss>"s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>json_each_row_nested</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─n.s───────────┬─n.i────┐
│ ['abc','def'] │ [1,23] │
└───────────────┴────────┘
</code></pre></div> <h2 id=native>ネイティブ<a class=headerlink href=../amp/#native title="Permanent link"> </a></h2> <p>最も効率的な形式。 データ書き込みおよび読み込みをブロックのバイナリ形式です。 ブロックごとに、このブロック内の行数、列数、列名と型、および列の一部が次々と記録されます。 つまり、この形式は “columnar” – it doesn't convert columns to rows. This is the format used in the native interface for interaction between servers, for using the command-line client, and for C++ clients.</p> <p>この形式を使用すると、ClickHouse DBMSでのみ読み取ることができるダンプをすばやく生成できます。 この形式で自分で作業するのは理にかなっていません。</p> <h2 id=null>Null<a class=headerlink href=../amp/#null title="Permanent link"> </a></h2> <p>何も出力されません。 ただし、クエリは処理され、コマンドラインクライアントを使用する場合、データはクライアントに送信されます。 この使用のための試験、性能試験をします。<br> 明らかに、この形式は出力にのみ適しており、解析には適していません。</p> <h2 id=pretty>プリティ<a class=headerlink href=../amp/#pretty title="Permanent link"> </a></h2> <p>出力データとしてのUnicodeトテーブルも用ANSI-エスケープシーケンス設定色の端子です。<br> テーブルの完全なグリッドが描画され、各行は、端末内の二つの行を占めています。<br> 各結果ブロックは、個別のテーブルとして出力されます。 これは、結果をバッファリングせずにブロックを出力できるようにするために必要です（すべての値の可視幅を事前に計算するためにはバッファ</p> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> として出力されます <code class=syntax>ᴺᵁᴸᴸ</code>.</p> <p>例（以下に示す <a href=../amp/#prettycompact>プリティコンパクト</a> 形式):</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─x─┬────y─┐
│ 1 │ ᴺᵁᴸᴸ │
└───┴──────┘
</code></pre></div> <p>行はきれいな*形式ではエスケープされません。 例はのために示されています <a href=../amp/#prettycompact>プリティコンパクト</a> 形式:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=s1>'String with \'</span><span class=n>quotes</span><span class=err>\</span><span class=s1>' and \t character'</span> <span class=k>AS</span> <span class=n>Escaping_test</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─Escaping_test────────────────────────┐
│ String with 'quotes' and      character │
└──────────────────────────────────────┘
</code></pre></div> <p>端末に大量のデータをダンプするのを避けるために、最初の10,000行だけが印刷されます。 行数が10,000以上の場合、メッセージ “Showed first 10 000” 印刷されます。<br> この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <p>Pretty形式は、合計値(合計と共に使用する場合)および極値(場合)の出力をサポートします ‘extremes’ 1)に設定される。 このような場合、合計値と極値は、メインデータの後に個別のテーブルで出力されます。 例（以下に示す <a href=../amp/#prettycompact>プリティコンパクト</a> 形式):</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>PrettyCompact</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1406958 │
│ 2014-03-18 │ 1383658 │
│ 2014-03-19 │ 1405797 │
│ 2014-03-20 │ 1353623 │
│ 2014-03-21 │ 1245779 │
│ 2014-03-22 │ 1031592 │
│ 2014-03-23 │ 1046491 │
└────────────┴─────────┘

Totals:
┌──EventDate─┬───────c─┐
│ 1970-01-01 │ 8873898 │
└────────────┴─────────┘

Extremes:
┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1031592 │
│ 2014-03-23 │ 1406958 │
└────────────┴─────────┘
</code></pre></div> <h2 id=prettycompact>プリティコンパクト<a class=headerlink href=../amp/#prettycompact title="Permanent link"> </a></h2> <p>とは異なる <a href=../amp/#pretty>プリティ</a> グリッドが行の間に描画され、結果がよりコンパクトになるという点で。<br> この形式は、対話モードのコマンドラインクライアントで既定で使用されます。</p> <h2 id=prettycompactmonoblock>プリティコンパクトモノブロック<a class=headerlink href=../amp/#prettycompactmonoblock title="Permanent link"> </a></h2> <p>とは異なる <a href=../amp/#prettycompact>プリティコンパクト</a> 最大10,000行がバッファリングされ、ブロックではなく単一のテーブルとして出力されます。</p> <h2 id=prettynoescapes>プリティノスケープ<a class=headerlink href=../amp/#prettynoescapes title="Permanent link"> </a></h2> <p>Ansiエスケープシーケンスが使用されない点でPrettyとは異なります。 これは、ブラウザでこの形式を表示するために必要です。 ‘watch’ コマンドライン</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax>$ watch -n1 <span class=s2>"clickhouse-client --query='SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes'"</span>
</code></pre></div> <p>HTTPインターフェイスを使用して、ブラウザーで表示できます。</p> <h3 id=prettycompactnoescapes>プリティコンパクトノスケープ<a class=headerlink href=../amp/#prettycompactnoescapes title="Permanent link"> </a></h3> <p>前の設定と同じです。</p> <h3 id=prettyspacenoescapes>プリティスパセノスケープス<a class=headerlink href=../amp/#prettyspacenoescapes title="Permanent link"> </a></h3> <p>前の設定と同じです。</p> <h2 id=prettyspace>PrettySpace<a class=headerlink href=../amp/#prettyspace title="Permanent link"> </a></h2> <p>とは異なる <a href=../amp/#prettycompact>プリティコンパクト</a> その中で、グリッドの代わりに空白（空白文字）が使用されます。</p> <h2 id=rowbinary>ローバイナリ<a class=headerlink href=../amp/#rowbinary title="Permanent link"> </a></h2> <p>バイナリ形式で行ごとにデータを書式設定および解析します。 行と値は、区切り文字なしで連続して表示されます。<br> この形式は行ベースであるため、ネイティブ形式よりも効率的ではありません。</p> <p>整数は固定長のリトルエンディアン表現を使用します。 たとえば、UInt64は8バイトを使用します。<br> DateTimeは、Unixタイムスタンプを値として含むUInt32として表されます。<br> Dateは、値として1970-01-01以降の日数を含むUInt16オブジェクトとして表されます。<br> 文字列はvarintの長さ(符号なし)で表されます <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>)の後に文字列のバイトが続きます。<br> FixedStringは、単にバイトのシーケンスとして表されます。</p> <p>配列はvarintの長さとして表されます(符号なし <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>)の後に、配列の連続する要素が続きます。</p> <p>のために <a href=../../../sql-reference/syntax/amp/#null-literal>NULL</a> 1または0を含む追加のバイトがそれぞれの前に追加されます <a href=../../../sql-reference/data-types/nullable/amp/ >Null可能</a> 値。 1の場合、値は <code class=syntax>NULL</code> このバイトは別の値として解釈されます。 0の場合、バイトの後の値は <code class=syntax>NULL</code>.</p> <h2 id=rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes<a class=headerlink href=../amp/#rowbinarywithnamesandtypes title="Permanent link"> </a></h2> <p>に類似した <a href=../amp/#rowbinary>ローバイナリ</a>,しかし、追加されたヘッダ:</p> <ul> <li><a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>-エンコードされた列数(N)</li> <li>N <code class=syntax>String</code>s列名の指定</li> <li>N <code class=syntax>String</code>s列タイプの指定</li> </ul> <h2 id=data-format-values>値<a class=headerlink href=../amp/#data-format-values title="Permanent link"> </a></h2> <p>すべての行をかっこで表示します。 行はカンマで区切られます。 最後の行の後にコンマはありません。 角かっこ内の値もコンマ区切りです。 数値は、引用符なしで小数点形式で出力されます。 配列は角かっこで出力されます。 文字列、日付、および時刻付きの日付は引用符で出力されます。 ルールのエスケープと解析は <a href=../amp/#tabseparated>TabSeparated</a> 形式。 フォーマット中に余分なスペースは挿入されませんが、解析中には許可され、スキップされます（配列値内のスペースは許可されません）。 <a href=../../../sql-reference/syntax/amp/ >NULL</a> と表される。 <code class=syntax>NULL</code>.</p> <p>The minimum set of characters that you need to escape when passing data in Values ​​format: single quotes and backslashes.</p> <p>これはで使用される形式です <code class=syntax>INSERT INTO t VALUES ...</code> ただし、クエリ結果の書式設定にも使用できます。</p> <p>も参照。: <a href=../../../operations/settings/settings/amp/#settings-input_format_values_interpret_expressions>input_format_values_interpret_expressions</a> と <a href=../../../operations/settings/settings/amp/#settings-input_format_values_deduce_templates_of_expressions>input_format_values_deduce_templates_of_expressions</a> 設定。</p> <h2 id=vertical>垂直<a class=headerlink href=../amp/#vertical title="Permanent link"> </a></h2> <p>列名を指定して、それぞれの値を別々の行に出力します。 この形式は、各行が多数の列で構成されている場合、一つまたは数つの行だけを印刷するのに便利です。</p> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> として出力されます <code class=syntax>ᴺᵁᴸᴸ</code>.</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
x: 1
y: ᴺᵁᴸᴸ
</code></pre></div> <p>行は縦書式でエスケープされません:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=s1>'string with \'</span><span class=n>quotes</span><span class=err>\</span><span class=s1>' and \t with some special \n characters'</span> <span class=k>AS</span> <span class=n>test</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
test: string with 'quotes' and      with some special
 characters
</code></pre></div> <p>この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <h2 id=verticalraw>VerticalRaw<a class=headerlink href=../amp/#verticalraw title="Permanent link"> </a></h2> <p>に類似した <a href=../amp/#vertical>垂直</a> しかし、エスケープ無効で。 この形式は、クエリ結果の出力にのみ適しており、解析（データの受信とテーブルへの挿入）には適していません。</p> <h2 id=xml>XML<a class=headerlink href=../amp/#xml title="Permanent link"> </a></h2> <p>XML形式は出力にのみ適しており、解析には適していません。 例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;</span>
<span class=nt>&lt;result&gt;</span>
        <span class=nt>&lt;meta&gt;</span>
                <span class=nt>&lt;columns&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>SearchPhrase<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>String<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>count()<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>UInt64<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                <span class=nt>&lt;/columns&gt;</span>
        <span class=nt>&lt;/meta&gt;</span>
        <span class=nt>&lt;data&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>8267016<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>bathroom interior design<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>2166<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>yandex<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1655<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>2014 spring fashion<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1549<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>freeform photos<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1480<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>angelina jolie<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1245<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>omsk<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1112<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>photos of dog breeds<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1091<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>curtain designs<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1064<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>baku<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1000<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
        <span class=nt>&lt;/data&gt;</span>
        <span class=nt>&lt;rows&gt;</span>10<span class=nt>&lt;/rows&gt;</span>
        <span class=nt>&lt;rows_before_limit_at_least&gt;</span>141137<span class=nt>&lt;/rows_before_limit_at_least&gt;</span>
<span class=nt>&lt;/result&gt;</span>
</code></pre></div> <p>列名に許容可能な形式がない場合は、次のようにします ‘field’ 要素名として使用されます。 一般に、XML構造はJSON構造に従います。<br> Just as for JSON, invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences.</p> <p>文字列値では、文字 <code class=syntax>&lt;</code> と <code class=syntax>&amp;</code> としてエスケープ <code class=syntax>&lt;</code> と <code class=syntax>&amp;</code>.</p> <p>配列は次のように出力される <code class=syntax>&lt;array&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/array&gt;</code>、およびタプルとして <code class=syntax>&lt;tuple&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/tuple&gt;</code>.</p> <h2 id=capnproto>CapnProto<a class=headerlink href=../amp/#capnproto title="Permanent link"> </a></h2> <p>Cap'n Protoは、プロトコルバッファや倹約に似たバイナリメッセージ形式ですが、JSONやMessagePackのようなものではありません。</p> <p>Cap'n Protoメッセージは厳密に型指定され、自己記述ではないため、外部スキーマ記述が必要です。 スキーマはその場で適用され、クエリごとにキャッシュされます。</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat capnproto_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>"INSERT INTO test.hits FORMAT CapnProto SETTINGS format_schema='schema:Message'"</span>
</code></pre></div> <p>どこに <code class=syntax>schema.capnp</code> このように見えます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>struct</span> <span class=n>Message</span> {
  <span class=n>SearchPhrase</span> <span class=nd>@0</span> <span class=nc>:Text</span>;
  <span class=n>c</span> <span class=nd>@1</span> <span class=nc>:Uint64</span>;
}
</code></pre></div> <p>逆シリアル化は効果的であり、通常はシステム負荷を増加させません。</p> <p>も参照。 <a href=../amp/#formatschema>スキーマの書式</a>.</p> <h2 id=protobuf>プロトブフ<a class=headerlink href=../amp/#protobuf title="Permanent link"> </a></h2> <p>Protobufは-です <a href=https://developers.google.com/protocol-buffers/ rel="external nofollow noreferrer" target=_blank>プロトコル</a> 形式。</p> <p>この形式には、外部形式スキーマが必要です。 このスキーマをキャッシュ間のクエリ.<br> ClickHouseは両方をサポート <code class=syntax>proto2</code> と <code class=syntax>proto3</code> 構文。 繰り返/オプションに必要な分野に対応しています。</p> <p>使用例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=k>table</span> <span class=n>FORMAT</span> <span class=n>Protobuf</span> <span class=n>SETTINGS</span> <span class=n>format_schema</span> <span class=o>=</span> <span class=s1>'schemafile:MessageType'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>cat protobuf_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>"INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema='schemafile:MessageType'"</span>
</code></pre></div> <p>ここで、ファイル <code class=syntax>schemafile.proto</code> このように見えます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>syntax</span> <span class=l>= "proto3"</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>string</span> <span class=n>name</span> <span class=l>= 1</span>;
  <span class=n>string</span> <span class=n>surname</span> <span class=l>= 2</span>;
  <span class=n>uint32</span> <span class=n>birthDate</span> <span class=l>= 3</span>;
  <span class=n>repeated</span> <span class=n>string</span> <span class=n>phoneNumbers</span> <span class=l>= 4</span>;
};
</code></pre></div> <p>の対応関係はテーブル列-分野のプロトコルバッファのメッセージタイプClickHouseを比較しつけられた名前が使われている。<br> この比較では、大文字と小文字は区別されません。 <code class=syntax>_</code> (アンダースコア)と <code class=syntax>.</code> （ドット）は等しいと見なされます。<br> 列の型とプロトコルバッファのメッセージのフィールドが異なる場合は、必要な変換が適用されます。</p> <p>ネストしたメッセージに対応します。 たとえば、フィールドの場合 <code class=syntax>z</code> 次のメッセージの種類</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>message</span> <span class=n>XType</span> {
    <span class=n>message</span> <span class=n>YType</span> {
      <span class=n>int32</span> <span class=n>z</span>;
    };
    <span class=n>repeated</span> <span class=n>YType</span> <span class=n>y</span>;
  };
  <span class=n>XType</span> <span class=n>x</span>;
};
</code></pre></div> <p>ClickHouseは、名前のある列を検索しようとします <code class=syntax>x.y.z</code> （または <code class=syntax>x_y_z</code> または <code class=syntax>X.y_Z</code> というように）。<br> 入れ子になったメッセージは、 <a href=../../../sql-reference/data-types/nested-data-structures/nested/amp/ >入れ子データ構造</a>.</p> <p>次のようにprotobufスキーマで定義されたデフォルト値</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>syntax</span> <span class=l>= "proto2"</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>optional</span> <span class=n>int32</span> <span class=n>result_per_page</span> <span class=l>= 3 [default = 10]</span>;
}
</code></pre></div> <p>は適用されない。 <a href=../../../sql-reference/statements/create/amp/#create-default-values>テーブルの既定値</a> それらの代わりに使用されます。</p> <p>ClickHouseの入力および出力protobufのメッセージ <code class=syntax>length-delimited</code> 形式。<br> これは、すべてのメッセージがその長さを書き込まれる前に <a href=https://developers.google.com/protocol-buffers/docs/encoding#varints rel="external nofollow noreferrer" target=_blank>varint</a>.<br> も参照。 <a href=https://cwiki.apache.org/confluence/display/GEODE/Delimiting+Protobuf+Messages rel="external nofollow noreferrer" target=_blank>一般的な言語で長さ区切りのprotobufメッセージを読み書きする方法</a>.</p> <h2 id=data-format-avro>アヴロ<a class=headerlink href=../amp/#data-format-avro title="Permanent link"> </a></h2> <p><a href=http://avro.apache.org/ rel="external nofollow noreferrer" target=_blank>Apache Avro</a> ApacheのHadoopプロジェクト内で開発された行指向のデータ直列化フレームワークです。</p> <p>ClickHouse Avro形式は読み書きをサポートします <a href=http://avro.apache.org/docs/current/spec.html#Object+Container+Files rel="external nofollow noreferrer" target=_blank>Avroデータファイル</a>.</p> <h3 id=data_types-matching>データ型の一致<a class=headerlink href=../amp/#data_types-matching title="Permanent link"> </a></h3> <p>次の表に、サポートされているデータ型とClickHouseとの一致を示します <a href=../../../sql-reference/data-types/amp/ >データ型</a> で <code class=syntax>INSERT</code> と <code class=syntax>SELECT</code> クエリ。</p> <table> <thead> <tr> <th>Avroデータ型 <code class=syntax>INSERT</code></th> <th>ClickHouseデータ型</th> <th>Avroデータ型 <code class=syntax>SELECT</code></th> </tr> </thead> <tbody> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int(8/16/32)</a>, <a href=../../../sql-reference/data-types/int-uint/amp/ >UInt(8/16/32)</a></td> <td><code class=syntax>int</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a>, <a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a></td> <td><code class=syntax>long</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float32</a></td> <td><code class=syntax>float</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float64</a></td> <td><code class=syntax>double</code></td> </tr> <tr> <td><code class=syntax>bytes</code>, <code class=syntax>string</code>, <code class=syntax>fixed</code>, <code class=syntax>enum</code></td> <td><a href=../../../sql-reference/data-types/string/amp/ >文字列</a></td> <td><code class=syntax>bytes</code></td> </tr> <tr> <td><code class=syntax>bytes</code>, <code class=syntax>string</code>, <code class=syntax>fixed</code></td> <td><a href=../../../sql-reference/data-types/fixedstring/amp/ >固定文字列(N)</a></td> <td><code class=syntax>fixed(N)</code></td> </tr> <tr> <td><code class=syntax>enum</code></td> <td><a href=../../../sql-reference/data-types/enum/amp/ >Enum（8月16日)</a></td> <td><code class=syntax>enum</code></td> </tr> <tr> <td><code class=syntax>array(T)</code></td> <td><a href=../../../sql-reference/data-types/array/amp/ >配列(T)</a></td> <td><code class=syntax>array(T)</code></td> </tr> <tr> <td><code class=syntax>union(null, T)</code>, <code class=syntax>union(T, null)</code></td> <td><a href=../../../sql-reference/data-types/date/amp/ >Nullable(T)</a></td> <td><code class=syntax>union(null, T)</code></td> </tr> <tr> <td><code class=syntax>null</code></td> <td><a href=../../../sql-reference/data-types/special-data-types/nothing/amp/ >Nullable(Nothing)</a></td> <td><code class=syntax>null</code></td> </tr> <tr> <td><code class=syntax>int (date)</code> *</td> <td><a href=../../../sql-reference/data-types/date/amp/ >日付</a></td> <td><code class=syntax>int (date)</code> *</td> </tr> <tr> <td><code class=syntax>long (timestamp-millis)</code> *</td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >DateTime64(3)</a></td> <td><code class=syntax>long (timestamp-millis)</code> *</td> </tr> <tr> <td><code class=syntax>long (timestamp-micros)</code> *</td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >DateTime64(6)</a></td> <td><code class=syntax>long (timestamp-micros)</code> *</td> </tr> </tbody> </table> <p>* <a href=http://avro.apache.org/docs/current/spec.html#Logical+Types rel="external nofollow noreferrer" target=_blank>Avro論理タイプ</a></p> <p>未サポートのAvroデータ型: <code class=syntax>record</code> （非ルート), <code class=syntax>map</code></p> <p>サポートされないAvro論理データ型: <code class=syntax>uuid</code>, <code class=syntax>time-millis</code>, <code class=syntax>time-micros</code>, <code class=syntax>duration</code></p> <h3 id=inserting-data-1>データの挿入<a class=headerlink href=../amp/#inserting-data-1 title="Permanent link"> </a></h3> <p>AvroファイルからClickHouseテーブルにデータを挿入するには:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat file.avro <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO {some_table} FORMAT Avro"</span>
</code></pre></div> <p>入力Avroファ <code class=syntax>record</code> タイプ。</p> <p>の対応関係はテーブル列分野のアブロスキーマClickHouseを比較しつけられた名前が使われている。 この比較では、大文字と小文字が区別されます。<br> 未使用の項目はスキップされます。</p> <p>データの種類ClickHouseテーブルの列ができ、対応する分野においてアブロのデータを挿入します。 データを挿入するとき、ClickHouseは上記の表に従ってデータ型を解釈し、次に <a href=../../../sql-reference/functions/type-conversion-functions/amp/#type_conversion_function-cast>キャスト</a> 対応する列タイプのデータ。</p> <h3 id=selecting-data-1>データの選択<a class=headerlink href=../amp/#selecting-data-1 title="Permanent link"> </a></h3> <p>ClickHouseテーブルからAvroファイルにデータを選択するには:</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --query<span class=o>=</span><span class=s2>"SELECT * FROM {some_table} FORMAT Avro"</span> &gt; file.avro
</code></pre></div> <p>列名は必須です:</p> <ul> <li>で始まる <code class=syntax>[A-Za-z_]</code></li> <li>その後のみ <code class=syntax>[A-Za-z0-9_]</code></li> </ul> <p>出力Avroファイルの圧縮および同期間隔は以下で設定できます <a href=../../../operations/settings/settings/amp/#settings-output_format_avro_codec>output_format_avro_codec</a> と <a href=../../../operations/settings/settings/amp/#settings-output_format_avro_sync_interval>output_format_avro_sync_interval</a> それぞれ。</p> <h2 id=data-format-avro-confluent>アブロコンフルエント<a class=headerlink href=../amp/#data-format-avro-confluent title="Permanent link"> </a></h2> <p>AvroConfluent支援復号単一のオブジェクトアブロのメッセージを使用する <a href=https://kafka.apache.org/ rel="external nofollow noreferrer" target=_blank>カフカ</a> と <a href=https://docs.confluent.io/current/schema-registry/index.html rel="external nofollow noreferrer" target=_blank>Confluentスキーマレジストリ</a>.</p> <p>各Avroメッセージには、スキーマレジストリを使用して実際のスキーマに解決できるスキーマidが埋め込まれます。</p> <p>スキーマがキャッシュ一度に解決されます。</p> <p>スキーマのレジストリのURLは設定され <a href=../../../operations/settings/settings/amp/#settings-format_avro_schema_registry_url>format_avro_schema_registry_url</a></p> <h3 id=data_types-matching-1>データ型の一致<a class=headerlink href=../amp/#data_types-matching-1 title="Permanent link"> </a></h3> <p>同じ <a href=../amp/#data-format-avro>アヴロ</a></p> <h3 id=usage>使用法<a class=headerlink href=../amp/#usage title="Permanent link"> </a></h3> <p>迅速な検証スキーマ分解能を使用でき <a href=https://github.com/edenhill/kafkacat rel="external nofollow noreferrer" target=_blank>kafkacat</a> と <a href=../../../operations/utilities/clickhouse-local/amp/ >ﾂつｨﾂ姪"ﾂ債ﾂつｹ</a>:</p> <div class=codehilite><pre><span></span><code class=syntax>$ kafkacat -b kafka-broker  -C -t topic1 -o beginning -f <span class=s1>'%s'</span> -c <span class=m>3</span> <span class=p>|</span> clickhouse-local   --input-format AvroConfluent --format_avro_schema_registry_url <span class=s1>'http://schema-registry'</span> -S <span class=s2>"field1 Int64, field2 String"</span>  -q <span class=s1>'select *  from table'</span>
<span class=m>1</span> a
<span class=m>2</span> b
<span class=m>3</span> c
</code></pre></div> <p>使用するには <code class=syntax>AvroConfluent</code> と <a href=../../../engines/table-engines/integrations/kafka/amp/ >カフカ</a>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>topic1_stream</span>
<span class=p>(</span>
    <span class=n>field1</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>field2</span> <span class=n>String</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Kafka</span><span class=p>()</span>
<span class=n>SETTINGS</span>
<span class=n>kafka_broker_list</span> <span class=o>=</span> <span class=s1>'kafka-broker'</span><span class=p>,</span>
<span class=n>kafka_topic_list</span> <span class=o>=</span> <span class=s1>'topic1'</span><span class=p>,</span>
<span class=n>kafka_group_name</span> <span class=o>=</span> <span class=s1>'group1'</span><span class=p>,</span>
<span class=n>kafka_format</span> <span class=o>=</span> <span class=s1>'AvroConfluent'</span><span class=p>;</span>

<span class=k>SET</span> <span class=n>format_avro_schema_registry_url</span> <span class=o>=</span> <span class=s1>'http://schema-registry'</span><span class=p>;</span>

<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>topic1_stream</span><span class=p>;</span>
</code></pre></div> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">警告</p> <p>設定 <code class=syntax>format_avro_schema_registry_url</code> で構成する必要があります <code class=syntax>users.xml</code> 再起動後にその値を維持する。</p> </div> <h2 id=data-format-parquet>寄木細工<a class=headerlink href=../amp/#data-format-parquet title="Permanent link"> </a></h2> <p><a href=http://parquet.apache.org/ rel="external nofollow noreferrer" target=_blank>アパッチの寄木細工</a> Hadoopエコシステムに広く普及している柱状ストレージ形式です。 ClickHouse支援を読み取りと書き込みの操作のためにこの形式です。</p> <h3 id=data_types-matching-2>データ型の一致<a class=headerlink href=../amp/#data_types-matching-2 title="Permanent link"> </a></h3> <p>次の表に、サポートされているデータ型とClickHouseとの一致を示します <a href=../../../sql-reference/data-types/amp/ >データ型</a> で <code class=syntax>INSERT</code> と <code class=syntax>SELECT</code> クエリ。</p> <table> <thead> <tr> <th>Parquetデータ型 (<code class=syntax>INSERT</code>)</th> <th>ClickHouseデータ型</th> <th>Parquetデータ型 (<code class=syntax>SELECT</code>)</th> </tr> </thead> <tbody> <tr> <td><code class=syntax>UINT8</code>, <code class=syntax>BOOL</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt8</a></td> <td><code class=syntax>UINT8</code></td> </tr> <tr> <td><code class=syntax>INT8</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int8</a></td> <td><code class=syntax>INT8</code></td> </tr> <tr> <td><code class=syntax>UINT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt16</a></td> <td><code class=syntax>UINT16</code></td> </tr> <tr> <td><code class=syntax>INT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int16</a></td> <td><code class=syntax>INT16</code></td> </tr> <tr> <td><code class=syntax>UINT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt32</a></td> <td><code class=syntax>UINT32</code></td> </tr> <tr> <td><code class=syntax>INT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int32</a></td> <td><code class=syntax>INT32</code></td> </tr> <tr> <td><code class=syntax>UINT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a></td> <td><code class=syntax>UINT64</code></td> </tr> <tr> <td><code class=syntax>INT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a></td> <td><code class=syntax>INT64</code></td> </tr> <tr> <td><code class=syntax>FLOAT</code>, <code class=syntax>HALF_FLOAT</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float32</a></td> <td><code class=syntax>FLOAT</code></td> </tr> <tr> <td><code class=syntax>DOUBLE</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float64</a></td> <td><code class=syntax>DOUBLE</code></td> </tr> <tr> <td><code class=syntax>DATE32</code></td> <td><a href=../../../sql-reference/data-types/date/amp/ >日付</a></td> <td><code class=syntax>UINT16</code></td> </tr> <tr> <td><code class=syntax>DATE64</code>, <code class=syntax>TIMESTAMP</code></td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >DateTime</a></td> <td><code class=syntax>UINT32</code></td> </tr> <tr> <td><code class=syntax>STRING</code>, <code class=syntax>BINARY</code></td> <td><a href=../../../sql-reference/data-types/string/amp/ >文字列</a></td> <td><code class=syntax>STRING</code></td> </tr> <tr> <td>—</td> <td><a href=../../../sql-reference/data-types/fixedstring/amp/ >FixedString</a></td> <td><code class=syntax>STRING</code></td> </tr> <tr> <td><code class=syntax>DECIMAL</code></td> <td><a href=../../../sql-reference/data-types/decimal/amp/ >小数点</a></td> <td><code class=syntax>DECIMAL</code></td> </tr> </tbody> </table> <p>ClickHouseは構成可能の精密を支えます <code class=syntax>Decimal</code> タイプ。 その <code class=syntax>INSERT</code> クエリは、寄木細工を扱います <code class=syntax>DECIMAL</code> ClickHouseとして入力します <code class=syntax>Decimal128</code> タイプ。</p> <p>対応していな寄木細工のデータ種類: <code class=syntax>DATE32</code>, <code class=syntax>TIME32</code>, <code class=syntax>FIXED_SIZE_BINARY</code>, <code class=syntax>JSON</code>, <code class=syntax>UUID</code>, <code class=syntax>ENUM</code>.</p> <p>データの種類ClickHouseテーブルの列ができ、対応する分野の寄木細工のデータを挿入します。 データを挿入するとき、ClickHouseは上記の表に従ってデータ型を解釈し、次に <a href=../../query_language/functions/type_conversion_functions/amp/#type_conversion_function-cast>キャスト</a> ClickHouseテーブル列に設定されているそのデータ型のデータ。</p> <h3 id=inserting-and-selecting-data>データの挿入と選択<a class=headerlink href=../amp/#inserting-and-selecting-data title="Permanent link"> </a></h3> <p>次のコマンドで、ファイルからパーケットデータをClickHouseテーブルに挿入できます:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat <span class=o>{</span>filename<span class=o>}</span> <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO {some_table} FORMAT Parquet"</span>
</code></pre></div> <p>ClickHouseテーブルからデータを選択し、次のコマンドでParquet形式でファイルに保存できます:</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --query<span class=o>=</span><span class=s2>"SELECT * FROM {some_table} FORMAT Parquet"</span> &gt; <span class=o>{</span>some_file.pq<span class=o>}</span>
</code></pre></div> <p>Hadoopとデータを交換するには、以下を使用できます <a href=../../../engines/table-engines/integrations/hdfs/amp/ >HDFSテーブルエンジン</a>.</p> <h2 id=data-format-orc>ORC<a class=headerlink href=../amp/#data-format-orc title="Permanent link"> </a></h2> <p><a href=https://orc.apache.org/ rel="external nofollow noreferrer" target=_blank>Apache ORC</a> Hadoopエコシステムに広く普及している柱状ストレージ形式です。 この形式のデータはClickHouseにのみ挿入できます。</p> <h3 id=data_types-matching-3>データ型の一致<a class=headerlink href=../amp/#data_types-matching-3 title="Permanent link"> </a></h3> <p>次の表に、サポートされているデータ型とClickHouseとの一致を示します <a href=../../../sql-reference/data-types/amp/ >データ型</a> で <code class=syntax>INSERT</code> クエリ。</p> <table> <thead> <tr> <th>ORCデータ型 (<code class=syntax>INSERT</code>)</th> <th>ClickHouseデータ型</th> </tr> </thead> <tbody> <tr> <td><code class=syntax>UINT8</code>, <code class=syntax>BOOL</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt8</a></td> </tr> <tr> <td><code class=syntax>INT8</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int8</a></td> </tr> <tr> <td><code class=syntax>UINT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt16</a></td> </tr> <tr> <td><code class=syntax>INT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int16</a></td> </tr> <tr> <td><code class=syntax>UINT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt32</a></td> </tr> <tr> <td><code class=syntax>INT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int32</a></td> </tr> <tr> <td><code class=syntax>UINT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a></td> </tr> <tr> <td><code class=syntax>INT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a></td> </tr> <tr> <td><code class=syntax>FLOAT</code>, <code class=syntax>HALF_FLOAT</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float32</a></td> </tr> <tr> <td><code class=syntax>DOUBLE</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float64</a></td> </tr> <tr> <td><code class=syntax>DATE32</code></td> <td><a href=../../../sql-reference/data-types/date/amp/ >日付</a></td> </tr> <tr> <td><code class=syntax>DATE64</code>, <code class=syntax>TIMESTAMP</code></td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >DateTime</a></td> </tr> <tr> <td><code class=syntax>STRING</code>, <code class=syntax>BINARY</code></td> <td><a href=../../../sql-reference/data-types/string/amp/ >文字列</a></td> </tr> <tr> <td><code class=syntax>DECIMAL</code></td> <td><a href=../../../sql-reference/data-types/decimal/amp/ >小数点</a></td> </tr> </tbody> </table> <p>ClickHouseはの構成可能の精密を支えます <code class=syntax>Decimal</code> タイプ。 その <code class=syntax>INSERT</code> クエリはORCを扱います <code class=syntax>DECIMAL</code> ClickHouseとして入力します <code class=syntax>Decimal128</code> タイプ。</p> <p>未サポートのORCデータ型: <code class=syntax>DATE32</code>, <code class=syntax>TIME32</code>, <code class=syntax>FIXED_SIZE_BINARY</code>, <code class=syntax>JSON</code>, <code class=syntax>UUID</code>, <code class=syntax>ENUM</code>.</p> <p>ClickHouseテーブル列のデータ型は、対応するORCデータフィールドと一致する必要はありません。 データを挿入するとき、ClickHouseは上記の表に従ってデータ型を解釈し、次に <a href=../../../sql-reference/functions/type-conversion-functions/amp/#type_conversion_function-cast>キャスト</a> ClickHouseテーブル列のデータ型セットへのデータ。</p> <h3 id=inserting-data-2>データの挿入<a class=headerlink href=../amp/#inserting-data-2 title="Permanent link"> </a></h3> <p>次のコマンドで、ファイルからOrcデータをClickHouseテーブルに挿入できます:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat filename.orc <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO some_table FORMAT ORC"</span>
</code></pre></div> <p>Hadoopとデータを交換するには、以下を使用できます <a href=../../../engines/table-engines/integrations/hdfs/amp/ >HDFSテーブルエンジン</a>.</p> <h2 id=formatschema>スキーマの書式<a class=headerlink href=../amp/#formatschema title="Permanent link"> </a></h2> <p>形式スキーマを含むファイル名は、この設定によって設定されます <code class=syntax>format_schema</code>.<br> いずれかの形式を使用する場合は、この設定を設定する必要があります <code class=syntax>Cap'n Proto</code> と <code class=syntax>Protobuf</code>.<br> 形式スキーマは、ファイル名とこのファイル内のメッセージ型の名前の組み合わせで、コロンで区切られます,<br> e.g. <code class=syntax>schemafile.proto:MessageType</code>.<br> ファイルが形式の標準拡張子を持っている場合（たとえば, <code class=syntax>.proto</code> のために <code class=syntax>Protobuf</code>),<br> この場合、形式スキーマは次のようになります <code class=syntax>schemafile:MessageType</code>.</p> <p>を介してデータを入力または出力する場合 <a href=../../cli/amp/ >クライアン</a> で <a href=../../cli/amp/#cli_usage>対話モード</a>,形式スキーマで指定されたファイル名<br> を含むことができ、絶対パス名は相対パスを現在のディレクトリのクライアント<br> クライアントを使用する場合 <a href=../../cli/amp/#cli_usage>バッチモード</a> は、パスのスキーマ"相対的"に指定する必要があります。</p> <p>を介してデータを入力または出力する場合 <a href=../../http/amp/ >HTTPインターフェ</a> 形式スキーマで指定されたファイル名<br> 指定されたディレクトリにあるはずです。 <a href=../../../operations/server-configuration-parameters/settings/amp/#server_configuration_parameters-format_schema_path>format_schema_path</a><br> サーバー構成で。</p> <h2 id=skippingerrors>スキップエラー<a class=headerlink href=../amp/#skippingerrors title="Permanent link"> </a></h2> <p>次のような形式があります <code class=syntax>CSV</code>, <code class=syntax>TabSeparated</code>, <code class=syntax>TSKV</code>, <code class=syntax>JSONEachRow</code>, <code class=syntax>Template</code>, <code class=syntax>CustomSeparated</code> と <code class=syntax>Protobuf</code> 解析エラーが発生した場合に壊れた行をスキップし、次の行の先頭から解析を続行できます。 見る <a href=../../../operations/settings/settings/amp/#settings-input_format_allow_errors_num>input_format_allow_errors_num</a> と<br> <a href=../../../operations/settings/settings/amp/#settings-input_format_allow_errors_ratio>input_format_allow_errors_ratio</a> 設定。<br> 制限:<br> -解析エラーの場合 <code class=syntax>JSONEachRow</code> 新しい行(またはEOF)まですべてのデータをスキップします。 <code class=syntax>\n</code> エラーを正しく数える。<br> - <code class=syntax>Template</code> と <code class=syntax>CustomSeparated</code> 最後の列の後にdelimiterを使用し、行の間にdelimiterを使用すると、次の行の先頭を見つけることができます。</p> <p><a href=https://clickhouse.tech/docs/en/interfaces/formats/ target=_blank>元の記事</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/ja/interfaces/formats/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 