<!DOCTYPE html><html lang=ja data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>参照 | ClickHouseドキュメント</title><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/images/logo-180x180.png><meta property=og:title content="参照 | ClickHouseドキュメント"><meta property=og:description content="集計関数の参照 カウント 行数またはnot-NULL値をカウントします。 ClickHouseは以下の構文をサポートしています count: - count(expr) または COUNT(DISTINCT expr). - count()"><meta property=og:type content=article><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta content=https://clickhouse.tech/docs/ja/sql-reference/aggregate-functions/reference/ property=og:url><link href=https://clickhouse.tech/docs/ja/sql-reference/aggregate-functions/reference/ rel=canonical><link href=https://clickhouse.tech/docs/ja/sql-reference/aggregate-functions/reference/amp/ rel=amphtml><link rel=search href=/opensearch.xml title=ClickHouse type=application/opensearchdescription+xml><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "参照 | ClickHouseドキュメント",
"mainEntityOfPage": "https://clickhouse.tech/docs/ja/sql-reference/aggregate-functions/reference/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "参照 | ClickHouseドキュメント",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><meta name=description content="集計関数の参照 カウント 行数またはnot-NULL値をカウントします。 ClickHouseは以下の構文をサポートしています count: - count(expr) または COUNT(DISTINCT expr). - count()"><meta name=keywords content="ClickHouse, DBMS, OLAP, SQL, open-source, relational, analytics, analytical, Big Data, web-analytics"><link rel=alternate href=https://clickhouse.tech/docs/en/sql-reference/aggregate-functions/reference/ hreflang=en><link rel=alternate href=https://clickhouse.tech/docs/zh/sql-reference/aggregate-functions/reference/ hreflang=zh><link rel=alternate href=https://clickhouse.tech/docs/es/sql-reference/aggregate-functions/reference/ hreflang=es><link rel=alternate href=https://clickhouse.tech/docs/fr/sql-reference/aggregate-functions/reference/ hreflang=fr><link rel=alternate href=https://clickhouse.tech/docs/ru/sql-reference/aggregate-functions/reference/ hreflang=ru><link rel=alternate href=https://clickhouse.tech/docs/ja/sql-reference/aggregate-functions/reference/ hreflang=ja><link rel=alternate href=https://clickhouse.tech/docs/en/sql-reference/aggregate-functions/reference/ hreflang=x-default><link href=/css/base.css?e27f3458 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> 参照 </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li id=edit-wrapper class=nav-item> <a id=edit-link href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/sql-reference/aggregate-functions/reference.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ja.svg alt=日本語 title=日本語 width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql-reference/aggregate-functions/reference/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql-reference/aggregate-functions/reference/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql-reference/aggregate-functions/reference/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql-reference/aggregate-functions/reference/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql-reference/aggregate-functions/reference/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql-reference/aggregate-functions/reference/ class="dropdown-item disabled"> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=はじめに class="nav-link text-light dropdown-toggle px-0">はじめに</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../../getting-started/install/ title=インストール class="nav-link text-light text-wrap d-inline-block w-100 px-0">インストール</a> <a href=../../../getting-started/tutorial/ title=チュートリアル class="nav-link text-light text-wrap d-inline-block w-100 px-0">チュートリアル</a> <a href=#sidebar-sidebar-1-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1-5 title=データセット例 class="nav-link text-light dropdown-toggle px-0">データセット例</a> <div id=sidebar-sidebar-1-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting-started/example-datasets/ title=イントロダクション class="nav-link text-light text-wrap d-inline-block w-100 px-0">イントロダクション</a> <a href=../../../getting-started/example-datasets/metrica/ title="Yandex.Metrica データ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica データ</a> <a href=../../../getting-started/example-datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../../getting-started/example-datasets/nyc-taxi/ title=ニューヨークタクシー class="nav-link text-light text-wrap d-inline-block w-100 px-0">ニューヨークタクシー</a> <a href=../../../getting-started/example-datasets/amplab-benchmark/ title="AMPLab Big Data ベンチマーク" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data ベンチマーク</a> <a href=../../../getting-started/example-datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../../getting-started/example-datasets/criteo/ title="Criteo のテラバイトクリックログ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Criteo のテラバイトクリックログ</a> <a href=../../../getting-started/example-datasets/star-schema/ title="スタースキーマ ベンチマーク" class="nav-link text-light text-wrap d-inline-block w-100 px-0">スタースキーマ ベンチマーク</a> </nav> </div> <a href=../../../getting-started/playground/ title=Playground class="nav-link text-light text-wrap d-inline-block w-100 px-0">Playground</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title=インター class="nav-link text-light dropdown-toggle px-0">インター</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../interfaces/cli/ title=コマンド行クライアント class="nav-link text-light text-wrap d-inline-block w-100 px-0">コマンド行クライアント</a> <a href=../../../interfaces/tcp/ title=ネイティブイ) class="nav-link text-light text-wrap d-inline-block w-100 px-0">ネイティブイ)</a> <a href=../../../interfaces/http/ title=HTTPインターフェ class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTPインターフェ</a> <a href=../../../interfaces/mysql/ title=MySQLインタ class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQLインタ</a> <a href=../../../interfaces/formats/ title=入力および出力フォーマット class="nav-link text-light text-wrap d-inline-block w-100 px-0">入力および出力フォーマット</a> <a href=../../../interfaces/jdbc/ title=JDBCドライバ class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBCドライバ</a> <a href=../../../interfaces/odbc/ title=ODBCドライバ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBCドライバ</a> <a href=../../../interfaces/cpp/ title=C++クライアントライ class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++クライアントライ</a> <a href=#sidebar-sidebar-2-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-10 title=サードパーティ class="nav-link text-light dropdown-toggle px-0">サードパーティ</a> <div id=sidebar-sidebar-2-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/client-libraries/ title=クライアント class="nav-link text-light text-wrap d-inline-block w-100 px-0">クライアント</a> <a href=../../../interfaces/third-party/integrations/ title=統合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">統合</a> <a href=../../../interfaces/third-party/gui/ title=視界面 class="nav-link text-light text-wrap d-inline-block w-100 px-0">視界面</a> <a href=../../../interfaces/third-party/proxy/ title=プロキシ class="nav-link text-light text-wrap d-inline-block w-100 px-0">プロキシ</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=エンジン class="nav-link text-light dropdown-toggle px-0">エンジン</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2 title=表エンジン class="nav-link text-light dropdown-toggle px-0">表エンジン</a> <div id=sidebar-sidebar-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=#sidebar-sidebar-3-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-2 title=メルゲツリー族 class="nav-link text-light dropdown-toggle px-0">メルゲツリー族</a> <div id=sidebar-sidebar-3-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/mergetree-family/mergetree/ title=メルゲツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">メルゲツリー</a> <a href=../../../engines/table-engines/mergetree-family/replication/ title=データ複製 class="nav-link text-light text-wrap d-inline-block w-100 px-0">データ複製</a> <a href=../../../engines/table-engines/mergetree-family/custom-partitioning-key/ title=カスタム分割キー class="nav-link text-light text-wrap d-inline-block w-100 px-0">カスタム分割キー</a> <a href=../../../engines/table-engines/mergetree-family/replacingmergetree/ title=置換マージツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">置換マージツリー</a> <a href=../../../engines/table-engines/mergetree-family/summingmergetree/ title=サミングマーゲツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">サミングマーゲツリー</a> <a href=../../../engines/table-engines/mergetree-family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/collapsingmergetree/ title=折りたたみマージツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">折りたたみマージツリー</a> <a href=../../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/ title=バージョニングコラプシングマーゲットリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">バージョニングコラプシングマーゲットリー</a> <a href=../../../engines/table-engines/mergetree-family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-3-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-3 title=ログファミリ class="nav-link text-light dropdown-toggle px-0">ログファミリ</a> <div id=sidebar-sidebar-3-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/log-family/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../engines/table-engines/log-family/stripelog/ title=ストリップログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ストリップログ</a> <a href=../../../engines/table-engines/log-family/log/ title=ログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ログ</a> <a href=../../../engines/table-engines/log-family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-3-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-4 title=統合 class="nav-link text-light dropdown-toggle px-0">統合</a> <div id=sidebar-sidebar-3-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/integrations/kafka/ title=カフカ class="nav-link text-light text-wrap d-inline-block w-100 px-0">カフカ</a> <a href=../../../engines/table-engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table-engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table-engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table-engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-3-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-5 title=スペシャル class="nav-link text-light dropdown-toggle px-0">スペシャル</a> <div id=sidebar-sidebar-3-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/special/distributed/ title=分散 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分散</a> <a href=../../../engines/table-engines/special/external-data/ title=外部データ class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部データ</a> <a href=../../../engines/table-engines/special/dictionary/ title=辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書</a> <a href=../../../engines/table-engines/special/merge/ title=マージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">マージ</a> <a href=../../../engines/table-engines/special/file/ title=ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ファイル</a> <a href=../../../engines/table-engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../../engines/table-engines/special/set/ title=セット class="nav-link text-light text-wrap d-inline-block w-100 px-0">セット</a> <a href=../../../engines/table-engines/special/join/ title=参加 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参加</a> <a href=../../../engines/table-engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table-engines/special/view/ title=表示 class="nav-link text-light text-wrap d-inline-block w-100 px-0">表示</a> <a href=../../../engines/table-engines/special/materializedview/ title=マテリアライズドビュー class="nav-link text-light text-wrap d-inline-block w-100 px-0">マテリアライズドビュー</a> <a href=../../../engines/table-engines/special/memory/ title=メモリ class="nav-link text-light text-wrap d-inline-block w-100 px-0">メモリ</a> <a href=../../../engines/table-engines/special/buffer/ title=バッファ class="nav-link text-light text-wrap d-inline-block w-100 px-0">バッファ</a> <a href=../../../engines/table-engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title=データベース class="nav-link text-light dropdown-toggle px-0">データベース</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database-engines/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../engines/database-engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database-engines/lazy/ title=怠け者 class="nav-link text-light text-wrap d-inline-block w-100 px-0">怠け者</a> <a href=../../../engines/database-engines/atomic/ title=Atomic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Atomic</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=SQLリファレンス class="nav-link text-light dropdown-toggle px-0">SQLリファレンス</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title=文 class="nav-link text-light dropdown-toggle px-0">文</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-2 title=SELECT class="nav-link text-light dropdown-toggle px-0">SELECT</a> <div id=sidebar-sidebar-4-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/statements/select/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../../sql-reference/statements/select/array-join/ title="ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ARRAY JOIN</a> <a href=../../../sql-reference/statements/select/distinct/ title=DISTINCT class="nav-link text-light text-wrap d-inline-block w-100 px-0">DISTINCT</a> <a href=../../../sql-reference/statements/select/format/ title=FORMAT class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT</a> <a href=../../../sql-reference/statements/select/from/ title=FROM class="nav-link text-light text-wrap d-inline-block w-100 px-0">FROM</a> <a href=../../../sql-reference/statements/select/group-by/ title="GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GROUP BY</a> <a href=../../../sql-reference/statements/select/having/ title=HAVING class="nav-link text-light text-wrap d-inline-block w-100 px-0">HAVING</a> <a href=../../../sql-reference/statements/select/into-outfile/ title="INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INTO OUTFILE</a> <a href=../../../sql-reference/statements/select/join/ title=JOIN class="nav-link text-light text-wrap d-inline-block w-100 px-0">JOIN</a> <a href=../../../sql-reference/statements/select/limit/ title=LIMIT class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a> <a href=../../../sql-reference/statements/select/limit-by/ title="LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT BY</a> <a href=../../../sql-reference/statements/select/order-by/ title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a> <a href=../../../sql-reference/statements/select/prewhere/ title=PREWHERE class="nav-link text-light text-wrap d-inline-block w-100 px-0">PREWHERE</a> <a href=../../../sql-reference/statements/select/sample/ title=SAMPLE class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE</a> <a href=../../../sql-reference/statements/select/where/ title=WHERE class="nav-link text-light text-wrap d-inline-block w-100 px-0">WHERE</a> <a href=../../../sql-reference/statements/select/with/ title=WITH class="nav-link text-light text-wrap d-inline-block w-100 px-0">WITH</a> </nav> </div> <a href=../../../sql-reference/statements/insert-into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql-reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql-reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql-reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql-reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql-reference/statements/grant/ title=GRANT class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a> <a href=../../../sql-reference/statements/revoke/ title=REVOKE class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a> <a href=../../../sql-reference/statements/misc/ title=その他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">その他</a> <a href=../../../sql-reference/statements/optimize/ title=OPTIMIZE class="nav-link text-light text-wrap d-inline-block w-100 px-0">OPTIMIZE</a> </nav> </div> <a href=../../../sql-reference/syntax/ title=構文 class="nav-link text-light text-wrap d-inline-block w-100 px-0">構文</a> <a href=#sidebar-sidebar-4-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-4 title=関数 class="nav-link text-light dropdown-toggle px-0">関数</a> <div id=sidebar-sidebar-4-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/functions/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../sql-reference/functions/arithmetic-functions/ title=算術 class="nav-link text-light text-wrap d-inline-block w-100 px-0">算術</a> <a href=../../../sql-reference/functions/comparison-functions/ title=比較 class="nav-link text-light text-wrap d-inline-block w-100 px-0">比較</a> <a href=../../../sql-reference/functions/logical-functions/ title=論理 class="nav-link text-light text-wrap d-inline-block w-100 px-0">論理</a> <a href=../../../sql-reference/functions/type-conversion-functions/ title=タイプ変換 class="nav-link text-light text-wrap d-inline-block w-100 px-0">タイプ変換</a> <a href=../../../sql-reference/functions/date-time-functions/ title=日付と時刻の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日付と時刻の操作</a> <a href=../../../sql-reference/functions/string-functions/ title=文字列の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列の操作</a> <a href=../../../sql-reference/functions/string-search-functions/ title=文字列を検索する場合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列を検索する場合</a> <a href=../../../sql-reference/functions/string-replace-functions/ title=文字列で置換する場合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列で置換する場合</a> <a href=../../../sql-reference/functions/conditional-functions/ title=条件付き class="nav-link text-light text-wrap d-inline-block w-100 px-0">条件付き</a> <a href=../../../sql-reference/functions/math-functions/ title=数学 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数学</a> <a href=../../../sql-reference/functions/rounding-functions/ title=丸め class="nav-link text-light text-wrap d-inline-block w-100 px-0">丸め</a> <a href=../../../sql-reference/functions/array-functions/ title=配列の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配列の操作</a> <a href=../../../sql-reference/functions/splitting-merging-functions/ title=文字列と配列の分割とマージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列と配列の分割とマージ</a> <a href=../../../sql-reference/functions/bit-functions/ title=ビット class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビット</a> <a href=../../../sql-reference/functions/bitmap-functions/ title=ビットマ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビットマ</a> <a href=../../../sql-reference/functions/hash-functions/ title=ハッシュ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ハッシュ</a> <a href=../../../sql-reference/functions/random-functions/ title=擬似乱数の生成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">擬似乱数の生成</a> <a href=../../../sql-reference/functions/encoding-functions/ title=エンコード class="nav-link text-light text-wrap d-inline-block w-100 px-0">エンコード</a> <a href=../../../sql-reference/functions/uuid-functions/ title=UUIDの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUIDの操作</a> <a href=../../../sql-reference/functions/url-functions/ title=Urlの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Urlの操作</a> <a href=../../../sql-reference/functions/ip-address-functions/ title=IPアドレスの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPアドレスの操作</a> <a href=../../../sql-reference/functions/json-functions/ title=JSONでの作業 class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSONでの作業</a> <a href=../../../sql-reference/functions/higher-order-functions/ title=高次 class="nav-link text-light text-wrap d-inline-block w-100 px-0">高次</a> <a href=../../../sql-reference/functions/ext-dict-functions/ title=外部辞書の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部辞書の操作</a> <a href=../../../sql-reference/functions/ym-dict-functions/ title=Yandexでの作業。メトリカ辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandexでの作業。メトリカ辞書</a> <a href=../../../sql-reference/functions/in-functions/ title=IN演算子の実装 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN演算子の実装</a> <a href=../../../sql-reference/functions/array-join/ title=アレイジョイン class="nav-link text-light text-wrap d-inline-block w-100 px-0">アレイジョイン</a> <a href=../../../sql-reference/functions/geo/ title=地理座標の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">地理座標の操作</a> <a href=../../../sql-reference/functions/functions-for-nulls/ title=Null許容引数の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null許容引数の操作</a> <a href=../../../sql-reference/functions/machine-learning-functions/ title=機械学習機能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">機械学習機能</a> <a href=../../../sql-reference/functions/introspection/ title=内省 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内省</a> <a href=../../../sql-reference/functions/other-functions/ title=その他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">その他</a> </nav> </div> <a href=#sidebar-sidebar-4-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-5 title=集計関数 class="nav-link text-light dropdown-toggle px-0">集計関数</a> <div id=sidebar-sidebar-4-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/aggregate-functions/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../sql-reference/aggregate-functions/reference/ title=参照 class="nav-link text-white active text-wrap d-inline-block w-100 px-0">参照</a> <a href=../../../sql-reference/aggregate-functions/combinators/ title=コンビネータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">コンビネータ</a> <a href=../../../sql-reference/aggregate-functions/parametric-functions/ title=パラメトリック class="nav-link text-light text-wrap d-inline-block w-100 px-0">パラメトリック</a> </nav> </div> <a href=#sidebar-sidebar-4-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-6 title=テーブル関数 class="nav-link text-light dropdown-toggle px-0">テーブル関数</a> <div id=sidebar-sidebar-4-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/table-functions/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../sql-reference/table-functions/file/ title=ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ファイル</a> <a href=../../../sql-reference/table-functions/merge/ title=マージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">マージ</a> <a href=../../../sql-reference/table-functions/numbers/ title=数字 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数字</a> <a href=../../../sql-reference/table-functions/remote/ title=リモート class="nav-link text-light text-wrap d-inline-block w-100 px-0">リモート</a> <a href=../../../sql-reference/table-functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../../sql-reference/table-functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql-reference/table-functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql-reference/table-functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../../sql-reference/table-functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql-reference/table-functions/input/ title=入力 class="nav-link text-light text-wrap d-inline-block w-100 px-0">入力</a> <a href=../../../sql-reference/table-functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-4-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-7 title=辞書 class="nav-link text-light dropdown-toggle px-0">辞書</a> <div id=sidebar-sidebar-4-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/dictionaries/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=#sidebar-sidebar-4-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-7-2 title=外部辞書 class="nav-link text-light dropdown-toggle px-0">外部辞書</a> <div id=sidebar-sidebar-4-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts/ title=一般的な説明 class="nav-link text-light text-wrap d-inline-block w-100 px-0">一般的な説明</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/ title=外部ディクショナリの構成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部ディクショナリの構成</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/ title=メモリへの辞書の格納 class="nav-link text-light text-wrap d-inline-block w-100 px-0">メモリへの辞書の格納</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/ title=辞書の更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書の更新</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/ title=外部辞書のソース class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部辞書のソース</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/ title=辞書キーとフィールド class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書キーとフィールド</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/ title=階層辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">階層辞書</a> </nav> </div> <a href=../../../sql-reference/dictionaries/internal-dicts/ title=内部辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内部辞書</a> </nav> </div> <a href=#sidebar-sidebar-4-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8 title=データ型 class="nav-link text-light dropdown-toggle px-0">データ型</a> <div id=sidebar-sidebar-4-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../sql-reference/data-types/int-uint/ title=UInt8、UInt16、UInt32、UInt64、Int8、Int16、Int32、Int64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8、UInt16、UInt32、UInt64、Int8、Int16、Int32、Int64</a> <a href=../../../sql-reference/data-types/float/ title=Float32、Float64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32、Float64</a> <a href=../../../sql-reference/data-types/decimal/ title=小数点 class="nav-link text-light text-wrap d-inline-block w-100 px-0">小数点</a> <a href=../../../sql-reference/data-types/boolean/ title=ブール値 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ブール値</a> <a href=../../../sql-reference/data-types/string/ title=文字列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列</a> <a href=../../../sql-reference/data-types/fixedstring/ title=固定文字列(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">固定文字列(N)</a> <a href=../../../sql-reference/data-types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql-reference/data-types/date/ title=日付 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日付</a> <a href=../../../sql-reference/data-types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../sql-reference/data-types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql-reference/data-types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql-reference/data-types/array/ title=配列(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">配列(T)</a> <a href=../../../sql-reference/data-types/aggregatefunction/ title=AggregateFunction(名前,types_of_arguments...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(名前,types_of_arguments...)</a> <a href=../../../sql-reference/data-types/tuple/ title=Tuple(T1,T2,...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1,T2,...)</a> <a href=../../../sql-reference/data-types/nullable/ title=Null可能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null可能</a> <a href=#sidebar-sidebar-4-8-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8-17 title=入れ子データ構造 class="nav-link text-light dropdown-toggle px-0">入れ子データ構造</a> <div id=sidebar-sidebar-4-8-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/nested-data-structures/nested/ title=ネストされた(Name1Type1,Name2Type2,...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">ネストされた(Name1Type1,Name2Type2,...)</a> </nav> </div> <a href=#sidebar-sidebar-4-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8-18 title=特殊データ型 class="nav-link text-light dropdown-toggle px-0">特殊データ型</a> <div id=sidebar-sidebar-4-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/special-data-types/expression/ title=式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">式</a> <a href=../../../sql-reference/data-types/special-data-types/set/ title=セット class="nav-link text-light text-wrap d-inline-block w-100 px-0">セット</a> <a href=../../../sql-reference/data-types/special-data-types/nothing/ title=何もない class="nav-link text-light text-wrap d-inline-block w-100 px-0">何もない</a> <a href=../../../sql-reference/data-types/special-data-types/interval/ title=間隔 class="nav-link text-light text-wrap d-inline-block w-100 px-0">間隔</a> </nav> </div> <a href=#sidebar-sidebar-4-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8-19 title=ドメイン class="nav-link text-light dropdown-toggle px-0">ドメイン</a> <div id=sidebar-sidebar-4-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/domains/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../../sql-reference/data-types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql-reference/data-types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../../sql-reference/data-types/simpleaggregatefunction/ title=SimpleAggregateFunction class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a> </nav> </div> <a href=#sidebar-sidebar-4-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-9 title=演算子 class="nav-link text-light dropdown-toggle px-0">演算子</a> <div id=sidebar-sidebar-4-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/operators/ title=演算子 class="nav-link text-light text-wrap d-inline-block w-100 px-0">演算子</a> <a href=../../../sql-reference/operators/in/ title="IN Operators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN Operators</a> </nav> </div> <a href=../../../sql-reference/ansi/ title=ANSIの互換性 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSIの互換性</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=ガイド class="nav-link text-light dropdown-toggle px-0">ガイド</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../../guides/apply-catboost-model/ title=CatBoostモデルの適用 class="nav-link text-light text-wrap d-inline-block w-100 px-0">CatBoostモデルの適用</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=操作 class="nav-link text-light dropdown-toggle px-0">操作</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../operations/requirements/ title=要件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">要件</a> <a href=../../../operations/monitoring/ title=監視 class="nav-link text-light text-wrap d-inline-block w-100 px-0">監視</a> <a href=../../../operations/troubleshooting/ title=トラブルシ class="nav-link text-light text-wrap d-inline-block w-100 px-0">トラブルシ</a> <a href=../../../operations/update/ title=クリックハウスの更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウスの更新</a> <a href=../../../operations/access-rights/ title=アクセス制御とアカウント管理 class="nav-link text-light text-wrap d-inline-block w-100 px-0">アクセス制御とアカウント管理</a> <a href=../../../operations/backup/ title=データバックア class="nav-link text-light text-wrap d-inline-block w-100 px-0">データバックア</a> <a href=../../../operations/configuration-files/ title=設定ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定ファイル</a> <a href=../../../operations/quotas/ title=クォータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">クォータ</a> <a href=../../../operations/system-tables/ title=システム表 class="nav-link text-light text-wrap d-inline-block w-100 px-0">システム表</a> <a href=#sidebar-sidebar-6-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-11 title=性能の最適化 class="nav-link text-light dropdown-toggle px-0">性能の最適化</a> <div id=sidebar-sidebar-6-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing-performance/sampling-query-profiler/ title=Queryプロファイリング class="nav-link text-light text-wrap d-inline-block w-100 px-0">Queryプロファイリング</a> </nav> </div> <a href=#sidebar-sidebar-6-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-12 title=サーバ構成パラメータ class="nav-link text-light dropdown-toggle px-0">サーバ構成パラメータ</a> <div id=sidebar-sidebar-6-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server-configuration-parameters/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../operations/server-configuration-parameters/settings/ title=サーバー設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">サーバー設定</a> </nav> </div> <a href=../../../operations/performance-test/ title=ハードウェア試験 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ハードウェア試験</a> <a href=#sidebar-sidebar-6-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-14 title=設定 class="nav-link text-light dropdown-toggle px-0">設定</a> <div id=sidebar-sidebar-6-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../../operations/settings/permissions-for-queries/ title=クエリの権限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クエリの権限</a> <a href=../../../operations/settings/query-complexity/ title=クエリの複雑さの制限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クエリの複雑さの制限</a> <a href=../../../operations/settings/settings-profiles/ title=設定プロファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定プロファイル</a> <a href=../../../operations/settings/constraints-on-settings/ title=設定の制約 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定の制約</a> <a href=../../../operations/settings/settings-users/ title=ユーザー設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ユーザー設定</a> <a href=../../../operations/settings/settings/ title=設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定</a> </nav> </div> <a href=#sidebar-sidebar-6-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-15 title=ユーティリ class="nav-link text-light dropdown-toggle px-0">ユーティリ</a> <div id=sidebar-sidebar-6-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../../operations/utilities/clickhouse-copier/ title=クリックハウス-複写機 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウス-複写機</a> <a href=../../../operations/utilities/clickhouse-local/ title=ﾂつｨﾂ姪 ﾂ債ﾂつｹ&quot; class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂつｨﾂ姪"ﾂ債ﾂつｹ</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title=clickhouse-ベンチマーク class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-ベンチマーク</a> </nav> </div> <a href=../../../operations/tips/ title=使用法の推奨事項 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用法の推奨事項</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=開発 class="nav-link text-light dropdown-toggle px-0">開発</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/developer-instruction/ title=初心者ClickHouse開発者の指示 class="nav-link text-light text-wrap d-inline-block w-100 px-0">初心者ClickHouse開発者の指示</a> <a href=../../../development/architecture/ title=クリックハウス建築の概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウス建築の概要</a> <a href=../../../development/browse-code/ title=ソースコードの参照 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ソースコードの参照</a> <a href=../../../development/build/ title=Linux上でClickHouseを構築する方法 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Linux上でClickHouseを構築する方法</a> <a href=../../../development/build-osx/ title="Mac OS XでClickHouseを構築する方法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mac OS XでClickHouseを構築する方法</a> <a href=../../../development/build-cross-osx/ title="Mac OS X用のLinux上でClickHouseを構築する方法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mac OS X用のLinux上でClickHouseを構築する方法</a> <a href=../../../development/build-cross-arm/ title=Aarch64用のLinux上でClickHouseを構築する方法(ARM64) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aarch64用のLinux上でClickHouseを構築する方法(ARM64)</a> <a href=../../../development/style/ title=C++コードの書き方 class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++コードの書き方</a> <a href=../../../development/tests/ title=Testing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing</a> <a href=../../../development/contrib/ title=サードパーティ製ライブラリを使用 class="nav-link text-light text-wrap d-inline-block w-100 px-0">サードパーティ製ライブラリを使用</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=商業 class="nav-link text-light dropdown-toggle px-0">商業</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/cloud/ title=クラウド class="nav-link text-light text-wrap d-inline-block w-100 px-0">クラウド</a> <a href=../../../commercial/support/ title=Support class="nav-link text-light text-wrap d-inline-block w-100 px-0">Support</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=新着情報 class="nav-link text-light dropdown-toggle px-0">新着情報</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-9-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9-2 title=Changelog class="nav-link text-light dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-9-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats-new/changelog/ title=2021 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2021</a> <a href=../../../whats-new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats-new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats-new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats-new/roadmap/ title=ロード class="nav-link text-light text-wrap d-inline-block w-100 px-0">ロード</a> <a href=../../../whats-new/security-changelog/ title=セキュリティ変更履歴 class="nav-link text-light text-wrap d-inline-block w-100 px-0">セキュリティ変更履歴</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=F.A.Q. class="nav-link text-light dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/general/ title=一般的な質問 class="nav-link text-light text-wrap d-inline-block w-100 px-0">一般的な質問</a> </nav> </div> <a href=../../../single/clickhouse_ja.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-4"> <div id=content class=mt-md-n3> <nav class=text-muted aria-label=breadcrumb> <ol class="breadcrumb bg-transparent p-0"> <li class=breadcrumb-item><a href=../../ class=text-reset>SQLリファレンス</a> </li> <li class=breadcrumb-item><a href=../ class=text-reset>集計関数</a> </li> </ol> </nav> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/sql-reference/aggregate-functions/reference/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/sql-reference/aggregate-functions/reference.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=aggregate-functions-reference>集計関数の参照<a class=headerlink href=#aggregate-functions-reference title="Permanent link"> </a></h1> <h2 id=agg_function-count>カウント<a class=headerlink href=#agg_function-count title="Permanent link"> </a></h2> <p>行数またはnot-NULL値をカウントします。</p> <p>ClickHouseは以下の構文をサポートしています <code class=syntax>count</code>:<br> - <code class=syntax>count(expr)</code> または <code class=syntax>COUNT(DISTINCT expr)</code>.<br> - <code class=syntax>count()</code> または <code class=syntax>COUNT(*)</code>. その <code class=syntax>count()</code> 構文はClickHouse固有です。</p> <p><strong>パラメータ</strong></p> <p>機能は取ることができます:</p> <ul> <li>ゼロパラメータ。</li> <li>ワン <a href=../../syntax/#syntax-expressions>式</a>.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>関数がパラメータなしで呼び出された場合、行の数がカウントされます。</li> <li>もし <a href=../../syntax/#syntax-expressions>式</a> 渡されると、関数はこの式がnot nullを返した回数をカウントします。 式がaを返す場合 <a href=../../data-types/nullable/ >Null可能</a>-型の値、その後の結果 <code class=syntax>count</code> 滞在しない <code class=syntax>Nullable</code>. 式が返された場合、関数は0を返します <code class=syntax>NULL</code> すべての行について。</li> </ul> <p>どちらの場合も、戻り値の型は次のとおりです <a href=../../data-types/int-uint/ >UInt64</a>.</p> <p><strong>詳細</strong></p> <p>クリックハウスは <code class=syntax>COUNT(DISTINCT ...)</code> 構文。 この構造の動作は、 <a href=../../../operations/settings/settings/#settings-count_distinct_implementation>count_distinct_implementation</a> 設定。 それはのどれを定義します <a href=#agg_function-uniq>uniq*</a> 関数は、操作を実行するために使用されます。 デフォルトは <a href=#agg_function-uniqexact>uniqExact</a> 機能。</p> <p>その <code class=syntax>SELECT count() FROM table</code> テーブル内のエントリの数が別々に格納されないため、クエリは最適化されません。 テーブルから小さな列を選択し、その中の値の数をカウントします。</p> <p><strong>例</strong></p> <p>例1:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=k>count</span><span class=p>()</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─count()─┐
│       5 │
└─────────┘
</code></pre></div> <p>例2:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>'count_distinct_implementation'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name──────────────────────────┬─value─────┐
│ count_distinct_implementation │ uniqExact │
└───────────────────────────────┴───────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=k>count</span><span class=p>(</span><span class=k>DISTINCT</span> <span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─uniqExact(num)─┐
│              3 │
└────────────────┘
</code></pre></div> <p>この例では、 <code class=syntax>count(DISTINCT num)</code> によって実行されます。 <code class=syntax>uniqExact</code> に従う機能 <code class=syntax>count_distinct_implementation</code> 設定値。</p> <h2 id=agg_function-any>任意(x)<a class=headerlink href=#agg_function-any title="Permanent link"> </a></h2> <p>最初に検出された値を選択します。<br> クエリは毎回異なる順序でも任意の順序で実行できるため、この関数の結果は不確定です。<br> 決定的な結果を得るには、 ‘min’ または ‘max’ 関数の代わりに ‘any’.</p> <p>場合によっては、実行の順序に依存することができます。 これは、SELECTがORDER BYを使用するサブクエリから来ている場合に適用されます。</p> <p>ときa <code class=syntax>SELECT</code> クエリには <code class=syntax>GROUP BY</code> クラスタ内のすべての式は、クラスタ内のすべての式を必要とします。 <code class=syntax>SELECT</code>, <code class=syntax>HAVING</code>,and <code class=syntax>ORDER BY</code> 句は、キーまたは集計関数から計算されます。 つまり、テーブルから選択された各列は、キーまたは集計関数内で使用する必要があります。 MySQLのような動作を得るには、他の列を <code class=syntax>any</code> 集計関数。</p> <h2 id=anyheavyx>anyHeavy(x)<a class=headerlink href=#anyheavyx title="Permanent link"> </a></h2> <p>を使用して頻繁に発生する値を選択します。 <a href=http://www.cs.umd.edu/~samir/498/karp.pdf rel="external nofollow noreferrer" target=_blank>ヘビーヒッター</a> アルゴリズム 各クエリの実行スレッドでケースの半分を超える値がある場合、この値が返されます。 通常、結果は非決定的です。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>anyHeavy</span><span class=p>(</span><span class=k>column</span><span class=p>)</span>
</code></pre></div> <p><strong>引数</strong></p> <ul> <li><code class=syntax>column</code> – The column name.</li> </ul> <p><strong>例</strong></p> <p>を取る <a href=../../../getting-started/example-datasets/ontime/ >オンタイム</a> データ-セットはの頻繁に発生する値を選び、 <code class=syntax>AirlineID</code> 列。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>anyHeavy</span><span class=p>(</span><span class=n>AirlineID</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
<span class=k>FROM</span> <span class=n>ontime</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌───res─┐
│ 19690 │
└───────┘
</code></pre></div> <h2 id=anylastx>anyLast(x)<a class=headerlink href=#anylastx title="Permanent link"> </a></h2> <p>最後に検出された値を選択します。<br> 結果は同じように不確定です。 <code class=syntax>any</code> 機能。</p> <h2 id=groupbitand>グループビタンド<a class=headerlink href=#groupbitand title="Permanent link"> </a></h2> <p>ビット単位で適用 <code class=syntax>AND</code> 数のシリーズのために。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitAnd</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>UInt*</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt*</code> タイプ。</p> <p><strong>例</strong></p> <p>テストデータ:</p> <div class=codehilite><pre><span></span><code class=syntax>binary     decimal
00101100 = 44
00011100 = 28
00001101 = 13
01010101 = 85
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupBitAnd</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>どこに <code class=syntax>num</code> テストデータを含む列です。</p> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>binary     decimal
00000100 = 4
</code></pre></div> <h2 id=groupbitor>groupBitOr<a class=headerlink href=#groupbitor title="Permanent link"> </a></h2> <p>ビット単位で適用 <code class=syntax>OR</code> 数のシリーズのために。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitOr</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>UInt*</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt*</code> タイプ。</p> <p><strong>例</strong></p> <p>テストデータ:</p> <div class=codehilite><pre><span></span><code class=syntax>binary     decimal
00101100 = 44
00011100 = 28
00001101 = 13
01010101 = 85
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupBitOr</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>どこに <code class=syntax>num</code> テストデータを含む列です。</p> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>binary     decimal
01111101 = 125
</code></pre></div> <h2 id=groupbitxor>groupBitXor<a class=headerlink href=#groupbitxor title="Permanent link"> </a></h2> <p>ビット単位で適用 <code class=syntax>XOR</code> 数のシリーズのために。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitXor</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>UInt*</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt*</code> タイプ。</p> <p><strong>例</strong></p> <p>テストデータ:</p> <div class=codehilite><pre><span></span><code class=syntax>binary     decimal
00101100 = 44
00011100 = 28
00001101 = 13
01010101 = 85
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupBitXor</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>どこに <code class=syntax>num</code> テストデータを含む列です。</p> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>binary     decimal
01101000 = 104
</code></pre></div> <h2 id=groupbitmap>groupBitmap<a class=headerlink href=#groupbitmap title="Permanent link"> </a></h2> <p>符号なし整数列からのビットマップまたは集計計算、uint64型の基数を返します。 <a href=../../functions/bitmap-functions/ >ビットマップ</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitmap</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>UInt*</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt64</code> タイプ。</p> <p><strong>例</strong></p> <p>テストデータ:</p> <div class=codehilite><pre><span></span><code class=syntax>UserID
1
1
2
3
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupBitmap</span><span class=p>(</span><span class=n>UserID</span><span class=p>)</span> <span class=k>as</span> <span class=n>num</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>num
3
</code></pre></div> <h2 id=agg_function-min>min(x)<a class=headerlink href=#agg_function-min title="Permanent link"> </a></h2> <p>最小値を計算します。</p> <h2 id=agg_function-max>max(x)<a class=headerlink href=#agg_function-max title="Permanent link"> </a></h2> <p>最大値を計算します。</p> <h2 id=agg-function-argmin>アルグミン(arg,val)<a class=headerlink href=#agg-function-argmin title="Permanent link"> </a></h2> <p>計算します ‘arg’ 最小値の値 ‘val’ 値。 のいくつかの異なる値がある場合 ‘arg’ の最小値に対して ‘val’、検出された最初のこれらの値が出力されます。</p> <p><strong>例:</strong></p> <div class=codehilite><pre><span></span><code class=syntax>┌─user─────┬─salary─┐
│ director │   5000 │
│ manager  │   3000 │
│ worker   │   1000 │
└──────────┴────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>argMin</span><span class=p>(</span><span class=k>user</span><span class=p>,</span> <span class=n>salary</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>salary</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─argMin(user, salary)─┐
│ worker               │
└──────────────────────┘
</code></pre></div> <h2 id=agg-function-argmax>アルグマックス(arg,val)<a class=headerlink href=#agg-function-argmax title="Permanent link"> </a></h2> <p>計算します ‘arg’ 最大値 ‘val’ 値。 のいくつかの異なる値がある場合 ‘arg’ の最大値の場合 ‘val’、検出された最初のこれらの値が出力されます。</p> <h2 id=agg_function-sum>sum(x)<a class=headerlink href=#agg_function-sum title="Permanent link"> </a></h2> <p>合計を計算します。<br> 数字のみで動作します。</p> <h2 id=sumwithoverflowx>sumWithOverflow(x)<a class=headerlink href=#sumwithoverflowx title="Permanent link"> </a></h2> <p>結果には、入力パラメーターと同じデータ型を使用して、数値の合計を計算します。 合計がこのデータ型の最大値を超えると、関数はエラーを返します。</p> <p>数字のみで動作します。</p> <h2 id=agg_functions-summap>sumMap(キー,値),sumMap(タプル(キー,値)))<a class=headerlink href=#agg_functions-summap title="Permanent link"> </a></h2> <p>合計 ‘value’ に指定されたキーに従って配列 ‘key’ 配列<br> キーと値の配列のタプルを渡すことは、キーと値の二つの配列を渡すことと同義です。<br> 要素の数 ‘key’ と ‘value’ 合計される行ごとに同じである必要があります。<br> Returns a tuple of two arrays: keys in sorted order, and values ​​summed for the corresponding keys.</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>sum_map</span><span class=p>(</span>
    <span class=nb>date</span> <span class=nb>Date</span><span class=p>,</span>
    <span class=n>timeslot</span> <span class=n>DateTime</span><span class=p>,</span>
    <span class=n>statusMap</span> <span class=n>Nested</span><span class=p>(</span>
        <span class=n>status</span> <span class=n>UInt16</span><span class=p>,</span>
        <span class=n>requests</span> <span class=n>UInt64</span>
    <span class=p>),</span>
    <span class=n>statusMapTuple</span> <span class=n>Tuple</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=n>Int32</span><span class=p>),</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Int32</span><span class=p>))</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Log</span><span class=p>;</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>sum_map</span> <span class=k>VALUES</span>
    <span class=p>(</span><span class=s1>'2000-01-01'</span><span class=p>,</span> <span class=s1>'2000-01-01 00:00:00'</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>],</span> <span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>])),</span>
    <span class=p>(</span><span class=s1>'2000-01-01'</span><span class=p>,</span> <span class=s1>'2000-01-01 00:00:00'</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>],</span> <span class=p>([</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>])),</span>
    <span class=p>(</span><span class=s1>'2000-01-01'</span><span class=p>,</span> <span class=s1>'2000-01-01 00:01:00'</span><span class=p>,</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>],</span> <span class=p>([</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>])),</span>
    <span class=p>(</span><span class=s1>'2000-01-01'</span><span class=p>,</span> <span class=s1>'2000-01-01 00:01:00'</span><span class=p>,</span> <span class=p>[</span><span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>],</span> <span class=p>([</span><span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>]));</span>

<span class=k>SELECT</span>
    <span class=n>timeslot</span><span class=p>,</span>
    <span class=n>sumMap</span><span class=p>(</span><span class=n>statusMap</span><span class=p>.</span><span class=n>status</span><span class=p>,</span> <span class=n>statusMap</span><span class=p>.</span><span class=n>requests</span><span class=p>),</span>
    <span class=n>sumMap</span><span class=p>(</span><span class=n>statusMapTuple</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>sum_map</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>timeslot</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌────────────timeslot─┬─sumMap(statusMap.status, statusMap.requests)─┬─sumMap(statusMapTuple)─────────┐
│ 2000-01-01 00:00:00 │ ([1,2,3,4,5],[10,10,20,10,10])               │ ([1,2,3,4,5],[10,10,20,10,10]) │
│ 2000-01-01 00:01:00 │ ([4,5,6,7,8],[10,10,20,10,10])               │ ([4,5,6,7,8],[10,10,20,10,10]) │
└─────────────────────┴──────────────────────────────────────────────┴────────────────────────────────┘
</code></pre></div> <h2 id=skewpop>skewPop<a class=headerlink href=#skewpop title="Permanent link"> </a></h2> <p>を計算する <a href=https://en.wikipedia.org/wiki/Skewness rel="external nofollow noreferrer" target=_blank>歪み</a> シーケンスの。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>skewPop</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> — <a href=../../syntax/#syntax-expressions>式</a> 番号を返す。</p> <p><strong>戻り値</strong></p> <p>The skewness of the given distribution. Type — <a href=../../data-types/float/ >Float64</a></p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>skewPop</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=skewsamp>skewSamp<a class=headerlink href=#skewsamp title="Permanent link"> </a></h2> <p>を計算する <a href=https://en.wikipedia.org/wiki/Skewness rel="external nofollow noreferrer" target=_blank>サンプル歪度</a> シーケンスの。</p> <p>渡された値がサンプルを形成する場合、確率変数の歪度の不偏推定値を表します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>skewSamp</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> — <a href=../../syntax/#syntax-expressions>式</a> 番号を返す。</p> <p><strong>戻り値</strong></p> <p>The skewness of the given distribution. Type — <a href=../../data-types/float/ >Float64</a>. もし <code class=syntax>n &lt;= 1</code> (<code class=syntax>n</code> はサンプルのサイズです）、その後、関数が返します <code class=syntax>nan</code>.</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>skewSamp</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=kurtpop>クルトポップ<a class=headerlink href=#kurtpop title="Permanent link"> </a></h2> <p>を計算する <a href=https://en.wikipedia.org/wiki/Kurtosis rel="external nofollow noreferrer" target=_blank>尖度</a> シーケンスの。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>kurtPop</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> — <a href=../../syntax/#syntax-expressions>式</a> 番号を返す。</p> <p><strong>戻り値</strong></p> <p>The kurtosis of the given distribution. Type — <a href=../../data-types/float/ >Float64</a></p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>kurtPop</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=kurtsamp>クルツァンプ<a class=headerlink href=#kurtsamp title="Permanent link"> </a></h2> <p>を計算する <a href=https://en.wikipedia.org/wiki/Kurtosis rel="external nofollow noreferrer" target=_blank>尖度のサンプル</a> シーケンスの。</p> <p>渡された値がその標本を形成する場合、確率変数の尖度の不偏推定値を表します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>kurtSamp</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> — <a href=../../syntax/#syntax-expressions>式</a> 番号を返す。</p> <p><strong>戻り値</strong></p> <p>The kurtosis of the given distribution. Type — <a href=../../data-types/float/ >Float64</a>. もし <code class=syntax>n &lt;= 1</code> (<code class=syntax>n</code> はサンプルのサイズです）、関数は <code class=syntax>nan</code>.</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>kurtSamp</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=agg_function-avg>avg(x)<a class=headerlink href=#agg_function-avg title="Permanent link"> </a></h2> <p>平均を計算します。<br> 数字のみで動作します。<br> 結果は常にFloat64です。</p> <h2 id=avgweighted>avgWeighted<a class=headerlink href=#avgweighted title="Permanent link"> </a></h2> <p>計算します <a href=https://en.wikipedia.org/wiki/Weighted_arithmetic_mean rel="external nofollow noreferrer" target=_blank>加重算術平均</a>.</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>avgWeighted</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>x</code> — Values. <a href=../../data-types/int-uint/ >整数</a> または <a href=../../data-types/float/ >浮動小数点数</a>.</li> <li><code class=syntax>weight</code> — Weights of the values. <a href=../../data-types/int-uint/ >整数</a> または <a href=../../data-types/float/ >浮動小数点数</a>.</li> </ul> <p>タイプの <code class=syntax>x</code> と <code class=syntax>weight</code> 同じである必要があります。</p> <p><strong>戻り値</strong></p> <ul> <li>加重平均。</li> <li><code class=syntax>NaN</code>. すべての重みが0に等しい場合。</li> </ul> <p>タイプ: <a href=../../data-types/float/ >Float64</a>.</p> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>avgWeighted</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>w</span><span class=p>)</span>
<span class=k>FROM</span> <span class=k>values</span><span class=p>(</span><span class=s1>'x Int8, w Int8'</span><span class=p>,</span> <span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─avgWeighted(x, weight)─┐
│                      8 │
└────────────────────────┘
</code></pre></div> <h2 id=agg_function-uniq>uniq<a class=headerlink href=#agg_function-uniq title="Permanent link"> </a></h2> <p>引数の異なる値のおおよその数を計算します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>uniq</span><span class=p>(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p>この関数は、可変数のパラメータを取ります。 変数はあります <code class=syntax>Tuple</code>, <code class=syntax>Array</code>, <code class=syntax>Date</code>, <code class=syntax>DateTime</code>, <code class=syntax>String</code> または数値型。</p> <p><strong>戻り値</strong></p> <ul> <li>A <a href=../../data-types/int-uint/ >UInt64</a>-タイプ番号。</li> </ul> <p><strong>実装の詳細</strong></p> <p>関数:</p> <ul> <li> <p>集計内のすべてのパラメーターのハッシュを計算し、それを計算に使用します。</p> </li> <li> <p>を使用して適応サンプリングアルゴリズムです。 計算状態では、関数は65536までの要素ハッシュ値のサンプルを使用します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>This</span> <span class=n>algorithm</span> <span class=k>is</span> <span class=n>very</span> <span class=n>accurate</span> <span class=k>and</span> <span class=n>very</span> <span class=n>efficient</span> <span class=k>on</span> <span class=n>the</span> <span class=n>CPU</span><span class=p>.</span> <span class=k>When</span> <span class=n>the</span> <span class=n>query</span> <span class=n>contains</span> <span class=n>several</span> <span class=n>of</span> <span class=n>these</span> <span class=n>functions</span><span class=p>,</span> <span class=k>using</span> <span class=ss>`uniq`</span> <span class=k>is</span> <span class=n>almost</span> <span class=k>as</span> <span class=n>fast</span> <span class=k>as</span> <span class=k>using</span> <span class=n>other</span> <span class=n>aggregate</span> <span class=n>functions</span><span class=p>.</span>
</code></pre></div> </li> <li> <p>結果を確定的に提供します(クエリ処理順序に依存しません)。</p> </li> </ul> <p>使用をお勧めしますこの機能はほとんど全てのシナリオ.</p> <p><strong>も参照。</strong></p> <ul> <li><a href=#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=#agg_function-uniqcombined64>uniqCombined64</a></li> <li><a href=#agg_function-uniqhll12>uniqHLL12</a></li> <li><a href=#agg_function-uniqexact>uniqExact</a></li> </ul> <h2 id=agg_function-uniqcombined>uniqCombined<a class=headerlink href=#agg_function-uniqcombined title="Permanent link"> </a></h2> <p>異なる引数値のおおよその数を計算します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>uniqCombined</span><span class=p>(</span><span class=n>HLL_precision</span><span class=p>)(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p>その <code class=syntax>uniqCombined</code> 関数は、異なる値の数を計算するための良い選択です。</p> <p><strong>パラメータ</strong></p> <p>この関数は、可変数のパラメータを取ります。 変数はあります <code class=syntax>Tuple</code>, <code class=syntax>Array</code>, <code class=syntax>Date</code>, <code class=syntax>DateTime</code>, <code class=syntax>String</code> または数値型。</p> <p><code class=syntax>HLL_precision</code> は、セルの数の底2対数です。 <a href=https://en.wikipedia.org/wiki/HyperLogLog rel="external nofollow noreferrer" target=_blank>HyperLogLog</a>. オプションで、次のように関数を使用できます <code class=syntax>uniqCombined(x[, ...])</code>. のデフォルト値 <code class=syntax>HLL_precision</code> は17であり、これは実質的に96KiBの空間（2^17セル、各6ビット）である。</p> <p><strong>戻り値</strong></p> <ul> <li>番号 <a href=../../data-types/int-uint/ >UInt64</a>-タイプ番号。</li> </ul> <p><strong>実装の詳細</strong></p> <p>関数:</p> <ul> <li> <p>ハッシュ(64ビットのハッシュ <code class=syntax>String</code> それ以外の場合は32ビット）集計内のすべてのパラメータについて、それを計算に使用します。</p> </li> <li> <p>配列、ハッシュテーブル、HyperLogLogと誤り訂正表の組み合わせを使用します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=err>For a small number of distinct elements, an array is used. When the set size is larger, a hash table is used. For a larger number of elements, HyperLogLog is used, which will occupy a fixed amount of memory.</span>
</code></pre></div> </li> <li> <p>結果を確定的に提供します(クエリ処理順序に依存しません)。</p> </li> </ul> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>非32ビットハッシュを使用するので-<code class=syntax>String</code> タイプは、結果よりも有意に大きい基数のための非常に高い誤差を有する <code class=syntax>UINT_MAX</code> （エラーは数十億の異なる値の後にすぐに発生します）、この場合は以下を使用する必要があります <a class=alert-link href=#agg_function-uniqcombined64>uniqCombined64</a></p> </div> <p>と比較される <a href=#agg_function-uniq>uniq</a> 関数は、 <code class=syntax>uniqCombined</code>:</p> <ul> <li>数倍少ないメモリを消費します。</li> <li>数倍高い精度で計算します。</li> <li>通常はやや性能が低い。 シナリオによっては, <code class=syntax>uniqCombined</code> ではどのように絡んでいるのかを調べ <code class=syntax>uniq</code> たとえば、ネットワーク経由で多数の集約状態を送信する分散クエリです。</li> </ul> <p><strong>も参照。</strong></p> <ul> <li><a href=#agg_function-uniq>uniq</a></li> <li><a href=#agg_function-uniqcombined64>uniqCombined64</a></li> <li><a href=#agg_function-uniqhll12>uniqHLL12</a></li> <li><a href=#agg_function-uniqexact>uniqExact</a></li> </ul> <h2 id=agg_function-uniqcombined64>uniqCombined64<a class=headerlink href=#agg_function-uniqcombined64 title="Permanent link"> </a></h2> <p>同じ <a href=#agg_function-uniqcombined>uniqCombined</a> しかし、すべてのデータ型に64ビットハッシュを使用します。</p> <h2 id=agg_function-uniqhll12>uniqHLL12<a class=headerlink href=#agg_function-uniqhll12 title="Permanent link"> </a></h2> <p>異なる引数値のおおよその数を計算します。 <a href=https://en.wikipedia.org/wiki/HyperLogLog rel="external nofollow noreferrer" target=_blank>HyperLogLog</a> アルゴリズム</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>uniqHLL12</span><span class=p>(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p>この関数は、可変数のパラメータを取ります。 変数はあります <code class=syntax>Tuple</code>, <code class=syntax>Array</code>, <code class=syntax>Date</code>, <code class=syntax>DateTime</code>, <code class=syntax>String</code> または数値型。</p> <p><strong>戻り値</strong></p> <ul> <li>A <a href=../../data-types/int-uint/ >UInt64</a>-タイプ番号。</li> </ul> <p><strong>実装の詳細</strong></p> <p>関数:</p> <ul> <li> <p>集計内のすべてのパラメーターのハッシュを計算し、それを計算に使用します。</p> </li> <li> <p>HyperLogLogアルゴリズムを使用して、異なる引数値の数を近似します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=err>212 5-bit cells are used. The size of the state is slightly more than 2.5 KB. The result is not very accurate (up to ~10% error) for small data sets (&lt;10K elements). However, the result is fairly accurate for high-cardinality data sets (10K-100M), with a maximum error of ~1.6%. Starting from 100M, the estimation error increases, and the function will return very inaccurate results for data sets with extremely high cardinality (1B+ elements).</span>
</code></pre></div> </li> <li> <p>決定的な結果を提供します(クエリ処理順序に依存しません)。</p> </li> </ul> <p>この機能の使用はお勧めしません。 ほとんどの場合、 <a href=#agg_function-uniq>uniq</a> または <a href=#agg_function-uniqcombined>uniqCombined</a> 機能。</p> <p><strong>も参照。</strong></p> <ul> <li><a href=#agg_function-uniq>uniq</a></li> <li><a href=#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=#agg_function-uniqexact>uniqExact</a></li> </ul> <h2 id=agg_function-uniqexact>uniqExact<a class=headerlink href=#agg_function-uniqexact title="Permanent link"> </a></h2> <p>異なる引数値の正確な数を計算します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>uniqExact</span><span class=p>(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p>使用する <code class=syntax>uniqExact</code> あなたが絶対に正確な結果が必要な場合は、関数。 それ以外の場合は、 <a href=#agg_function-uniq>uniq</a> 機能。</p> <p>その <code class=syntax>uniqExact</code> 関数はより多くのメモリを使用 <code class=syntax>uniq</code>、状態の大きさは、異なる値の数が増加するにつれて無限の成長を有するからである。</p> <p><strong>パラメータ</strong></p> <p>この関数は、可変数のパラメータを取ります。 変数はあります <code class=syntax>Tuple</code>, <code class=syntax>Array</code>, <code class=syntax>Date</code>, <code class=syntax>DateTime</code>, <code class=syntax>String</code> または数値型。</p> <p><strong>も参照。</strong></p> <ul> <li><a href=#agg_function-uniq>uniq</a></li> <li><a href=#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=#agg_function-uniqhll12>uniqHLL12</a></li> </ul> <h2 id=agg_function-grouparray>groupArray(x),groupArray(max_size)(x)<a class=headerlink href=#agg_function-grouparray title="Permanent link"> </a></h2> <p>引数値の配列を作成します。<br> 値は、任意の（不確定な）順序で配列に追加できます。</p> <p>第二のバージョン（と <code class=syntax>max_size</code> パラメータ)結果の配列のサイズを以下に制限します <code class=syntax>max_size</code> 要素。<br> 例えば, <code class=syntax>groupArray (1) (x)</code> に等しい。 <code class=syntax>[any (x)]</code>.</p> <p>場合によっては、実行順序に依存することもあります。 これは、次の場合に適用されます <code class=syntax>SELECT</code> を使用するサブクエリから来ています <code class=syntax>ORDER BY</code>.</p> <h2 id=grouparrayinsertat>グループパラインセルタット<a class=headerlink href=#grouparrayinsertat title="Permanent link"> </a></h2> <p>指定された位置に配列に値を挿入します。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupArrayInsertAt</span><span class=p>(</span><span class=n>default_x</span><span class=p>,</span> <span class=k>size</span><span class=p>)(</span><span class=n>x</span><span class=p>,</span> <span class=n>pos</span><span class=p>);</span>
</code></pre></div> <p>あるクエリで複数の値が同じ位置に挿入された場合、関数は次のように動作します:</p> <ul> <li>クエリが単一のスレッドで実行される場合、挿入された最初の値が使用されます。</li> <li>クエリが複数のスレッドで実行される場合、結果の値は挿入された値のいずれかになります。</li> </ul> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>x</code> — Value to be inserted. <a href=../../syntax/#syntax-expressions>式</a> のいずれかになります <a href=../../data-types/ >対応するデータ型</a>.</li> <li><code class=syntax>pos</code> — Position at which the specified element <code class=syntax>x</code> 挿入されるべきです。 配列のインデックス番号はゼロから始まります。 <a href=../../data-types/int-uint/#uint-ranges>UInt32</a>.</li> <li><code class=syntax>default_x</code>— Default value for substituting in empty positions. Optional parameter. <a href=../../syntax/#syntax-expressions>式</a> その結果、データ型は <code class=syntax>x</code> パラメータ。 もし <code class=syntax>default_x</code> は定義されていない。 <a href=../../statements/create/#create-default-values>デフォルト値</a> 使用されます。</li> <li><code class=syntax>size</code>— Length of the resulting array. Optional parameter. When using this parameter, the default value <code class=syntax>default_x</code> 指定する必要があります。 <a href=../../data-types/int-uint/#uint-ranges>UInt32</a>.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>値が挿入された配列。</li> </ul> <p>タイプ: <a href=../../data-types/array/#data-type-array>配列</a>.</p> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupArrayInsertAt</span><span class=p>(</span><span class=n>toString</span><span class=p>(</span><span class=nb>number</span><span class=p>),</span> <span class=nb>number</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─groupArrayInsertAt(toString(number), multiply(number, 2))─┐
│ ['0','','1','','2','','3','','4']                         │
└───────────────────────────────────────────────────────────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupArrayInsertAt</span><span class=p>(</span><span class=s1>'-'</span><span class=p>)(</span><span class=n>toString</span><span class=p>(</span><span class=nb>number</span><span class=p>),</span> <span class=nb>number</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─groupArrayInsertAt('-')(toString(number), multiply(number, 2))─┐
│ ['0','-','1','-','2','-','3','-','4']                          │
└────────────────────────────────────────────────────────────────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupArrayInsertAt</span><span class=p>(</span><span class=s1>'-'</span><span class=p>,</span> <span class=mi>5</span><span class=p>)(</span><span class=n>toString</span><span class=p>(</span><span class=nb>number</span><span class=p>),</span> <span class=nb>number</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─groupArrayInsertAt('-', 5)(toString(number), multiply(number, 2))─┐
│ ['0','-','1','-','2']                                             │
└───────────────────────────────────────────────────────────────────┘
</code></pre></div> <p>一つの位置に要素のマルチスレッド挿入。</p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>groupArrayInsertAt</span><span class=p>(</span><span class=nb>number</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers_mt</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=n>SETTINGS</span> <span class=n>max_block_size</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</code></pre></div> <p>このクエリの結果として、あなたはランダムな整数を取得します <code class=syntax>[0,9]</code> 範囲 例えば:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─groupArrayInsertAt(number, 0)─┐
│ [7]                           │
└───────────────────────────────┘
</code></pre></div> <h2 id=agg_function-grouparraymovingsum>グループパレイモビングスム<a class=headerlink href=#agg_function-grouparraymovingsum title="Permanent link"> </a></h2> <p>入力値の移動合計を計算します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
<span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=n>window_size</span><span class=p>)(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
</code></pre></div> <p>この機能できるウィンドウサイズとしてのパラメータとします。 指定されていない場合、関数は列の行数に等しいウィンドウサイズを取ります。</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>numbers_for_summing</code> — <a href=../../syntax/#syntax-expressions>式</a> 数値データ型の値になります。</li> <li><code class=syntax>window_size</code> — Size of the calculation window.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>入力データと同じサイズと型の配列。</li> </ul> <p><strong>例</strong></p> <p>サンプルテーブル:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>t</span>
<span class=p>(</span>
    <span class=o>`</span><span class=nb>int</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>float</span><span class=o>`</span> <span class=n>Float32</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>dec</span><span class=o>`</span> <span class=n>Decimal32</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─int─┬─float─┬──dec─┐
│   1 │   1.1 │ 1.10 │
│   2 │   2.2 │ 2.20 │
│   4 │   4.4 │ 4.40 │
│   7 │  7.77 │ 7.77 │
└─────┴───────┴──────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─I──────────┬─F───────────────────────────────┬─D──────────────────────┐
│ [1,3,7,14] │ [1.1,3.3000002,7.7000003,15.47] │ [1.10,3.30,7.70,15.47] │
└────────────┴─────────────────────────────────┴────────────────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─I──────────┬─F───────────────────────────────┬─D──────────────────────┐
│ [1,3,6,11] │ [1.1,3.3000002,6.6000004,12.17] │ [1.10,3.30,6.60,12.17] │
└────────────┴─────────────────────────────────┴────────────────────────┘
</code></pre></div> <h2 id=agg_function-grouparraymovingavg>groupArrayMovingAvg<a class=headerlink href=#agg_function-grouparraymovingavg title="Permanent link"> </a></h2> <p>入力値の移動平均を計算します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
<span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=n>window_size</span><span class=p>)(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
</code></pre></div> <p>この機能できるウィンドウサイズとしてのパラメータとします。 指定されていない場合、関数は列の行数に等しいウィンドウサイズを取ります。</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>numbers_for_summing</code> — <a href=../../syntax/#syntax-expressions>式</a> 数値データ型の値になります。</li> <li><code class=syntax>window_size</code> — Size of the calculation window.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>入力データと同じサイズと型の配列。</li> </ul> <p>この関数は <a href=https://en.wikipedia.org/wiki/Rounding#Rounding_towards_zero rel="external nofollow noreferrer" target=_blank>ゼロへの丸め</a>. 結果のデータ型の小数点以下の桁数を切り捨てます。</p> <p><strong>例</strong></p> <p>サンプルテーブル <code class=syntax>b</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>t</span>
<span class=p>(</span>
    <span class=o>`</span><span class=nb>int</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>float</span><span class=o>`</span> <span class=n>Float32</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>dec</span><span class=o>`</span> <span class=n>Decimal32</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─int─┬─float─┬──dec─┐
│   1 │   1.1 │ 1.10 │
│   2 │   2.2 │ 2.20 │
│   4 │   4.4 │ 4.40 │
│   7 │  7.77 │ 7.77 │
└─────┴───────┴──────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─I─────────┬─F───────────────────────────────────┬─D─────────────────────┐
│ [0,0,1,3] │ [0.275,0.82500005,1.9250001,3.8675] │ [0.27,0.82,1.92,3.86] │
└───────────┴─────────────────────────────────────┴───────────────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─I─────────┬─F────────────────────────────────┬─D─────────────────────┐
│ [0,1,3,5] │ [0.55,1.6500001,3.3000002,6.085] │ [0.55,1.65,3.30,6.08] │
└───────────┴──────────────────────────────────┴───────────────────────┘
</code></pre></div> <h2 id=groupuniqarrayx-groupuniqarraymax-sizex>groupUniqArray(x),groupUniqArray(max_size)(x)<a class=headerlink href=#groupuniqarrayx-groupuniqarraymax-sizex title="Permanent link"> </a></h2> <p>異なる引数値から配列を作成します。 メモリ消費量は <code class=syntax>uniqExact</code> 機能。</p> <p>第二のバージョン（と <code class=syntax>max_size</code> パラメータ)結果の配列のサイズを以下に制限します <code class=syntax>max_size</code> 要素。<br> 例えば, <code class=syntax>groupUniqArray(1)(x)</code> に等しい。 <code class=syntax>[any(x)]</code>.</p> <h2 id=quantile>分位数<a class=headerlink href=#quantile title="Permanent link"> </a></h2> <p>近似を計算します <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> 数値データシーケンスの。</p> <p>この関数が適用されます <a href=https://en.wikipedia.org/wiki/Reservoir_sampling rel="external nofollow noreferrer" target=_blank>貯蔵所の見本抽出</a> 8192までの貯蔵所のサイズおよび見本抽出のための乱数発生器を使って。 結果は非決定的です。 正確な分位値を取得するには、次の式を使用します <a href=#quantileexact>quantileExact</a> 機能。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantile</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>median</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</li> <li><code class=syntax>expr</code> — Expression over the column values resulting in numeric <a href=../../data-types/#data_types>データ型</a>, <a href=../../data-types/date/ >日付</a> または <a href=../../data-types/datetime/ >DateTime</a>.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの近似分位値。</li> </ul> <p>タイプ:</p> <ul> <li><a href=../../data-types/float/ >Float64</a> 数値データ型入力の場合。</li> <li><a href=../../data-types/date/ >日付</a> 入力値が <code class=syntax>Date</code> タイプ。</li> <li><a href=../../data-types/datetime/ >DateTime</a> 入力値が <code class=syntax>DateTime</code> タイプ。</li> </ul> <p><strong>例</strong></p> <p>入力テーブル:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─val─┐
│   1 │
│   1 │
│   2 │
│   3 │
└─────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantile</span><span class=p>(</span><span class=n>val</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantile(val)─┐
│           1.5 │
└───────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantiledeterministic>quantileDeterministic<a class=headerlink href=#quantiledeterministic title="Permanent link"> </a></h2> <p>近似を計算します <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> 数値データシーケンスの。</p> <p>この関数が適用されます <a href=https://en.wikipedia.org/wiki/Reservoir_sampling rel="external nofollow noreferrer" target=_blank>貯蔵所の見本抽出</a> 貯蔵所のサイズ8192までおよび見本抽出の決定論的なアルゴリズムを使って。 結果は決定的です。 正確な分位値を取得するには、次の式を使用します <a href=#quantileexact>quantileExact</a> 機能。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileDeterministic</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>,</span> <span class=n>determinator</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianDeterministic</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</li> <li><code class=syntax>expr</code> — Expression over the column values resulting in numeric <a href=../../data-types/#data_types>データ型</a>, <a href=../../data-types/date/ >日付</a> または <a href=../../data-types/datetime/ >DateTime</a>.</li> <li><code class=syntax>determinator</code> — Number whose hash is used instead of a random number generator in the reservoir sampling algorithm to make the result of sampling deterministic. As a determinator you can use any deterministic positive number, for example, a user id or an event id. If the same determinator value occures too often, the function works incorrectly.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの近似分位値。</li> </ul> <p>タイプ:</p> <ul> <li><a href=../../data-types/float/ >Float64</a> 数値データ型入力の場合。</li> <li><a href=../../data-types/date/ >日付</a> 入力値が <code class=syntax>Date</code> タイプ。</li> <li><a href=../../data-types/datetime/ >DateTime</a> 入力値が <code class=syntax>DateTime</code> タイプ。</li> </ul> <p><strong>例</strong></p> <p>入力テーブル:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─val─┐
│   1 │
│   1 │
│   2 │
│   3 │
└─────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileDeterministic</span><span class=p>(</span><span class=n>val</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileDeterministic(val, 1)─┐
│                           1.5 │
└───────────────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantileexact>quantileExact<a class=headerlink href=#quantileexact title="Permanent link"> </a></h2> <p>正確に計算する <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> 数値データシーケンスの。</p> <p>To get exact value, all the passed values ​​are combined into an array, which is then partially sorted. Therefore, the function consumes <code class=syntax>O(n)</code> メモリ、どこ <code class=syntax>n</code> 渡された値の数です。 しかし、少数の値の場合、この関数は非常に効果的です。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileExact</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianExact</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</li> <li><code class=syntax>expr</code> — Expression over the column values resulting in numeric <a href=../../data-types/#data_types>データ型</a>, <a href=../../data-types/date/ >日付</a> または <a href=../../data-types/datetime/ >DateTime</a>.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの分位値。</li> </ul> <p>タイプ:</p> <ul> <li><a href=../../data-types/float/ >Float64</a> 数値データ型入力の場合。</li> <li><a href=../../data-types/date/ >日付</a> 入力値が <code class=syntax>Date</code> タイプ。</li> <li><a href=../../data-types/datetime/ >DateTime</a> 入力値が <code class=syntax>DateTime</code> タイプ。</li> </ul> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileExact</span><span class=p>(</span><span class=nb>number</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileExact(number)─┐
│                     5 │
└───────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantileexactweighted>quantileExactWeighted<a class=headerlink href=#quantileexactweighted title="Permanent link"> </a></h2> <p>正確に計算する <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> 各要素の重みを考慮して、数値データシーケンスの重みを指定します。</p> <p>To get exact value, all the passed values ​​are combined into an array, which is then partially sorted. Each value is counted with its weight, as if it is present <code class=syntax>weight</code> times. A hash table is used in the algorithm. Because of this, if the passed values ​​are frequently repeated, the function consumes less RAM than <a href=#quantileexact>quantileExact</a>. この関数は、次の代わりに使用できます <code class=syntax>quantileExact</code> そして、重み1を指定します。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileExactWeighted</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianExactWeighted</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</li> <li><code class=syntax>expr</code> — Expression over the column values resulting in numeric <a href=../../data-types/#data_types>データ型</a>, <a href=../../data-types/date/ >日付</a> または <a href=../../data-types/datetime/ >DateTime</a>.</li> <li><code class=syntax>weight</code> — Column with weights of sequence members. Weight is a number of value occurrences.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの分位値。</li> </ul> <p>タイプ:</p> <ul> <li><a href=../../data-types/float/ >Float64</a> 数値データ型入力の場合。</li> <li><a href=../../data-types/date/ >日付</a> 入力値が <code class=syntax>Date</code> タイプ。</li> <li><a href=../../data-types/datetime/ >DateTime</a> 入力値が <code class=syntax>DateTime</code> タイプ。</li> </ul> <p><strong>例</strong></p> <p>入力テーブル:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─n─┬─val─┐
│ 0 │   3 │
│ 1 │   2 │
│ 2 │   1 │
│ 5 │   4 │
└───┴─────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileExactWeighted</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileExactWeighted(n, val)─┐
│                             1 │
└───────────────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantiletiming>クオンタイミング<a class=headerlink href=#quantiletiming title="Permanent link"> </a></h2> <p>決定された精度では、 <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> 数値データシーケンスの。</p> <p>結果は決定的です（クエリ処理順序に依存しません）。 この機能を最適化と配列における分布のような積載ウェブページではバックエンド対応。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileTiming</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianTiming</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li> <p><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</p> </li> <li> <p><code class=syntax>expr</code> — <a href=../../syntax/#syntax-expressions>式</a> aを返す列の値に対して <a href=../../data-types/float/ >フロート*</a>-タイプ番号。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=err>- If negative values are passed to the function, the behavior is undefined.</span>
<span class=err>- If the value is greater than 30,000 (a page loading time of more than 30 seconds), it is assumed to be 30,000.</span>
</code></pre></div> </li> </ul> <p><strong>精度</strong></p> <p>計算は次の場合に正確です:</p> <ul> <li>値の総数は5670を超えません。</li> <li>値の総数は5670を超えますが、ページの読み込み時間は1024ms未満です。</li> </ul> <p>それ以外の場合、計算の結果は16msの最も近い倍数に丸められます。</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>ページの読み込み時間の分位数を計算するために、この機能はより有効、正確です <a class=alert-link href=#quantile>分位数</a>.</p> </div> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの分位値。</li> </ul> <p>タイプ: <code class=syntax>Float32</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>関数に値が渡されない場合（使用する場合 <code class=syntax>quantileTimingIf</code>), <a class=alert-link href=../../data-types/float/#data_type-float-nan-inf>ナン</a> 返されます。 この目的は、これらのケースをゼロになるケースと区別することです。 見る <a class=alert-link href=../../statements/select/order-by/#select-order-by>ORDER BY句</a> ソートに関する注意事項 <code class=syntax>NaN</code> 値。</p> </div> <p><strong>例</strong></p> <p>入力テーブル:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─response_time─┐
│            72 │
│           112 │
│           126 │
│           145 │
│           104 │
│           242 │
│           313 │
│           168 │
│           108 │
└───────────────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileTiming</span><span class=p>(</span><span class=n>response_time</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileTiming(response_time)─┐
│                           126 │
└───────────────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantiletimingweighted>quantitetimingweighted<a class=headerlink href=#quantiletimingweighted title="Permanent link"> </a></h2> <p>決定された精度では、 <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> 各シーケンスメンバの重みに応じた数値データシーケンスの。</p> <p>結果は決定的です（クエリ処理順序に依存しません）。 この機能を最適化と配列における分布のような積載ウェブページではバックエンド対応。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileTimingWeighted</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianTimingWeighted</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li> <p><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</p> </li> <li> <p><code class=syntax>expr</code> — <a href=../../syntax/#syntax-expressions>式</a> aを返す列の値に対して <a href=../../data-types/float/ >フロート*</a>-タイプ番号。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=err>- If negative values are passed to the function, the behavior is undefined.</span>
<span class=err>- If the value is greater than 30,000 (a page loading time of more than 30 seconds), it is assumed to be 30,000.</span>
</code></pre></div> </li> <li> <p><code class=syntax>weight</code> — Column with weights of sequence elements. Weight is a number of value occurrences.</p> </li> </ul> <p><strong>精度</strong></p> <p>計算は次の場合に正確です:</p> <ul> <li>値の総数は5670を超えません。</li> <li>値の総数は5670を超えますが、ページの読み込み時間は1024ms未満です。</li> </ul> <p>それ以外の場合、計算の結果は16msの最も近い倍数に丸められます。</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>ページの読み込み時間の分位数を計算するために、この機能はより有効、正確です <a class=alert-link href=#quantile>分位数</a>.</p> </div> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの分位値。</li> </ul> <p>タイプ: <code class=syntax>Float32</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>関数に値が渡されない場合（使用する場合 <code class=syntax>quantileTimingIf</code>), <a class=alert-link href=../../data-types/float/#data_type-float-nan-inf>ナン</a> 返されます。 この目的は、これらのケースをゼロになるケースと区別することです。 見る <a class=alert-link href=../../statements/select/order-by/#select-order-by>ORDER BY句</a> ソートに関する注意事項 <code class=syntax>NaN</code> 値。</p> </div> <p><strong>例</strong></p> <p>入力テーブル:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─response_time─┬─weight─┐
│            68 │      1 │
│           104 │      2 │
│           112 │      3 │
│           126 │      2 │
│           138 │      1 │
│           162 │      1 │
└───────────────┴────────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileTimingWeighted</span><span class=p>(</span><span class=n>response_time</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileTimingWeighted(response_time, weight)─┐
│                                           112 │
└───────────────────────────────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantiletdigest>quantileTDigest<a class=headerlink href=#quantiletdigest title="Permanent link"> </a></h2> <p>近似を計算します <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> を用いた数値データシーケンスの <a href=https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf rel="external nofollow noreferrer" target=_blank>t-ダイジェスト</a> アルゴリズム</p> <p>最大誤差は1%です。 メモリ消費は <code class=syntax>log(n)</code>,ここで <code class=syntax>n</code> 値の数です。 結果は、クエリの実行順序に依存し、非決定的です。</p> <p>機能の性能はの性能より低いです <a href=#quantile>分位数</a> または <a href=#quantiletiming>クオンタイミング</a>. 状態サイズと精度の比に関しては、この関数は <code class=syntax>quantile</code>.</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileTDigest</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianTDigest</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</li> <li><code class=syntax>expr</code> — Expression over the column values resulting in numeric <a href=../../data-types/#data_types>データ型</a>, <a href=../../data-types/date/ >日付</a> または <a href=../../data-types/datetime/ >DateTime</a>.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの近似分位値。</li> </ul> <p>タイプ:</p> <ul> <li><a href=../../data-types/float/ >Float64</a> 数値データ型入力の場合。</li> <li><a href=../../data-types/date/ >日付</a> 入力値が <code class=syntax>Date</code> タイプ。</li> <li><a href=../../data-types/datetime/ >DateTime</a> 入力値が <code class=syntax>DateTime</code> タイプ。</li> </ul> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileTDigest</span><span class=p>(</span><span class=nb>number</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileTDigest(number)─┐
│                     4.5 │
└─────────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=quantiletdigestweighted>quantileTDigestWeighted<a class=headerlink href=#quantiletdigestweighted title="Permanent link"> </a></h2> <p>近似を計算します <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer" target=_blank>分位数</a> を用いた数値データシーケンスの <a href=https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf rel="external nofollow noreferrer" target=_blank>t-ダイジェスト</a> アルゴリズム この関数は、各シーケンスメンバーの重みを考慮に入れます。 最大誤差は1%です。 メモリ消費は <code class=syntax>log(n)</code>,ここで <code class=syntax>n</code> 値の数です。</p> <p>機能の性能はの性能より低いです <a href=#quantile>分位数</a> または <a href=#quantiletiming>クオンタイミング</a>. 状態サイズと精度の比に関しては、この関数は <code class=syntax>quantile</code>.</p> <p>結果は、クエリの実行順序に依存し、非決定的です。</p> <p>複数を使用する場合 <code class=syntax>quantile*</code> クエリ内の異なるレベルを持つ関数では、内部状態は結合されません(つまり、クエリの動作ができるほど効率的ではありません)。 この場合、 <a href=#quantiles>分位数</a> 機能。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>quantileTDigest</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>別名: <code class=syntax>medianTDigest</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code class=syntax>level</code> の範囲の値 <code class=syntax>[0.01, 0.99]</code>. デフォルト値は0.5です。 で <code class=syntax>level=0.5</code> この関数は <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer" target=_blank>中央値</a>.</li> <li><code class=syntax>expr</code> — Expression over the column values resulting in numeric <a href=../../data-types/#data_types>データ型</a>, <a href=../../data-types/date/ >日付</a> または <a href=../../data-types/datetime/ >DateTime</a>.</li> <li><code class=syntax>weight</code> — Column with weights of sequence elements. Weight is a number of value occurrences.</li> </ul> <p><strong>戻り値</strong></p> <ul> <li>指定されたレベルの近似分位値。</li> </ul> <p>タイプ:</p> <ul> <li><a href=../../data-types/float/ >Float64</a> 数値データ型入力の場合。</li> <li><a href=../../data-types/date/ >日付</a> 入力値が <code class=syntax>Date</code> タイプ。</li> <li><a href=../../data-types/datetime/ >DateTime</a> 入力値が <code class=syntax>DateTime</code> タイプ。</li> </ul> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>quantileTDigestWeighted</span><span class=p>(</span><span class=nb>number</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─quantileTDigestWeighted(number, 1)─┐
│                                4.5 │
└────────────────────────────────────┘
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#median>中央値</a></li> <li><a href=#quantiles>分位数</a></li> </ul> <h2 id=median>中央値<a class=headerlink href=#median title="Permanent link"> </a></h2> <p>その <code class=syntax>median*</code> 関数は、対応する関数のエイリアスです <code class=syntax>quantile*</code> 機能。 数値データサンプルの中央値を計算します。</p> <p>関数:</p> <ul> <li><code class=syntax>median</code> — Alias for <a href=#quantile>分位数</a>.</li> <li><code class=syntax>medianDeterministic</code> — Alias for <a href=#quantiledeterministic>quantileDeterministic</a>.</li> <li><code class=syntax>medianExact</code> — Alias for <a href=#quantileexact>quantileExact</a>.</li> <li><code class=syntax>medianExactWeighted</code> — Alias for <a href=#quantileexactweighted>quantileExactWeighted</a>.</li> <li><code class=syntax>medianTiming</code> — Alias for <a href=#quantiletiming>クオンタイミング</a>.</li> <li><code class=syntax>medianTimingWeighted</code> — Alias for <a href=#quantiletimingweighted>quantitetimingweighted</a>.</li> <li><code class=syntax>medianTDigest</code> — Alias for <a href=#quantiletdigest>quantileTDigest</a>.</li> <li><code class=syntax>medianTDigestWeighted</code> — Alias for <a href=#quantiletdigestweighted>quantileTDigestWeighted</a>.</li> </ul> <p><strong>例</strong></p> <p>入力テーブル:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─val─┐
│   1 │
│   1 │
│   2 │
│   3 │
└─────┘
</code></pre></div> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>medianDeterministic</span><span class=p>(</span><span class=n>val</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─medianDeterministic(val, 1)─┐
│                         1.5 │
└─────────────────────────────┘
</code></pre></div> <h2 id=quantiles>quantiles(level1, level2, …)(x)<a class=headerlink href=#quantiles title="Permanent link"> </a></h2> <p>すべての分位関数にも対応する分位関数があります: <code class=syntax>quantiles</code>, <code class=syntax>quantilesDeterministic</code>, <code class=syntax>quantilesTiming</code>, <code class=syntax>quantilesTimingWeighted</code>, <code class=syntax>quantilesExact</code>, <code class=syntax>quantilesExactWeighted</code>, <code class=syntax>quantilesTDigest</code>. これらの関数は、リストされたレベルのすべての分位数を一つのパスで計算し、結果の値の配列を返します。</p> <h2 id=varsampx>varSamp(x)<a class=headerlink href=#varsampx title="Permanent link"> </a></h2> <p>金額を計算します <code class=syntax>Σ((x - x̅)^2) / (n - 1)</code>,ここで <code class=syntax>n</code> はサンプルサイズであり、 <code class=syntax>x̅</code>の平均値です <code class=syntax>x</code>.</p> <p>渡された値がその標本を形成する場合、確率変数の分散の不偏推定値を表します。</p> <p>ﾂづｩﾂ。 <code class=syntax>Float64</code>. とき <code class=syntax>n &lt;= 1</code>,戻り値 <code class=syntax>+∞</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>varSampStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=varpopx>varPop(x)<a class=headerlink href=#varpopx title="Permanent link"> </a></h2> <p>金額を計算します <code class=syntax>Σ((x - x̅)^2) / n</code>,ここで <code class=syntax>n</code> はサンプルサイズであり、 <code class=syntax>x̅</code>の平均値です <code class=syntax>x</code>.</p> <p>言い換えれば、値の集合に対する分散。 ﾂづｩﾂ。 <code class=syntax>Float64</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>varPopStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=stddevsampx>stddevSamp(x)<a class=headerlink href=#stddevsampx title="Permanent link"> </a></h2> <p>結果はの平方根に等しくなります <code class=syntax>varSamp(x)</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>stddevSampStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=stddevpopx>stddevPop(x)<a class=headerlink href=#stddevpopx title="Permanent link"> </a></h2> <p>結果はの平方根に等しくなります <code class=syntax>varPop(x)</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>stddevPopStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=topknx>topK(N)(x)<a class=headerlink href=#topknx title="Permanent link"> </a></h2> <p>指定された列の中で最も頻度の高い値の配列を返します。 結果の配列は、値の近似頻度の降順でソートされます（値自体ではありません）。</p> <p>を実装する。 <a href=http://www.l2f.inesc-id.pt/~fmmb/wiki/uploads/Work/misnis.ref0a.pdf rel="external nofollow noreferrer" target=_blank>ろ過されたスペース節約</a> TopKを解析するためのアルゴリズム。 <a href=https://arxiv.org/pdf/1401.0702.pdf rel="external nofollow noreferrer" target=_blank>並列スペース節約</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>topK</span><span class=p>(</span><span class=n>N</span><span class=p>)(</span><span class=k>column</span><span class=p>)</span>
</code></pre></div> <p>この関数は保証された結果を提供しません。 特定の状況では、エラーが発生し、最も頻繁な値ではない頻繁な値が返されることがあります。</p> <p>私達は使用を推薦します <code class=syntax>N &lt; 10</code> 価値;性能は大きいと減ります <code class=syntax>N</code> 値。 の最大値 <code class=syntax>N = 65536</code>.</p> <p><strong>パラメータ</strong></p> <ul> <li>‘N’ 返す要素の数です。</li> </ul> <p>このパラメーターを省略すると、既定値10が使用されます。</p> <p><strong>引数</strong></p> <ul> <li>' x ' – The value to calculate frequency.</li> </ul> <p><strong>例</strong></p> <p>を取る <a href=../../../getting-started/example-datasets/ontime/ >オンタイム</a> データセットで最も頻繁に発生する三つの値を選択します。 <code class=syntax>AirlineID</code> 列。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>topK</span><span class=p>(</span><span class=mi>3</span><span class=p>)(</span><span class=n>AirlineID</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
<span class=k>FROM</span> <span class=n>ontime</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─res─────────────────┐
│ [19393,19790,19805] │
└─────────────────────┘
</code></pre></div> <h2 id=topkweighted>トップウェイト<a class=headerlink href=#topkweighted title="Permanent link"> </a></h2> <p>に類似した <code class=syntax>topK</code> しかし、整数型の追加引数を取ります - <code class=syntax>weight</code>. すべての値が考慮されます <code class=syntax>weight</code> 周波数計算のための時間。</p> <p><strong>構文</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>topKWeighted</span><span class=p>(</span><span class=n>N</span><span class=p>)(</span><span class=n>x</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <ul> <li><code class=syntax>N</code> — The number of elements to return.</li> </ul> <p><strong>引数</strong></p> <ul> <li><code class=syntax>x</code> – The value.</li> <li><code class=syntax>weight</code> — The weight. <a href=../../data-types/int-uint/ >UInt8</a>.</li> </ul> <p><strong>戻り値</strong></p> <p>おおよその重みの合計が最大の値の配列を返します。</p> <p><strong>例</strong></p> <p>クエリ:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>topKWeighted</span><span class=p>(</span><span class=mi>10</span><span class=p>)(</span><span class=nb>number</span><span class=p>,</span> <span class=nb>number</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─topKWeighted(10)(number, number)──────────┐
│ [999,998,997,996,995,994,993,992,991,990] │
└───────────────────────────────────────────┘
</code></pre></div> <h2 id=covarsampx-y>コバルサンプ(x,y)<a class=headerlink href=#covarsampx-y title="Permanent link"> </a></h2> <p>の値を計算します <code class=syntax>Σ((x - x̅)(y - y̅)) / (n - 1)</code>.</p> <p>Float64を返します。 とき <code class=syntax>n &lt;= 1</code>, returns +∞.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>covarSampStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=covarpopx-y>コバルポップ(x,y)<a class=headerlink href=#covarpopx-y title="Permanent link"> </a></h2> <p>の値を計算します <code class=syntax>Σ((x - x̅)(y - y̅)) / n</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>covarPopStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=corrx-y>corr(x,y)<a class=headerlink href=#corrx-y title="Permanent link"> </a></h2> <p>ピアソン相関係数を計算します: <code class=syntax>Σ((x - x̅)(y - y̅)) / sqrt(Σ((x - x̅)^2) * Σ((y - y̅)^2))</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>この機能の利用を数値的に不安定なアルゴリズムです。 必要とすれば <a class=alert-link href=https://en.wikipedia.org/wiki/Numerical_stability rel="external nofollow noreferrer" target=_blank>数値安定性</a> 計算では、 <code class=syntax>corrStable</code> 機能。 それは遅く動作しますが、計算誤差は低くなります。</p> </div> <h2 id=categoricalinformationvalue>categoricalInformationValue<a class=headerlink href=#categoricalinformationvalue title="Permanent link"> </a></h2> <p>の値を計算します <code class=syntax>(P(tag = 1) - P(tag = 0))(log(P(tag = 1)) - log(P(tag = 0)))</code> カテゴリごとに。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>categoricalInformationValue</span><span class=p>(</span><span class=n>category1</span><span class=p>,</span> <span class=n>category2</span><span class=p>,</span> <span class=p>...,</span> <span class=n>tag</span><span class=p>)</span>
</code></pre></div> <p>結果は、離散(カテゴリカル)フィーチャの方法を示します <code class=syntax>[category1, category2, ...]</code> の値を予測する学習モデルに貢献する <code class=syntax>tag</code>.</p> <h2 id=simplelinearregression>simpleLinearRegression<a class=headerlink href=#simplelinearregression title="Permanent link"> </a></h2> <p>単純(一次元)線形回帰を実行します。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>simpleLinearRegression</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</code></pre></div> <p>パラメータ:</p> <ul> <li><code class=syntax>x</code> — Column with dependent variable values.</li> <li><code class=syntax>y</code> — Column with explanatory variable values.</li> </ul> <p>戻り値:</p> <p>定数 <code class=syntax>(a, b)</code> 結果の行の <code class=syntax>y = a*x + b</code>.</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>'simpleLinearRegression'</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─arrayReduce('simpleLinearRegression', [0, 1, 2, 3], [0, 1, 2, 3])─┐
│ (1,0)                                                             │
└───────────────────────────────────────────────────────────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>'simpleLinearRegression'</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─arrayReduce('simpleLinearRegression', [0, 1, 2, 3], [3, 4, 5, 6])─┐
│ (1,3)                                                             │
└───────────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=agg_functions-stochasticlinearregression>stochasticLinearRegression<a class=headerlink href=#agg_functions-stochasticlinearregression title="Permanent link"> </a></h2> <p>この関数は、確率的線形回帰を実装します。 学習率、L2正則化係数、ミニバッチサイズのカスタムパラメータをサポートし、重みを更新する方法はほとんどありません (<a href=https://en.wikipedia.org/wiki/Stochastic_gradient_descent#Adam rel="external nofollow noreferrer" target=_blank>アダム</a> （デフォルトで使用), <a href=https://en.wikipedia.org/wiki/Stochastic_gradient_descent rel="external nofollow noreferrer" target=_blank>シンプルSGD</a>, <a href=https://en.wikipedia.org/wiki/Stochastic_gradient_descent#Momentum rel="external nofollow noreferrer" target=_blank>勢い</a>, <a href=https://mipt.ru/upload/medialibrary/d7e/41-91.pdf rel="external nofollow noreferrer" target=_blank>ネステロフ</a>).</p> <h3 id=agg_functions-stochasticlinearregression-parameters>パラメータ<a class=headerlink href=#agg_functions-stochasticlinearregression-parameters title="Permanent link"> </a></h3> <p>が4カスタマイズ可能パラメータ。 デフォルト値が使用されますが、良いモデルではパラメータの調整が必要です。</p> <div class=codehilite><pre><span></span><code class=syntax>stochasticLinearRegression(1.0, 1.0, 10, 'SGD')
</code></pre></div> <ol> <li><code class=syntax>learning rate</code> 勾配降下ステップを実行したときのステップ長の係数です。 大きすぎる学習率の原因となり無限の量のモデルです。 デフォルトは <code class=syntax>0.00001</code>.</li> <li><code class=syntax>l2 regularization coefficient</code> 過適合を防ぐのに役立つかもしれません。 デフォルトは <code class=syntax>0.1</code>.</li> <li><code class=syntax>mini-batch size</code> グラデーションが計算され、グラデーション降下のステップを実行するために合計される要素の数を設定します。 純粋な確率降下は一つの要素を使用しますが、小さなバッチ（約10要素）を持つと勾配ステップがより安定します。 デフォルトは <code class=syntax>15</code>.</li> <li><code class=syntax>method for updating weights</code>、彼らは: <code class=syntax>Adam</code> （デフォルトでは), <code class=syntax>SGD</code>, <code class=syntax>Momentum</code>, <code class=syntax>Nesterov</code>. <code class=syntax>Momentum</code> と <code class=syntax>Nesterov</code> もう少し多くの計算とメモリを必要とするが、収束の速度と確率勾配法の安定性の点で有用であることが起こる。</li> </ol> <h3 id=agg_functions-stochasticlinearregression-usage>使用法<a class=headerlink href=#agg_functions-stochasticlinearregression-usage title="Permanent link"> </a></h3> <p><code class=syntax>stochasticLinearRegression</code> モデルの近似と新しいデータの予測です。 モデルを適合させ、後で使用するためにその状態を保存するために、 <code class=syntax>-State</code> 基本的に状態（モデルの重みなど）を保存するcombinator。<br> 予測するには関数を使います <a href=../../functions/machine-learning-functions/#machine_learning_methods-evalmlmethod>evalMLMethod</a> は、状態を引数として取り、予測する機能も備えています。</p> <p><a name=stochasticlinearregression-usage-fitting></a></p> <p><strong>1.</strong> フィット</p> <p>このようなクエリが使用され得る。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>train_data</span>
<span class=p>(</span>
    <span class=n>param1</span> <span class=n>Float64</span><span class=p>,</span>
    <span class=n>param2</span> <span class=n>Float64</span><span class=p>,</span>
    <span class=n>target</span> <span class=n>Float64</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>

<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>your_model</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span> <span class=k>AS</span> <span class=k>SELECT</span>
<span class=n>stochasticLinearRegressionState</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>.</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=s1>'SGD'</span><span class=p>)(</span><span class=n>target</span><span class=p>,</span> <span class=n>param1</span><span class=p>,</span> <span class=n>param2</span><span class=p>)</span>
<span class=k>AS</span> <span class=k>state</span> <span class=k>FROM</span> <span class=n>train_data</span><span class=p>;</span>
</code></pre></div> <p>ここでは、データを挿入する必要もあります <code class=syntax>train_data</code> テーブル。 パラメータの数は固定されておらず、渡された引数の数にのみ依存します <code class=syntax>linearRegressionState</code>. すべて数値でなければなりません。<br> ターゲット値を持つ列（予測することを学びたい）が最初の引数として挿入されることに注意してください。</p> <p><strong>2.</strong> 予測</p> <p>テーブルに状態を保存した後、予測に複数回使用したり、他の状態とマージして新しいより良いモデルを作成したりすることもできます。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span> <span class=p>(</span><span class=k>SELECT</span> <span class=k>state</span> <span class=k>FROM</span> <span class=n>your_model</span><span class=p>)</span> <span class=k>AS</span> <span class=n>model</span> <span class=k>SELECT</span>
<span class=n>evalMLMethod</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>param1</span><span class=p>,</span> <span class=n>param2</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>test_data</span>
</code></pre></div> <p>クエリは予測値の列を返します。 その最初の引数に注意してください <code class=syntax>evalMLMethod</code> は <code class=syntax>AggregateFunctionState</code> オブジェクト、次はフィーチャの列です。</p> <p><code class=syntax>test_data</code> のようなテーブルです <code class=syntax>train_data</code> が含まれないことがあります。</p> <h3 id=agg_functions-stochasticlinearregression-notes>ノート<a class=headerlink href=#agg_functions-stochasticlinearregression-notes title="Permanent link"> </a></h3> <ol> <li> <p>統合モデルにはユーザーの作成などのクエリ:<br> <code class=syntax>sql SELECT state1 + state2 FROM your_models</code><br> どこに <code class=syntax>your_models</code> テーブルの両方のモデルです。 このクエリはnewを返します <code class=syntax>AggregateFunctionState</code> オブジェクト</p> </li> <li> <p>ユーザーは、作成されたモデルのウェイトを独自の目的で取得することができます。 <code class=syntax>-State</code> combinatorが使用されます。<br> <code class=syntax>sql SELECT stochasticLinearRegression(0.01)(target, param1, param2) FROM train_data</code><br> このようなクエリはモデルに適合し、その重みを返します-最初はモデルのパラメータに対応する重みであり、最後はバイアスです。 したがって、上記の例では、クエリは3つの値を持つ列を返します。</p> </li> </ol> <p><strong>も参照。</strong></p> <ul> <li><a href=#agg_functions-stochasticlogisticregression>stochasticLogisticRegression</a></li> <li><a href=https://stackoverflow.com/questions/12146914/what-is-the-difference-between-linear-regression-and-logistic-regression rel="external nofollow noreferrer" target=_blank>線形回帰とロジスティック回帰の違い</a></li> </ul> <h2 id=agg_functions-stochasticlogisticregression>stochasticLogisticRegression<a class=headerlink href=#agg_functions-stochasticlogisticregression title="Permanent link"> </a></h2> <p>この関数は、確率的ロジスティック回帰を実装します。 これは、バイナリ分類問題に使用することができ、stochasticLinearRegressionと同じカスタムパラメータをサポートし、同じように動作します。</p> <h3 id=agg_functions-stochasticlogisticregression-parameters>パラメータ<a class=headerlink href=#agg_functions-stochasticlogisticregression-parameters title="Permanent link"> </a></h3> <p>パラメーターはstochasticLinearRegressionとまったく同じです:<br> <code class=syntax>learning rate</code>, <code class=syntax>l2 regularization coefficient</code>, <code class=syntax>mini-batch size</code>, <code class=syntax>method for updating weights</code>.<br> 詳細については、 <a href=#agg_functions-stochasticlinearregression-parameters>パラメータ</a>.</p> <div class=codehilite><pre><span></span><code class=syntax>stochasticLogisticRegression(1.0, 1.0, 10, 'SGD')
</code></pre></div> <ol> <li>フィット</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code class=syntax><span class=n>See</span> <span class=n>the</span> <span class=ss>`Fitting`</span> <span class=n>section</span> <span class=k>in</span> <span class=n>the</span> <span class=p>[</span><span class=n>stochasticLinearRegression</span><span class=p>](</span><span class=c1>#stochasticlinearregression-usage-fitting) description.</span>

<span class=n>Predicted</span> <span class=n>labels</span> <span class=n>have</span> <span class=k>to</span> <span class=n>be</span> <span class=k>in</span> <span class=err>\</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=err>\</span><span class=p>].</span>
</code></pre></div> <ol> <li>予測</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code class=syntax><span class=k>Using</span> <span class=n>saved</span> <span class=n>state</span> <span class=n>we</span> <span class=n>can</span> <span class=n>predict</span> <span class=n>probability</span> <span class=n>of</span> <span class=n>object</span> <span class=k>having</span> <span class=n>label</span> <span class=ss>`1`</span><span class=p>.</span>

<span class=ss>``` sql</span>
<span class=ss>WITH (SELECT state FROM your_model) AS model SELECT</span>
<span class=ss>evalMLMethod(model, param1, param2) FROM test_data</span>
<span class=ss>```</span>

<span class=n>The</span> <span class=n>query</span> <span class=n>will</span> <span class=k>return</span> <span class=n>a</span> <span class=k>column</span> <span class=n>of</span> <span class=n>probabilities</span><span class=p>.</span> <span class=n>Note</span> <span class=n>that</span> <span class=n>first</span> <span class=n>argument</span> <span class=n>of</span> <span class=ss>`evalMLMethod`</span> <span class=k>is</span> <span class=ss>`AggregateFunctionState`</span> <span class=n>object</span><span class=p>,</span> <span class=n>next</span> <span class=n>are</span> <span class=n>columns</span> <span class=n>of</span> <span class=n>features</span><span class=p>.</span>

<span class=n>We</span> <span class=n>can</span> <span class=n>also</span> <span class=kt>set</span> <span class=n>a</span> <span class=n>bound</span> <span class=n>of</span> <span class=n>probability</span><span class=p>,</span> <span class=n>which</span> <span class=n>assigns</span> <span class=n>elements</span> <span class=k>to</span> <span class=n>different</span> <span class=n>labels</span><span class=p>.</span>

<span class=ss>``` sql</span>
<span class=ss>SELECT ans &lt; 1.1 AND ans &gt; 0.5 FROM</span>
<span class=ss>(WITH (SELECT state FROM your_model) AS model SELECT</span>
<span class=ss>evalMLMethod(model, param1, param2) AS ans FROM test_data)</span>
<span class=ss>```</span>

<span class=k>Then</span> <span class=n>the</span> <span class=n>result</span> <span class=n>will</span> <span class=n>be</span> <span class=n>labels</span><span class=p>.</span>

<span class=ss>`test_data`</span> <span class=k>is</span> <span class=n>a</span> <span class=k>table</span> <span class=k>like</span> <span class=ss>`train_data`</span> <span class=n>but</span> <span class=n>may</span> <span class=k>not</span> <span class=n>contain</span> <span class=n>target</span> <span class=n>value</span><span class=p>.</span>
</code></pre></div> <p><strong>も参照。</strong></p> <ul> <li><a href=#agg_functions-stochasticlinearregression>stochasticLinearRegression</a></li> <li><a href=https://stackoverflow.com/questions/12146914/what-is-the-difference-between-linear-regression-and-logistic-regression rel="external nofollow noreferrer" target=_blank>線形回帰とロジスティック回帰の違い。</a></li> </ul> <h2 id=groupbitmapand>groupBitmapAnd<a class=headerlink href=#groupbitmapand title="Permanent link"> </a></h2> <p>ビットマップ列のANDを計算し、uint64型の基数を返します。 <a href=../../functions/bitmap-functions/ >ビットマップ</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitmapAnd</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>AggregateFunction(groupBitmap, UInt*)</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt64</code> タイプ。</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>EXISTS</span> <span class=n>bitmap_column_expr_test2</span><span class=p>;</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>bitmap_column_expr_test2</span>
<span class=p>(</span>
    <span class=n>tag_id</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>z</span> <span class=n>AggregateFunction</span><span class=p>(</span><span class=n>groupBitmap</span><span class=p>,</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>tag_id</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag1'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag2'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag3'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>12</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>

<span class=k>SELECT</span> <span class=n>groupBitmapAnd</span><span class=p>(</span><span class=n>z</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>'tag%'</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>groupBitmapAnd</span><span class=p>(</span><span class=n>z</span><span class=p>)</span><span class=err>─┐</span>
<span class=err>│</span>               <span class=mi>3</span>   <span class=err>│</span>
<span class=err>└───────────────────┘</span>

<span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapAndState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>'tag%'</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapAndState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span><span class=err>─┐</span>
<span class=err>│</span> <span class=p>[</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span>                                         <span class=err>│</span>
<span class=err>└──────────────────────────────────────────────────┘</span>
</code></pre></div> <h2 id=groupbitmapor>groupBitmapOr<a class=headerlink href=#groupbitmapor title="Permanent link"> </a></h2> <p>ビットマップ列のORを計算し、uint64型の基数を返します。 <a href=../../functions/bitmap-functions/ >ビットマップ</a>. これは <code class=syntax>groupBitmapMerge</code>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>AggregateFunction(groupBitmap, UInt*)</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt64</code> タイプ。</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>EXISTS</span> <span class=n>bitmap_column_expr_test2</span><span class=p>;</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>bitmap_column_expr_test2</span>
<span class=p>(</span>
    <span class=n>tag_id</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>z</span> <span class=n>AggregateFunction</span><span class=p>(</span><span class=n>groupBitmap</span><span class=p>,</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>tag_id</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag1'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag2'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag3'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>12</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>

<span class=k>SELECT</span> <span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>z</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>'tag%'</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>z</span><span class=p>)</span><span class=err>─┐</span>
<span class=err>│</span>             <span class=mi>15</span>   <span class=err>│</span>
<span class=err>└──────────────────┘</span>

<span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapOrState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>'tag%'</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapOrState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span><span class=err>─┐</span>
<span class=err>│</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span>           <span class=err>│</span>
<span class=err>└─────────────────────────────────────────────────┘</span>
</code></pre></div> <h2 id=groupbitmapxor>groupBitmapXor<a class=headerlink href=#groupbitmapxor title="Permanent link"> </a></h2> <p>ビットマップ列のXORを計算し、uint64型の基数を返します。 <a href=../../functions/bitmap-functions/ >ビットマップ</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>パラメータ</strong></p> <p><code class=syntax>expr</code> – An expression that results in <code class=syntax>AggregateFunction(groupBitmap, UInt*)</code> タイプ。</p> <p><strong>戻り値</strong></p> <p>の値 <code class=syntax>UInt64</code> タイプ。</p> <p><strong>例</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>EXISTS</span> <span class=n>bitmap_column_expr_test2</span><span class=p>;</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>bitmap_column_expr_test2</span>
<span class=p>(</span>
    <span class=n>tag_id</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>z</span> <span class=n>AggregateFunction</span><span class=p>(</span><span class=n>groupBitmap</span><span class=p>,</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>tag_id</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag1'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag2'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>'tag3'</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>12</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>

<span class=k>SELECT</span> <span class=n>groupBitmapXor</span><span class=p>(</span><span class=n>z</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>'tag%'</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>groupBitmapXor</span><span class=p>(</span><span class=n>z</span><span class=p>)</span><span class=err>─┐</span>
<span class=err>│</span>              <span class=mi>10</span>   <span class=err>│</span>
<span class=err>└───────────────────┘</span>

<span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapXorState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>'tag%'</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapXorState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span><span class=err>─┐</span>
<span class=err>│</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span>                       <span class=err>│</span>
<span class=err>└──────────────────────────────────────────────────┘</span>
</code></pre></div> <p><a href=https://clickhouse.tech/docs/en/query_language/agg_functions/reference/ target=_blank>元の記事</a> <!--hide--></p> </div> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Was this content helpful?</span> <div id=rating-stars class="display-6 mb-0" data-titles="['Unusable', 'Poor', 'OK', 'Good', 'Excellent']" data-documentation=documentation>RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#agg_function-count title=カウント class="nav-link text-wrap d-inline-block w-100"> カウント </a> <a href=#agg_function-any title=任意(x) class="nav-link text-wrap d-inline-block w-100"> 任意(x) </a> <a href=#anyheavyx title=anyHeavy(x) class="nav-link text-wrap d-inline-block w-100"> anyHeavy(x) </a> <a href=#anylastx title=anyLast(x) class="nav-link text-wrap d-inline-block w-100"> anyLast(x) </a> <a href=#groupbitand title=グループビタンド class="nav-link text-wrap d-inline-block w-100"> グループビタンド </a> <a href=#groupbitor title=groupBitOr class="nav-link text-wrap d-inline-block w-100"> groupBitOr </a> <a href=#groupbitxor title=groupBitXor class="nav-link text-wrap d-inline-block w-100"> groupBitXor </a> <a href=#groupbitmap title=groupBitmap class="nav-link text-wrap d-inline-block w-100"> groupBitmap </a> <a href=#agg_function-min title=min(x) class="nav-link text-wrap d-inline-block w-100"> min(x) </a> <a href=#agg_function-max title=max(x) class="nav-link text-wrap d-inline-block w-100"> max(x) </a> <a href=#agg-function-argmin title=アルグミン(arg,val) class="nav-link text-wrap d-inline-block w-100"> アルグミン(arg,val) </a> <a href=#agg-function-argmax title=アルグマックス(arg,val) class="nav-link text-wrap d-inline-block w-100"> アルグマックス(arg,val) </a> <a href=#agg_function-sum title=sum(x) class="nav-link text-wrap d-inline-block w-100"> sum(x) </a> <a href=#sumwithoverflowx title=sumWithOverflow(x) class="nav-link text-wrap d-inline-block w-100"> sumWithOverflow(x) </a> <a href=#agg_functions-summap title=sumMap(キー,値),sumMap(タプル(キー,値))) class="nav-link text-wrap d-inline-block w-100"> sumMap(キー,値),sumMap(タプル(キー,値))) </a> <a href=#skewpop title=skewPop class="nav-link text-wrap d-inline-block w-100"> skewPop </a> <a href=#skewsamp title=skewSamp class="nav-link text-wrap d-inline-block w-100"> skewSamp </a> <a href=#kurtpop title=クルトポップ class="nav-link text-wrap d-inline-block w-100"> クルトポップ </a> <a href=#kurtsamp title=クルツァンプ class="nav-link text-wrap d-inline-block w-100"> クルツァンプ </a> <a href=#agg_function-avg title=avg(x) class="nav-link text-wrap d-inline-block w-100"> avg(x) </a> <a href=#avgweighted title=avgWeighted class="nav-link text-wrap d-inline-block w-100"> avgWeighted </a> <a href=#agg_function-uniq title=uniq class="nav-link text-wrap d-inline-block w-100"> uniq </a> <a href=#agg_function-uniqcombined title=uniqCombined class="nav-link text-wrap d-inline-block w-100"> uniqCombined </a> <a href=#agg_function-uniqcombined64 title=uniqCombined64 class="nav-link text-wrap d-inline-block w-100"> uniqCombined64 </a> <a href=#agg_function-uniqhll12 title=uniqHLL12 class="nav-link text-wrap d-inline-block w-100"> uniqHLL12 </a> <a href=#agg_function-uniqexact title=uniqExact class="nav-link text-wrap d-inline-block w-100"> uniqExact </a> <a href=#agg_function-grouparray title=groupArray(x),groupArray(max_size)(x) class="nav-link text-wrap d-inline-block w-100"> groupArray(x),groupArray(max_size)(x) </a> <a href=#grouparrayinsertat title=グループパラインセルタット class="nav-link text-wrap d-inline-block w-100"> グループパラインセルタット </a> <a href=#agg_function-grouparraymovingsum title=グループパレイモビングスム class="nav-link text-wrap d-inline-block w-100"> グループパレイモビングスム </a> <a href=#agg_function-grouparraymovingavg title=groupArrayMovingAvg class="nav-link text-wrap d-inline-block w-100"> groupArrayMovingAvg </a> <a href=#groupuniqarrayx-groupuniqarraymax-sizex title=groupUniqArray(x),groupUniqArray(max_size)(x) class="nav-link text-wrap d-inline-block w-100"> groupUniqArray(x),groupUniqArray(max_size)(x) </a> <a href=#quantile title=分位数 class="nav-link text-wrap d-inline-block w-100"> 分位数 </a> <a href=#quantiledeterministic title=quantileDeterministic class="nav-link text-wrap d-inline-block w-100"> quantileDeterministic </a> <a href=#quantileexact title=quantileExact class="nav-link text-wrap d-inline-block w-100"> quantileExact </a> <a href=#quantileexactweighted title=quantileExactWeighted class="nav-link text-wrap d-inline-block w-100"> quantileExactWeighted </a> <a href=#quantiletiming title=クオンタイミング class="nav-link text-wrap d-inline-block w-100"> クオンタイミング </a> <a href=#quantiletimingweighted title=quantitetimingweighted class="nav-link text-wrap d-inline-block w-100"> quantitetimingweighted </a> <a href=#quantiletdigest title=quantileTDigest class="nav-link text-wrap d-inline-block w-100"> quantileTDigest </a> <a href=#quantiletdigestweighted title=quantileTDigestWeighted class="nav-link text-wrap d-inline-block w-100"> quantileTDigestWeighted </a> <a href=#median title=中央値 class="nav-link text-wrap d-inline-block w-100"> 中央値 </a> <a href=#quantiles title="quantiles(level1, level2, …)(x)" class="nav-link text-wrap d-inline-block w-100"> quantiles(level1, level2, …)(x) </a> <a href=#varsampx title=varSamp(x) class="nav-link text-wrap d-inline-block w-100"> varSamp(x) </a> <a href=#varpopx title=varPop(x) class="nav-link text-wrap d-inline-block w-100"> varPop(x) </a> <a href=#stddevsampx title=stddevSamp(x) class="nav-link text-wrap d-inline-block w-100"> stddevSamp(x) </a> <a href=#stddevpopx title=stddevPop(x) class="nav-link text-wrap d-inline-block w-100"> stddevPop(x) </a> <a href=#topknx title=topK(N)(x) class="nav-link text-wrap d-inline-block w-100"> topK(N)(x) </a> <a href=#topkweighted title=トップウェイト class="nav-link text-wrap d-inline-block w-100"> トップウェイト </a> <a href=#covarsampx-y title=コバルサンプ(x,y) class="nav-link text-wrap d-inline-block w-100"> コバルサンプ(x,y) </a> <a href=#covarpopx-y title=コバルポップ(x,y) class="nav-link text-wrap d-inline-block w-100"> コバルポップ(x,y) </a> <a href=#corrx-y title=corr(x,y) class="nav-link text-wrap d-inline-block w-100"> corr(x,y) </a> <a href=#categoricalinformationvalue title=categoricalInformationValue class="nav-link text-wrap d-inline-block w-100"> categoricalInformationValue </a> <a href=#simplelinearregression title=simpleLinearRegression class="nav-link text-wrap d-inline-block w-100"> simpleLinearRegression </a> <a href=#agg_functions-stochasticlinearregression title=stochasticLinearRegression class="nav-link text-wrap d-inline-block w-100"> stochasticLinearRegression </a> <nav id=toc-toc-53 class="nav flex-column pl-2"> <a href=#agg_functions-stochasticlinearregression-parameters title=パラメータ class="nav-link text-wrap d-inline-block w-100"> パラメータ </a> <a href=#agg_functions-stochasticlinearregression-usage title=使用法 class="nav-link text-wrap d-inline-block w-100"> 使用法 </a> <a href=#agg_functions-stochasticlinearregression-notes title=ノート class="nav-link text-wrap d-inline-block w-100"> ノート </a> </nav> <a href=#agg_functions-stochasticlogisticregression title=stochasticLogisticRegression class="nav-link text-wrap d-inline-block w-100"> stochasticLogisticRegression </a> <nav id=toc-toc-54 class="nav flex-column pl-2"> <a href=#agg_functions-stochasticlogisticregression-parameters title=パラメータ class="nav-link text-wrap d-inline-block w-100"> パラメータ </a> </nav> <a href=#groupbitmapand title=groupBitmapAnd class="nav-link text-wrap d-inline-block w-100"> groupBitmapAnd </a> <a href=#groupbitmapor title=groupBitmapOr class="nav-link text-wrap d-inline-block w-100"> groupBitmapOr </a> <a href=#groupbitmapxor title=groupBitmapXor class="nav-link text-wrap d-inline-block w-100"> groupBitmapXor </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?00223b07></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>