<!doctype html><html ⚡ lang=es> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>Formatos de entrada y salida | Documentación de ClickHouse</title><link href=https://clickhouse.tech/docs/es/interfaces/formats/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Formatos de entrada y salida | Documentación de ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/es/interfaces/formats/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Formatos de entrada y salida | Documentación de ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,header,main{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}dd{margin-bottom:.5rem;margin-left:0}b,strong{font-weight:bolder}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}input,select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}input{overflow:visible}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}template{display:none}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.list-inline{padding-left:0;list-style:none}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.custom-select.is-valid{border-color:#28a745;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-select.is-invalid{border-color:#dc3545;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select{position:relative;-ms-flex:1 1 0;flex:1 1 0;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select{margin-left:-1px}.input-group>.custom-select:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select{height:calc(1.5em+1rem+2px)}.input-group-lg>.custom-select{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-lg>.custom-select{padding-right:1.75rem}.custom-control{position:relative;display:block;min-height:1.5rem;padding-left:1.5rem}.custom-control-inline{display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.25rem;opacity:0}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em+.75rem+2px);margin:0;opacity:0}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}.list-group-horizontal{-ms-flex-direction:row;flex-direction:row}@media(min-width:768px){.list-group-horizontal-md{-ms-flex-direction:row;flex-direction:row}}@media(min-width:992px){.list-group-horizontal-lg{-ms-flex-direction:row;flex-direction:row}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.border{border:1px solid #dee2e6}.border-right{border-right:1px solid #dee2e6}.border-bottom{border-bottom:1px solid #dee2e6}.border-0{border:0}.border-right-0{border-right:0}.border-bottom-0{border-bottom:0}.border-primary{border-color:#007bff}.border-light{border-color:#f8f9fa}.border-dark{border-color:#343a40}.border-white{border-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table td,.table th{background-color:#fff}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content thead{background:#444451;color:#fff}#content td,#content th{padding:.75rem;vertical-align:top}#content td{border:1px solid #dee2e6}#content th{border:1px solid #444451}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre,td,th,thead,tr{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content thead{background:#333}#content td{border:1px solid #444451}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .l{color:#08f}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .cp{color:#8d8687}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .na{color:#06b6ef}.syntax .nc{color:#fec418}.syntax .no{color:#ef6155}.syntax .nd{color:#5bc4bf}.syntax .py{color:#2f1e2e}.syntax .nt{color:#5bc4bf}.syntax .mi{color:#08f}.syntax .mo{color:#08f}.syntax .s2{color:#48b685}.syntax .se{color:#08f}.syntax .si{color:#08f}.syntax .s1{color:#080}.syntax .ss{color:#48b685}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .ss{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/interfaces/formats/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/interfaces/formats.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=formats>Formatos para datos de entrada y salida<a class=headerlink href=../amp/#formats title="Permanent link"> </a></h1> <p>ClickHouse puede aceptar y devolver datos en varios formatos. Se puede utilizar un formato admitido para la entrada para analizar los datos proporcionados a <code class=syntax>INSERT</code>s, para llevar a cabo <code class=syntax>SELECT</code>s de una tabla respaldada por archivos como File, URL o HDFS, o para leer un diccionario externo. Se puede utilizar un formato compatible con la salida para organizar el<br> resultados de un <code class=syntax>SELECT</code>, y realizar <code class=syntax>INSERT</code>s en una tabla respaldada por archivos.</p> <p>Los formatos soportados son:</p> <table> <thead> <tr> <th>Formato</th> <th>Entrada</th> <th>Salida</th> </tr> </thead> <tbody> <tr> <td><a href=../amp/#tabseparated>TabSeparated</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tabseparatedraw>TabSeparatedRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tabseparatedwithnames>TabSeparatedWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#format-template>Plantilla</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#templateignorespaces>TemplateIgnoreSpaces</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=../amp/#csv>CSV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#csvwithnames>CSVWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#format-customseparated>CustomSeparated</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-values>Valor</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#vertical>Vertical</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#verticalraw>VerticalRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#json>JSON</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#jsoncompact>JSONCompact</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#jsoneachrow>JSONEachRow</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#tskv>TSKV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#pretty>Bastante</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettycompact>PrettyCompact</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettycompactmonoblock>PrettyCompactMonoBlock</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettynoescapes>PrettyNoEscapes</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#prettyspace>Bienvenido a WordPress.</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#protobuf>Protobuf</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-avro>Avro</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-avro-confluent>AvroConfluent</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=../amp/#data-format-parquet>Parquet</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#data-format-orc>ORC</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=../amp/#rowbinary>RowBinary</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#native>Nativo</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#null>Nulo</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#xml>XML</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=../amp/#capnproto>CapnProto</a></td> <td>✔</td> <td>✗</td> </tr> </tbody> </table> <p>Puede controlar algunos parámetros de procesamiento de formato con la configuración de ClickHouse. Para obtener más información, lea el <a href=../../../operations/settings/settings/amp/ >Configuración</a> apartado.</p> <h2 id=tabseparated>TabSeparated<a class=headerlink href=../amp/#tabseparated title="Permanent link"> </a></h2> <p>En el formato TabSeparated, los datos se escriben por fila. Cada fila contiene valores separados por pestañas. Cada valor es seguido por una ficha, excepto el último valor de la fila, que es seguido por un avance de línea. Estrictamente las fuentes de línea Unix se asumen en todas partes. La última fila también debe contener un avance de línea al final. Los valores se escriben en formato de texto, sin incluir comillas y con caracteres especiales escapados.</p> <p>Este formato también está disponible bajo el nombre <code class=syntax>TSV</code>.</p> <p>El <code class=syntax>TabSeparated</code> es conveniente para procesar datos utilizando programas y scripts personalizados. Se usa de forma predeterminada en la interfaz HTTP y en el modo por lotes del cliente de línea de comandos. Este formato también permite transferir datos entre diferentes DBMS. Por ejemplo, puede obtener un volcado de MySQL y subirlo a ClickHouse, o viceversa.</p> <p>El <code class=syntax>TabSeparated</code> el formato admite la salida de valores totales (cuando se usa WITH TOTALS) y valores extremos (cuando ‘extremes’ se establece en 1). En estos casos, los valores totales y los extremos se emiten después de los datos principales. El resultado principal, los valores totales y los extremos están separados entre sí por una línea vacía. Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>TabSeparated</span><span class=o>``</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>2014-03-17      1406958
2014-03-18      1383658
2014-03-19      1405797
2014-03-20      1353623
2014-03-21      1245779
2014-03-22      1031592
2014-03-23      1046491

1970-01-01      8873898

2014-03-17      1031592
2014-03-23      1406958
</code></pre></div> <h3 id=data-formatting>Formato de datos<a class=headerlink href=../amp/#data-formatting title="Permanent link"> </a></h3> <p>Los números enteros se escriben en forma decimal. Los números pueden contener un extra “+” carácter al principio (ignorado al analizar y no grabado al formatear). Los números no negativos no pueden contener el signo negativo. Al leer, se permite analizar una cadena vacía como cero, o (para tipos con signo) una cadena que consiste en solo un signo menos como cero. Los números que no encajan en el tipo de datos correspondiente se pueden analizar como un número diferente, sin un mensaje de error.</p> <p>Los números de punto flotante se escriben en forma decimal. El punto se usa como separador decimal. Las entradas exponenciales son compatibles, al igual que ‘inf’, ‘+inf’, ‘-inf’, y ‘nan’. Una entrada de números de coma flotante puede comenzar o terminar con un punto decimal.<br> Durante el formateo, la precisión puede perderse en los números de coma flotante.<br> Durante el análisis, no es estrictamente necesario leer el número representable de la máquina más cercano.</p> <p>Las fechas se escriben en formato AAAA-MM-DD y se analizan en el mismo formato, pero con los caracteres como separadores.<br> Las fechas con horas se escriben en el formato <code class=syntax>YYYY-MM-DD hh:mm:ss</code> y analizado en el mismo formato, pero con cualquier carácter como separadores.<br> Todo esto ocurre en la zona horaria del sistema en el momento en que se inicia el cliente o servidor (dependiendo de cuál de ellos formatea los datos). Para fechas con horarios, no se especifica el horario de verano. Por lo tanto, si un volcado tiene tiempos durante el horario de verano, el volcado no coincide inequívocamente con los datos, y el análisis seleccionará una de las dos veces.<br> Durante una operación de lectura, las fechas incorrectas y las fechas con horas se pueden analizar con desbordamiento natural o como fechas y horas nulas, sin un mensaje de error.</p> <p>Como excepción, el análisis de fechas con horas también se admite en el formato de marca de tiempo Unix, si consta de exactamente 10 dígitos decimales. El resultado no depende de la zona horaria. Los formatos AAAA-MM-DD hh:mm:ss y NNNNNNNNNN se diferencian automáticamente.</p> <p>Las cadenas se generan con caracteres especiales de escape de barra invertida. Las siguientes secuencias de escape se utilizan para la salida: <code class=syntax>\b</code>, <code class=syntax>\f</code>, <code class=syntax>\r</code>, <code class=syntax>\n</code>, <code class=syntax>\t</code>, <code class=syntax>\0</code>, <code class=syntax>\'</code>, <code class=syntax>\\</code>. El análisis también admite las secuencias <code class=syntax>\a</code>, <code class=syntax>\v</code>, y <code class=syntax>\xHH</code> (secuencias de escape hexagonales) y cualquier <code class=syntax>\c</code> secuencias, donde <code class=syntax>c</code> es cualquier carácter (estas secuencias se convierten en <code class=syntax>c</code>). Por lo tanto, la lectura de datos admite formatos donde un avance de línea se puede escribir como <code class=syntax>\n</code> o <code class=syntax>\</code> o como un avance de línea. Por ejemplo, la cadena <code class=syntax>Hello world</code> con un avance de línea entre las palabras en lugar de espacio se puede analizar en cualquiera de las siguientes variaciones:</p> <div class=codehilite><pre><span></span><code class=syntax>Hello\nworld

Hello\
world
</code></pre></div> <p>La segunda variante es compatible porque MySQL la usa al escribir volcados separados por tabuladores.</p> <p>El conjunto mínimo de caracteres que debe escapar al pasar datos en formato TabSeparated: tabulación, salto de línea (LF) y barra invertida.</p> <p>Solo se escapa un pequeño conjunto de símbolos. Puede tropezar fácilmente con un valor de cadena que su terminal arruinará en la salida.</p> <p>Las matrices se escriben como una lista de valores separados por comas entre corchetes. Los elementos numéricos de la matriz tienen el formato normal. <code class=syntax>Date</code> y <code class=syntax>DateTime</code> están escritos entre comillas simples. Las cadenas se escriben entre comillas simples con las mismas reglas de escape que las anteriores.</p> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> se formatea como <code class=syntax>\N</code>.</p> <p>Cada elemento de <a href=../../../sql-reference/data-types/nested-data-structures/nested/amp/ >Anidar</a> estructuras se representa como una matriz.</p> <p>Por ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>nestedt</span>
<span class=p>(</span>
    <span class=o>`</span><span class=n>id</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=n>aux</span><span class=o>`</span> <span class=n>Nested</span><span class=p>(</span>
        <span class=n>a</span> <span class=n>UInt8</span><span class=p>,</span>
        <span class=n>b</span> <span class=n>String</span>
    <span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>nestedt</span> <span class=k>Values</span> <span class=p>(</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=s1>'a'</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>nestedt</span> <span class=n>FORMAT</span> <span class=n>TSV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>1  [1]    ['a']
</code></pre></div> <h2 id=tabseparatedraw>TabSeparatedRaw<a class=headerlink href=../amp/#tabseparatedraw title="Permanent link"> </a></h2> <p>Difiere de <code class=syntax>TabSeparated</code> formato en que las filas se escriben sin escapar.<br> Este formato solo es apropiado para generar un resultado de consulta, pero no para analizar (recuperar datos para insertar en una tabla).</p> <p>Este formato también está disponible bajo el nombre <code class=syntax>TSVRaw</code>.</p> <h2 id=tabseparatedwithnames>TabSeparatedWithNames<a class=headerlink href=../amp/#tabseparatedwithnames title="Permanent link"> </a></h2> <p>Difiere de la <code class=syntax>TabSeparated</code> formato en que los nombres de columna se escriben en la primera fila.<br> Durante el análisis, la primera fila se ignora por completo. No puede usar nombres de columna para determinar su posición o para comprobar su corrección.<br> (Se puede agregar soporte para analizar la fila de encabezado en el futuro.)</p> <p>Este formato también está disponible bajo el nombre <code class=syntax>TSVWithNames</code>.</p> <h2 id=tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes<a class=headerlink href=../amp/#tabseparatedwithnamesandtypes title="Permanent link"> </a></h2> <p>Difiere de la <code class=syntax>TabSeparated</code> formato en que los nombres de columna se escriben en la primera fila, mientras que los tipos de columna están en la segunda fila.<br> Durante el análisis, la primera y la segunda filas se ignoran por completo.</p> <p>Este formato también está disponible bajo el nombre <code class=syntax>TSVWithNamesAndTypes</code>.</p> <h2 id=format-template>Plantilla<a class=headerlink href=../amp/#format-template title="Permanent link"> </a></h2> <p>Este formato permite especificar una cadena de formato personalizado con marcadores de posición para los valores con una regla de escape especificada.</p> <p>Utiliza la configuración <code class=syntax>format_template_resultset</code>, <code class=syntax>format_template_row</code>, <code class=syntax>format_template_rows_between_delimiter</code> and some settings of other formats (e.g. <code class=syntax>output_format_json_quote_64bit_integers</code> cuando se utiliza <code class=syntax>JSON</code> escapar, ver más)</p> <p>Configuración <code class=syntax>format_template_row</code> especifica la ruta de acceso al archivo, que contiene una cadena de formato para las filas con la siguiente sintaxis:</p> <p><code class=syntax>delimiter_1${column_1:serializeAs_1}delimiter_2${column_2:serializeAs_2} ... delimiter_N</code>,</p> <p>donde <code class=syntax>delimiter_i</code> es un delimitador entre valores (<code class=syntax>$</code> símbolo se puede escapar como <code class=syntax>$$</code>),<br> <code class=syntax>column_i</code> es un nombre o índice de una columna cuyos valores se deben seleccionar o insertar (si está vacío, se omitirá la columna),<br> <code class=syntax>serializeAs_i</code> es una regla de escape para los valores de columna. Se admiten las siguientes reglas de escape:</p> <ul> <li><code class=syntax>CSV</code>, <code class=syntax>JSON</code>, <code class=syntax>XML</code> (similar a los formatos de los mismos nombres)</li> <li><code class=syntax>Escaped</code> (similar a <code class=syntax>TSV</code>)</li> <li><code class=syntax>Quoted</code> (similar a <code class=syntax>Values</code>)</li> <li><code class=syntax>Raw</code> (sin escapar, de manera similar a <code class=syntax>TSVRaw</code>)</li> <li><code class=syntax>None</code> (sin regla de escape, ver más)</li> </ul> <p>Si se omite una regla de escape, entonces <code class=syntax>None</code> se utilizará. <code class=syntax>XML</code> y <code class=syntax>Raw</code> son adecuados sólo para la salida.</p> <p>Entonces, para la siguiente cadena de formato:</p> <div class=codehilite><pre><span></span><code class=syntax>  `Search phrase: <span class=cp>${</span><span class=n>SearchPhrase</span><span class=p>:</span><span class=n>Quoted</span><span class=cp>}</span>, count: <span class=cp>${</span><span class=n>c</span><span class=p>:</span><span class=n>Escaped</span><span class=cp>}</span>, ad price: $$${price:JSON};`
</code></pre></div> <p>los valores de <code class=syntax>SearchPhrase</code>, <code class=syntax>c</code> y <code class=syntax>price</code> columnas, que se escapan como <code class=syntax>Quoted</code>, <code class=syntax>Escaped</code> y <code class=syntax>JSON</code> se imprimirá (para seleccionar) o se esperará (para insertar) entre <code class=syntax>Search phrase:</code>, <code class=syntax>, count:</code>, <code class=syntax>, ad price: $</code> y <code class=syntax>;</code> delimitadores respectivamente. Por ejemplo:</p> <p><code class=syntax>Search phrase: 'bathroom interior design', count: 2166, ad price: $3;</code></p> <p>El <code class=syntax>format_template_rows_between_delimiter</code> setting especifica el delimitador entre filas, que se imprime (o se espera) después de cada fila, excepto la última (<code class=syntax>\n</code> predeterminada)</p> <p>Configuración <code class=syntax>format_template_resultset</code> especifica la ruta al archivo, que contiene una cadena de formato para el conjunto de resultados. La cadena de formato para el conjunto de resultados tiene la misma sintaxis que una cadena de formato para la fila y permite especificar un prefijo, un sufijo y una forma de imprimir información adicional. Contiene los siguientes marcadores de posición en lugar de nombres de columna:</p> <ul> <li><code class=syntax>data</code> son las filas con datos en <code class=syntax>format_template_row</code> formato, separados por <code class=syntax>format_template_rows_between_delimiter</code>. Este marcador de posición debe ser el primer marcador de posición en la cadena de formato.</li> <li><code class=syntax>totals</code> es la fila con valores totales en <code class=syntax>format_template_row</code> formato (cuando se usa WITH TOTALS)</li> <li><code class=syntax>min</code> es la fila con valores mínimos en <code class=syntax>format_template_row</code> formato (cuando los extremos se establecen en 1)</li> <li><code class=syntax>max</code> es la fila con valores máximos en <code class=syntax>format_template_row</code> formato (cuando los extremos se establecen en 1)</li> <li><code class=syntax>rows</code> es el número total de filas de salida</li> <li><code class=syntax>rows_before_limit</code> es el número mínimo de filas que habría habido sin LIMIT. Salida solo si la consulta contiene LIMIT. Si la consulta contiene GROUP BY, rows_before_limit_at_least es el número exacto de filas que habría habido sin un LIMIT .</li> <li><code class=syntax>time</code> es el tiempo de ejecución de la solicitud en segundos</li> <li><code class=syntax>rows_read</code> es el número de filas que se ha leído</li> <li><code class=syntax>bytes_read</code> es el número de bytes (sin comprimir) que se ha leído</li> </ul> <p>Marcador <code class=syntax>data</code>, <code class=syntax>totals</code>, <code class=syntax>min</code> y <code class=syntax>max</code> no debe tener una regla de escape especificada (o <code class=syntax>None</code> debe especificarse explícitamente). Los marcadores de posición restantes pueden tener cualquier regla de escape especificada.<br> Si el <code class=syntax>format_template_resultset</code> valor es una cadena vacía, <code class=syntax>${data}</code> se utiliza como valor predeterminado.<br> Para el formato de consultas de inserción permite omitir algunas columnas o algunos campos si prefijo o sufijo (ver ejemplo).</p> <p>Seleccionar ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>'\n    '</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>&lt;!DOCTYPE HTML&gt;
&lt;html&gt; &lt;head&gt; &lt;title&gt;Search phrases&lt;/title&gt; &lt;/head&gt;
 &lt;body&gt;
  &lt;table border="1"&gt; &lt;caption&gt;Search phrases&lt;/caption&gt;
    &lt;tr&gt; &lt;th&gt;Search phrase&lt;/th&gt; &lt;th&gt;Count&lt;/th&gt; &lt;/tr&gt;
    ${data}
  &lt;/table&gt;
  &lt;table border="1"&gt; &lt;caption&gt;Max&lt;/caption&gt;
    ${max}
  &lt;/table&gt;
  &lt;b&gt;Processed ${rows_read:XML} rows in ${time:XML} sec&lt;/b&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>&lt;tr&gt; &lt;td&gt;${0:XML}&lt;/td&gt; &lt;td&gt;${1:XML}&lt;/td&gt; &lt;/tr&gt;
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>&lt;!DOCTYPE HTML&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
 <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>"1"</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Search phrase<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Count<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8267016<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>bathroom interior design<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>2166<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>yandex<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1655<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>spring 2014 fashion<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1549<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>freeform photos<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1480<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>"1"</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Max<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8873898<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>b</span><span class=p>&gt;</span>Processed 3095973 rows in 0.1569913 sec<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
 <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>Insertar ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax>Some header
Page views: 5, User id: 4324182021466249494, Useless field: hello, Duration: 146, Sign: -1
Page views: 6, User id: 4324182021466249494, Useless field: world, Duration: 185, Sign: 1
Total rows: 2
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>Some header\n${data}\nTotal rows: ${:CSV}\n
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>Page views: ${PageViews:CSV}, User id: ${UserID:CSV}, Useless field: ${:CSV}, Duration: ${Duration:CSV}, Sign: ${Sign:CSV}
</code></pre></div> <p><code class=syntax>PageViews</code>, <code class=syntax>UserID</code>, <code class=syntax>Duration</code> y <code class=syntax>Sign</code> dentro de los marcadores de posición son nombres de columnas en la tabla. Valores después <code class=syntax>Useless field</code> en filas y después <code class=syntax>\nTotal rows:</code> en el sufijo será ignorado.<br> Todos los delimitadores de los datos de entrada deben ser estrictamente iguales a los delimitadores de las cadenas de formato especificadas.</p> <h2 id=templateignorespaces>TemplateIgnoreSpaces<a class=headerlink href=../amp/#templateignorespaces title="Permanent link"> </a></h2> <p>Este formato es adecuado sólo para la entrada.<br> Similar a <code class=syntax>Template</code>, pero omite caracteres de espacio en blanco entre delimitadores y valores en la secuencia de entrada. Sin embargo, si las cadenas de formato contienen caracteres de espacio en blanco, se esperarán estos caracteres en la secuencia de entrada. También permite especificar marcadores de posición vacíos (<code class=syntax>${}</code> o <code class=syntax>${:None}</code>) para dividir algún delimitador en partes separadas para ignorar los espacios entre ellos. Dichos marcadores de posición se usan solo para omitir caracteres de espacio en blanco.<br> Es posible leer <code class=syntax>JSON</code> usando este formato, si los valores de las columnas tienen el mismo orden en todas las filas. Por ejemplo, la siguiente solicitud se puede utilizar para insertar datos del ejemplo de salida de formato <a href=../amp/#json>JSON</a>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=k>table_name</span> <span class=n>FORMAT</span> <span class=n>TemplateIgnoreSpaces</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>','</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>{${}"meta"${}:${:JSON},${}"data"${}:${}[${data}]${},${}"totals"${}:${:JSON},${}"extremes"${}:${:JSON},${}"rows"${}:${:JSON},${}"rows_before_limit_at_least"${}:${:JSON}${}}
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>{${}"SearchPhrase"${}:${}${phrase:JSON}${},${}"c"${}:${}${cnt:JSON}${}}
</code></pre></div> <h2 id=tskv>TSKV<a class=headerlink href=../amp/#tskv title="Permanent link"> </a></h2> <p>Similar a TabSeparated , pero genera un valor en formato name=value . Los nombres se escapan de la misma manera que en el formato TabSeparated, y el símbolo = también se escapa.</p> <div class=codehilite><pre><span></span><code class=syntax>SearchPhrase=   count()=8267016
SearchPhrase=bathroom interior design    count()=2166
SearchPhrase=yandex     count()=1655
SearchPhrase=2014 spring fashion    count()=1549
SearchPhrase=freeform photos       count()=1480
SearchPhrase=angelina jolie    count()=1245
SearchPhrase=omsk       count()=1112
SearchPhrase=photos of dog breeds    count()=1091
SearchPhrase=curtain designs        count()=1064
SearchPhrase=baku       count()=1000
</code></pre></div> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> se formatea como <code class=syntax>\N</code>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>TSKV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>x=1    y=\N
</code></pre></div> <p>Cuando hay una gran cantidad de columnas pequeñas, este formato no es efectivo y generalmente no hay razón para usarlo. Sin embargo, no es peor que JSONEachRow en términos de eficiencia.</p> <p>Both data output and parsing are supported in this format. For parsing, any order is supported for the values of different columns. It is acceptable for some values to be omitted – they are treated as equal to their default values. In this case, zeros and blank rows are used as default values. Complex values that could be specified in the table are not supported as defaults.</p> <p>El análisis permite la presencia del campo adicional <code class=syntax>tskv</code> sin el signo igual o un valor. Este campo se ignora.</p> <h2 id=csv>CSV<a class=headerlink href=../amp/#csv title="Permanent link"> </a></h2> <p>Formato de valores separados por comas (<a href=https://tools.ietf.org/html/rfc4180 rel="external nofollow noreferrer" target=_blank>RFC</a>).</p> <p>Al formatear, las filas están encerradas en comillas dobles. Una comilla doble dentro de una cadena se genera como dos comillas dobles en una fila. No hay otras reglas para escapar de los personajes. Fecha y fecha-hora están encerrados en comillas dobles. Los números se emiten sin comillas. Los valores están separados por un carácter delimitador, que es <code class=syntax>,</code> predeterminada. El carácter delimitador se define en la configuración <a href=../../../operations/settings/settings/amp/#settings-format_csv_delimiter>Formato_csv_delimiter</a>. Las filas se separan usando el avance de línea Unix (LF). Las matrices se serializan en CSV de la siguiente manera: primero, la matriz se serializa en una cadena como en el formato TabSeparated, y luego la cadena resultante se envía a CSV en comillas dobles. Las tuplas en formato CSV se serializan como columnas separadas (es decir, se pierde su anidamiento en la tupla).</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --format_csv_delimiter<span class=o>=</span><span class=s2>"|"</span> --query<span class=o>=</span><span class=s2>"INSERT INTO test.csv FORMAT CSV"</span> &lt; data.csv
</code></pre></div> <p>*De forma predeterminada, el delimitador es <code class=syntax>,</code>. Ver el <a href=../../../operations/settings/settings/amp/#settings-format_csv_delimiter>Formato_csv_delimiter</a> para obtener más información.</p> <p>Al analizar, todos los valores se pueden analizar con o sin comillas. Ambas comillas dobles y simples son compatibles. Las filas también se pueden organizar sin comillas. En este caso, se analizan hasta el carácter delimitador o el avance de línea (CR o LF). En violación del RFC, al analizar filas sin comillas, se ignoran los espacios y pestañas iniciales y finales. Para el avance de línea, se admiten los tipos Unix (LF), Windows (CR LF) y Mac OS Classic (CR LF).</p> <p>Los valores de entrada vacíos sin comillas se sustituyen por valores predeterminados para las columnas respectivas, si<br> <a href=../../../operations/settings/settings/amp/#session_settings-input_format_defaults_for_omitted_fields>Entrada_format_defaults_for_omitted_fields</a><br> está habilitado.</p> <p><code class=syntax>NULL</code> se formatea como <code class=syntax>\N</code> o <code class=syntax>NULL</code> o una cadena vacía sin comillas (consulte la configuración <a href=../../../operations/settings/settings/amp/#settings-input_format_csv_unquoted_null_literal_as_null>input_format_csv_unquoted_null_literal_as_null</a> y <a href=../../../operations/settings/settings/amp/#session_settings-input_format_defaults_for_omitted_fields>Entrada_format_defaults_for_omitted_fields</a>).</p> <p>El formato CSV admite la salida de totales y extremos de la misma manera que <code class=syntax>TabSeparated</code>.</p> <h2 id=csvwithnames>CSVWithNames<a class=headerlink href=../amp/#csvwithnames title="Permanent link"> </a></h2> <p>También imprime la fila del encabezado, similar a <code class=syntax>TabSeparatedWithNames</code>.</p> <h2 id=format-customseparated>CustomSeparated<a class=headerlink href=../amp/#format-customseparated title="Permanent link"> </a></h2> <p>Similar a <a href=../amp/#format-template>Plantilla</a>, pero imprime o lee todas las columnas y usa la regla de escape de la configuración <code class=syntax>format_custom_escaping_rule</code> y delimitadores desde la configuración <code class=syntax>format_custom_field_delimiter</code>, <code class=syntax>format_custom_row_before_delimiter</code>, <code class=syntax>format_custom_row_after_delimiter</code>, <code class=syntax>format_custom_row_between_delimiter</code>, <code class=syntax>format_custom_result_before_delimiter</code> y <code class=syntax>format_custom_result_after_delimiter</code>, no de cadenas de formato.<br> También hay <code class=syntax>CustomSeparatedIgnoreSpaces</code> formato, que es similar a <code class=syntax>TemplateIgnoreSpaces</code>.</p> <h2 id=json>JSON<a class=headerlink href=../amp/#json title="Permanent link"> </a></h2> <p>Salida de datos en formato JSON. Además de las tablas de datos, también genera nombres y tipos de columnas, junto con información adicional: el número total de filas de salida y el número de filas que podrían haberse generado si no hubiera un LIMIT . Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=n>JSON</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
        <span class=nt>"meta"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"SearchPhrase"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"String"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"c"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"UInt64"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"data"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8267016"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"bathroom interior design"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"2166"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"yandex"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1655"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"spring 2014 fashion"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1549"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"freeform photos"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1480"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"totals"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8873898"</span>
        <span class=p>},</span>

        <span class=nt>"extremes"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"min"</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1480"</span>
                <span class=p>},</span>
                <span class=nt>"max"</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8267016"</span>
                <span class=p>}</span>
        <span class=p>},</span>

        <span class=nt>"rows"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>"rows_before_limit_at_least"</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>El JSON es compatible con JavaScript. Para garantizar esto, algunos caracteres se escapan adicionalmente: la barra inclinada <code class=syntax>/</code> se escapa como <code class=syntax>\/</code>; saltos de línea alternativos <code class=syntax>U+2028</code> y <code class=syntax>U+2029</code>, que rompen algunos navegadores, se escapan como <code class=syntax>\uXXXX</code>. Los caracteres de control ASCII se escapan: retroceso, avance de formulario, avance de línea, retorno de carro y tabulación horizontal se reemplazan con <code class=syntax>\b</code>, <code class=syntax>\f</code>, <code class=syntax>\n</code>, <code class=syntax>\r</code>, <code class=syntax>\t</code> , así como los bytes restantes en el rango 00-1F usando <code class=syntax>\uXXXX</code> sequences. Invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences. For compatibility with JavaScript, Int64 and UInt64 integers are enclosed in double-quotes by default. To remove the quotes, you can set the configuration parameter <a href=../../../operations/settings/settings/amp/#session_settings-output_format_json_quote_64bit_integers>output_format_json_quote_64bit_integers</a> a 0.</p> <p><code class=syntax>rows</code> – The total number of output rows.</p> <p><code class=syntax>rows_before_limit_at_least</code> El número mínimo de filas habría sido sin LIMIT . Salida solo si la consulta contiene LIMIT.<br> Si la consulta contiene GROUP BY, rows_before_limit_at_least es el número exacto de filas que habría habido sin un LIMIT .</p> <p><code class=syntax>totals</code> – Total values (when using WITH TOTALS).</p> <p><code class=syntax>extremes</code> – Extreme values (when extremes are set to 1).</p> <p>Este formato solo es apropiado para generar un resultado de consulta, pero no para analizar (recuperar datos para insertar en una tabla).</p> <p>Soporta ClickHouse <a href=../../../sql-reference/syntax/amp/ >NULL</a>, que se muestra como <code class=syntax>null</code> en la salida JSON.</p> <p>Ver también el <a href=../amp/#jsoneachrow>JSONEachRow</a> formato.</p> <h2 id=jsoncompact>JSONCompact<a class=headerlink href=../amp/#jsoncompact title="Permanent link"> </a></h2> <p>Difiere de JSON solo en que las filas de datos se generan en matrices, no en objetos.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
        <span class=nt>"meta"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"SearchPhrase"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"String"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"c"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"UInt64"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"data"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>[</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"8267016"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"bathroom interior design"</span><span class=p>,</span> <span class=s2>"2166"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"yandex"</span><span class=p>,</span> <span class=s2>"1655"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"fashion trends spring 2014"</span><span class=p>,</span> <span class=s2>"1549"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"freeform photo"</span><span class=p>,</span> <span class=s2>"1480"</span><span class=p>]</span>
        <span class=p>],</span>

        <span class=nt>"totals"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"8873898"</span><span class=p>],</span>

        <span class=nt>"extremes"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"min"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"1480"</span><span class=p>],</span>
                <span class=nt>"max"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"8267016"</span><span class=p>]</span>
        <span class=p>},</span>

        <span class=nt>"rows"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>"rows_before_limit_at_least"</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>Este formato solo es apropiado para generar un resultado de consulta, pero no para analizar (recuperar datos para insertar en una tabla).<br> Ver también el <code class=syntax>JSONEachRow</code> formato.</p> <h2 id=jsoneachrow>JSONEachRow<a class=headerlink href=../amp/#jsoneachrow title="Permanent link"> </a></h2> <p>Al usar este formato, ClickHouse genera filas como objetos JSON separados, delimitados por nuevas líneas, pero los datos en su conjunto no son JSON válidos.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>"curtain designs"</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"1064"</span><span class=p>}</span>
<span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>"baku"</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"1000"</span><span class=p>}</span>
<span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>""</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"8267016"</span><span class=p>}</span>
</code></pre></div> <p>Al insertar los datos, debe proporcionar un objeto JSON independiente para cada fila.</p> <h3 id=inserting-data>Insertar datos<a class=headerlink href=../amp/#inserting-data title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"PageViews"</span><span class=p>:</span><span class=mi>5</span><span class=p>,</span> <span class=ss>"UserID"</span><span class=p>:</span><span class=ss>"4324182021466249494"</span><span class=p>,</span> <span class=ss>"Duration"</span><span class=p>:</span><span class=mi>146</span><span class=p>,</span><span class=ss>"Sign"</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=err>}</span> <span class=err>{</span><span class=ss>"UserID"</span><span class=p>:</span><span class=ss>"4324182021466249494"</span><span class=p>,</span><span class=ss>"PageViews"</span><span class=p>:</span><span class=mi>6</span><span class=p>,</span><span class=ss>"Duration"</span><span class=p>:</span><span class=mi>185</span><span class=p>,</span><span class=ss>"Sign"</span><span class=p>:</span><span class=mi>1</span><span class=err>}</span>
</code></pre></div> <p>ClickHouse permite:</p> <ul> <li>Cualquier orden de pares clave-valor en el objeto.</li> <li>Omitiendo algunos valores.</li> </ul> <p>ClickHouse ignora los espacios entre los elementos y las comas después de los objetos. Puede pasar todos los objetos en una línea. No tiene que separarlos con saltos de línea.</p> <p><strong>Procesamiento de valores omitidos</strong></p> <p>ClickHouse sustituye los valores omitidos por los valores predeterminados para el <a href=../../../sql-reference/data-types/amp/ >tipos de datos</a>.</p> <p>Si <code class=syntax>DEFAULT expr</code> se especifica, ClickHouse utiliza diferentes reglas de sustitución dependiendo de la <a href=../../../operations/settings/settings/amp/#session_settings-input_format_defaults_for_omitted_fields>Entrada_format_defaults_for_omitted_fields</a> configuración.</p> <p>Considere la siguiente tabla:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>example_table</span>
<span class=p>(</span>
    <span class=n>x</span> <span class=n>UInt32</span><span class=p>,</span>
    <span class=n>a</span> <span class=k>DEFAULT</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>
</code></pre></div> <ul> <li>Si <code class=syntax>input_format_defaults_for_omitted_fields = 0</code>, entonces el valor predeterminado para <code class=syntax>x</code> y <code class=syntax>a</code> igual <code class=syntax>0</code> (como el valor predeterminado para el <code class=syntax>UInt32</code> tipo de datos).</li> <li>Si <code class=syntax>input_format_defaults_for_omitted_fields = 1</code>, entonces el valor predeterminado para <code class=syntax>x</code> igual <code class=syntax>0</code> pero el valor predeterminado de <code class=syntax>a</code> igual <code class=syntax>x * 2</code>.</li> </ul> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Advertencia</p> <p>Al insertar datos con <code class=syntax>insert_sample_with_metadata = 1</code>, ClickHouse consume más recursos computacionales, en comparación con la inserción con <code class=syntax>insert_sample_with_metadata = 0</code>.</p> </div> <h3 id=selecting-data>Selección de datos<a class=headerlink href=../amp/#selecting-data title="Permanent link"> </a></h3> <p>Considere el <code class=syntax>UserActivity</code> tabla como un ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax>┌──────────────UserID─┬─PageViews─┬─Duration─┬─Sign─┐
│ 4324182021466249494 │         5 │      146 │   -1 │
│ 4324182021466249494 │         6 │      185 │    1 │
└─────────────────────┴───────────┴──────────┴──────┘
</code></pre></div> <p>Consulta <code class=syntax>SELECT * FROM UserActivity FORMAT JSONEachRow</code> devoluciones:</p> <div class=codehilite><pre><span></span><code class=syntax>{"UserID":"4324182021466249494","PageViews":5,"Duration":146,"Sign":-1}
{"UserID":"4324182021466249494","PageViews":6,"Duration":185,"Sign":1}
</code></pre></div> <p>A diferencia de la <a href=../amp/#json>JSON</a> formato, no hay sustitución de secuencias UTF-8 no válidas. Los valores se escapan de la misma manera que para <code class=syntax>JSON</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Nota</p> <p>Cualquier conjunto de bytes se puede generar en las cadenas. Utilice el <code class=syntax>JSONEachRow</code> si está seguro de que los datos de la tabla se pueden formatear como JSON sin perder ninguna información.</p> </div> <h3 id=jsoneachrow-nested>Uso de estructuras anidadas<a class=headerlink href=../amp/#jsoneachrow-nested title="Permanent link"> </a></h3> <p>Si tienes una mesa con <a href=../../../sql-reference/data-types/nested-data-structures/nested/amp/ >Anidar</a> columnas de tipo de datos, puede insertar datos JSON con la misma estructura. Habilite esta función con el <a href=../../../operations/settings/settings/amp/#settings-input_format_import_nested_json>Entrada_format_import_nested_json</a> configuración.</p> <p>Por ejemplo, considere la siguiente tabla:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>json_each_row_nested</span> <span class=p>(</span><span class=n>n</span> <span class=n>Nested</span> <span class=p>(</span><span class=n>s</span> <span class=n>String</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span>
</code></pre></div> <p>Como se puede ver en el <code class=syntax>Nested</code> descripción del tipo de datos, ClickHouse trata cada componente de la estructura anidada como una columna separada (<code class=syntax>n.s</code> y <code class=syntax>n.i</code> para nuestra mesa). Puede insertar datos de la siguiente manera:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n.s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"n.i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}</span>
</code></pre></div> <p>Para insertar datos como un objeto JSON jerárquico, establezca <a href=../../../operations/settings/settings/amp/#settings-input_format_import_nested_json>input_format_import_nested_json=1</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
    <span class=nt>"n"</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>"s"</span><span class=p>:</span> <span class=p>[</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>"def"</span><span class=p>],</span>
        <span class=nt>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>Sin esta configuración, ClickHouse produce una excepción.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>'input_format_import_nested_json'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name────────────────────────────┬─value─┐
│ input_format_import_nested_json │ 0     │
└─────────────────────────────────┴───────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n"</span><span class=p>:</span> <span class=err>{</span><span class=ss>"s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Code: 117. DB::Exception: Unknown field found while parsing JSONEachRow format: n: (at row 1)
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=n>input_format_import_nested_json</span><span class=o>=</span><span class=mi>1</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n"</span><span class=p>:</span> <span class=err>{</span><span class=ss>"s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>json_each_row_nested</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─n.s───────────┬─n.i────┐
│ ['abc','def'] │ [1,23] │
└───────────────┴────────┘
</code></pre></div> <h2 id=native>Nativo<a class=headerlink href=../amp/#native title="Permanent link"> </a></h2> <p>El formato más eficiente. Los datos son escritos y leídos por bloques en formato binario. Para cada bloque, el número de filas, número de columnas, nombres y tipos de columnas y partes de columnas de este bloque se registran una tras otra. En otras palabras, este formato es “columnar” – it doesn't convert columns to rows. This is the format used in the native interface for interaction between servers, for using the command-line client, and for C++ clients.</p> <p>Puede utilizar este formato para generar rápidamente volcados que sólo pueden ser leídos por el DBMS de ClickHouse. No tiene sentido trabajar con este formato usted mismo.</p> <h2 id=null>Nulo<a class=headerlink href=../amp/#null title="Permanent link"> </a></h2> <p>Nada es salida. Sin embargo, la consulta se procesa y, cuando se utiliza el cliente de línea de comandos, los datos se transmiten al cliente. Esto se usa para pruebas, incluidas las pruebas de rendimiento.<br> Obviamente, este formato solo es apropiado para la salida, no para el análisis.</p> <h2 id=pretty>Bastante<a class=headerlink href=../amp/#pretty title="Permanent link"> </a></h2> <p>Salidas de datos como tablas de arte Unicode, también utilizando secuencias de escape ANSI para establecer colores en el terminal.<br> Se dibuja una cuadrícula completa de la tabla, y cada fila ocupa dos líneas en la terminal.<br> Cada bloque de resultados se muestra como una tabla separada. Esto es necesario para que los bloques se puedan generar sin resultados de almacenamiento en búfer (el almacenamiento en búfer sería necesario para calcular previamente el ancho visible de todos los valores).</p> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> se emite como <code class=syntax>ᴺᵁᴸᴸ</code>.</p> <p>Ejemplo (mostrado para el <a href=../amp/#prettycompact>PrettyCompact</a> formato):</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─x─┬────y─┐
│ 1 │ ᴺᵁᴸᴸ │
└───┴──────┘
</code></pre></div> <p>Las filas no se escapan en formatos Pretty *. Se muestra un ejemplo para el <a href=../amp/#prettycompact>PrettyCompact</a> formato:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=s1>'String with \'</span><span class=n>quotes</span><span class=err>\</span><span class=s1>' and \t character'</span> <span class=k>AS</span> <span class=n>Escaping_test</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─Escaping_test────────────────────────┐
│ String with 'quotes' and      character │
└──────────────────────────────────────┘
</code></pre></div> <p>Para evitar volcar demasiados datos al terminal, solo se imprimen las primeras 10.000 filas. Si el número de filas es mayor o igual que 10.000, el mensaje “Showed first 10 000” se imprime.<br> Este formato solo es apropiado para generar un resultado de consulta, pero no para analizar (recuperar datos para insertar en una tabla).</p> <p>El formato Pretty admite la salida de valores totales (cuando se usa WITH TOTALS) y extremos (cuando ‘extremes’ se establece en 1). En estos casos, los valores totales y los valores extremos se generan después de los datos principales, en tablas separadas. Ejemplo (mostrado para el <a href=../amp/#prettycompact>PrettyCompact</a> formato):</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>PrettyCompact</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1406958 │
│ 2014-03-18 │ 1383658 │
│ 2014-03-19 │ 1405797 │
│ 2014-03-20 │ 1353623 │
│ 2014-03-21 │ 1245779 │
│ 2014-03-22 │ 1031592 │
│ 2014-03-23 │ 1046491 │
└────────────┴─────────┘

Totals:
┌──EventDate─┬───────c─┐
│ 1970-01-01 │ 8873898 │
└────────────┴─────────┘

Extremes:
┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1031592 │
│ 2014-03-23 │ 1406958 │
└────────────┴─────────┘
</code></pre></div> <h2 id=prettycompact>PrettyCompact<a class=headerlink href=../amp/#prettycompact title="Permanent link"> </a></h2> <p>Difiere de <a href=../amp/#pretty>Bastante</a> en que la cuadrícula se dibuja entre filas y el resultado es más compacto.<br> Este formato se usa de forma predeterminada en el cliente de línea de comandos en modo interactivo.</p> <h2 id=prettycompactmonoblock>PrettyCompactMonoBlock<a class=headerlink href=../amp/#prettycompactmonoblock title="Permanent link"> </a></h2> <p>Difiere de <a href=../amp/#prettycompact>PrettyCompact</a> en que hasta 10,000 filas se almacenan en búfer, luego se salen como una sola tabla, no por bloques.</p> <h2 id=prettynoescapes>PrettyNoEscapes<a class=headerlink href=../amp/#prettynoescapes title="Permanent link"> </a></h2> <p>Difiere de Pretty en que las secuencias de escape ANSI no se usan. Esto es necesario para mostrar este formato en un navegador, así como para usar el ‘watch’ utilidad de línea de comandos.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax>$ watch -n1 <span class=s2>"clickhouse-client --query='SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes'"</span>
</code></pre></div> <p>Puede usar la interfaz HTTP para mostrar en el navegador.</p> <h3 id=prettycompactnoescapes>PrettyCompactNoEscapes<a class=headerlink href=../amp/#prettycompactnoescapes title="Permanent link"> </a></h3> <p>Lo mismo que el ajuste anterior.</p> <h3 id=prettyspacenoescapes>PrettySpaceNoEscapes<a class=headerlink href=../amp/#prettyspacenoescapes title="Permanent link"> </a></h3> <p>Lo mismo que el ajuste anterior.</p> <h2 id=prettyspace>Bienvenido a WordPress<a class=headerlink href=../amp/#prettyspace title="Permanent link"> </a></h2> <p>Difiere de <a href=../amp/#prettycompact>PrettyCompact</a> en ese espacio en blanco (caracteres de espacio) se usa en lugar de la cuadrícula.</p> <h2 id=rowbinary>RowBinary<a class=headerlink href=../amp/#rowbinary title="Permanent link"> </a></h2> <p>Formatea y analiza datos por fila en formato binario. Las filas y los valores se enumeran consecutivamente, sin separadores.<br> Este formato es menos eficiente que el formato nativo, ya que está basado en filas.</p> <p>Los integradores usan una representación little-endian de longitud fija. Por ejemplo, UInt64 usa 8 bytes.<br> DateTime se representa como UInt32 que contiene la marca de tiempo Unix como el valor.<br> Date se representa como un objeto UInt16 que contiene el número de días desde 1970-01-01 como el valor.<br> La cadena se representa como una longitud varint (sin signo <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>), seguido de los bytes de la cadena.<br> FixedString se representa simplemente como una secuencia de bytes.</p> <p>La matriz se representa como una longitud varint (sin signo <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>), seguido de elementos sucesivos de la matriz.</p> <p>Para <a href=../../../sql-reference/syntax/amp/#null-literal>NULL</a> soporte, se añade un byte adicional que contiene 1 o 0 antes de cada <a href=../../../sql-reference/data-types/nullable/amp/ >NULL</a> valor. Si 1, entonces el valor es <code class=syntax>NULL</code> y este byte se interpreta como un valor separado. Si es 0, el valor después del byte no es <code class=syntax>NULL</code>.</p> <h2 id=rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes<a class=headerlink href=../amp/#rowbinarywithnamesandtypes title="Permanent link"> </a></h2> <p>Similar a <a href=../amp/#rowbinary>RowBinary</a>, pero con encabezado añadido:</p> <ul> <li><a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>-número codificado de columnas (N)</li> <li>N <code class=syntax>String</code>s especificando nombres de columna</li> <li>N <code class=syntax>String</code>s especificando tipos de columna</li> </ul> <h2 id=data-format-values>Valor<a class=headerlink href=../amp/#data-format-values title="Permanent link"> </a></h2> <p>Imprime cada fila entre paréntesis. Las filas están separadas por comas. No hay coma después de la última fila. Los valores dentro de los corchetes también están separados por comas. Los números se emiten en formato decimal sin comillas. Las matrices se emiten entre corchetes. Las cadenas, fechas y fechas con horas se generan entre comillas. Las reglas de escape y el análisis son similares a las <a href=../amp/#tabseparated>TabSeparated</a> formato. Durante el formateo, los espacios adicionales no se insertan, pero durante el análisis, se permiten y omiten (excepto los espacios dentro de los valores de la matriz, que no están permitidos). <a href=../../../sql-reference/syntax/amp/ >NULL</a> se representa como <code class=syntax>NULL</code>.</p> <p>The minimum set of characters that you need to escape when passing data in Values ​​format: single quotes and backslashes.</p> <p>Este es el formato que se utiliza en <code class=syntax>INSERT INTO t VALUES ...</code>, pero también puede usarlo para formatear los resultados de la consulta.</p> <p>Ver también: <a href=../../../operations/settings/settings/amp/#settings-input_format_values_interpret_expressions>input_format_values_interpret_expressions</a> y <a href=../../../operations/settings/settings/amp/#settings-input_format_values_deduce_templates_of_expressions>input_format_values_deduce_templates_of_expressions</a> configuración.</p> <h2 id=vertical>Vertical<a class=headerlink href=../amp/#vertical title="Permanent link"> </a></h2> <p>Imprime cada valor en una línea independiente con el nombre de columna especificado. Este formato es conveniente para imprimir solo una o varias filas si cada fila consta de un gran número de columnas.</p> <p><a href=../../../sql-reference/syntax/amp/ >NULL</a> se emite como <code class=syntax>ᴺᵁᴸᴸ</code>.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
x: 1
y: ᴺᵁᴸᴸ
</code></pre></div> <p>Las filas no se escapan en formato vertical:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=s1>'string with \'</span><span class=n>quotes</span><span class=err>\</span><span class=s1>' and \t with some special \n characters'</span> <span class=k>AS</span> <span class=n>test</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
test: string with 'quotes' and      with some special
 characters
</code></pre></div> <p>Este formato solo es apropiado para generar un resultado de consulta, pero no para analizar (recuperar datos para insertar en una tabla).</p> <h2 id=verticalraw>VerticalRaw<a class=headerlink href=../amp/#verticalraw title="Permanent link"> </a></h2> <p>Similar a <a href=../amp/#vertical>Vertical</a>, pero con escapar deshabilitado. Este formato solo es adecuado para generar resultados de consultas, no para analizar (recibir datos e insertarlos en la tabla).</p> <h2 id=xml>XML<a class=headerlink href=../amp/#xml title="Permanent link"> </a></h2> <p>El formato XML es adecuado solo para la salida, no para el análisis. Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;</span>
<span class=nt>&lt;result&gt;</span>
        <span class=nt>&lt;meta&gt;</span>
                <span class=nt>&lt;columns&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>SearchPhrase<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>String<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>count()<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>UInt64<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                <span class=nt>&lt;/columns&gt;</span>
        <span class=nt>&lt;/meta&gt;</span>
        <span class=nt>&lt;data&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>8267016<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>bathroom interior design<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>2166<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>yandex<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1655<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>2014 spring fashion<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1549<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>freeform photos<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1480<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>angelina jolie<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1245<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>omsk<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1112<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>photos of dog breeds<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1091<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>curtain designs<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1064<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>baku<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1000<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
        <span class=nt>&lt;/data&gt;</span>
        <span class=nt>&lt;rows&gt;</span>10<span class=nt>&lt;/rows&gt;</span>
        <span class=nt>&lt;rows_before_limit_at_least&gt;</span>141137<span class=nt>&lt;/rows_before_limit_at_least&gt;</span>
<span class=nt>&lt;/result&gt;</span>
</code></pre></div> <p>Si el nombre de la columna no tiene un formato aceptable, simplemente ‘field’ se utiliza como el nombre del elemento. En general, la estructura XML sigue la estructura JSON.<br> Just as for JSON, invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences.</p> <p>En los valores de cadena, los caracteres <code class=syntax>&lt;</code> y <code class=syntax>&amp;</code> se escaparon como <code class=syntax>&lt;</code> y <code class=syntax>&amp;</code>.</p> <p>Las matrices se emiten como <code class=syntax>&lt;array&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/array&gt;</code>y tuplas como <code class=syntax>&lt;tuple&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/tuple&gt;</code>.</p> <h2 id=capnproto>CapnProto<a class=headerlink href=../amp/#capnproto title="Permanent link"> </a></h2> <p>Cap'n Proto es un formato de mensaje binario similar a Protocol Buffers y Thrift, pero no como JSON o MessagePack.</p> <p>Los mensajes de Cap'n Proto están estrictamente escritos y no autodescribidos, lo que significa que necesitan una descripción de esquema externo. El esquema se aplica sobre la marcha y se almacena en caché para cada consulta.</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat capnproto_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>"INSERT INTO test.hits FORMAT CapnProto SETTINGS format_schema='schema:Message'"</span>
</code></pre></div> <p>Donde <code class=syntax>schema.capnp</code> se ve así:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>struct</span> <span class=n>Message</span> {
  <span class=n>SearchPhrase</span> <span class=nd>@0</span> <span class=nc>:Text</span>;
  <span class=n>c</span> <span class=nd>@1</span> <span class=nc>:Uint64</span>;
}
</code></pre></div> <p>La deserialización es efectiva y generalmente no aumenta la carga del sistema.</p> <p>Ver también <a href=../amp/#formatschema>Esquema de formato</a>.</p> <h2 id=protobuf>Protobuf<a class=headerlink href=../amp/#protobuf title="Permanent link"> </a></h2> <p>Protobuf - es un <a href=https://developers.google.com/protocol-buffers/ rel="external nofollow noreferrer" target=_blank>Búferes de protocolo</a> formato.</p> <p>Este formato requiere un esquema de formato externo. El esquema se almacena en caché entre las consultas.<br> ClickHouse soporta ambos <code class=syntax>proto2</code> y <code class=syntax>proto3</code> sintaxis. Se admiten campos repetidos / opcionales / requeridos.</p> <p>Ejemplos de uso:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=k>table</span> <span class=n>FORMAT</span> <span class=n>Protobuf</span> <span class=n>SETTINGS</span> <span class=n>format_schema</span> <span class=o>=</span> <span class=s1>'schemafile:MessageType'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>cat protobuf_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>"INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema='schemafile:MessageType'"</span>
</code></pre></div> <p>donde el archivo <code class=syntax>schemafile.proto</code> se ve así:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>syntax</span> <span class=l>= "proto3"</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>string</span> <span class=n>name</span> <span class=l>= 1</span>;
  <span class=n>string</span> <span class=n>surname</span> <span class=l>= 2</span>;
  <span class=n>uint32</span> <span class=n>birthDate</span> <span class=l>= 3</span>;
  <span class=n>repeated</span> <span class=n>string</span> <span class=n>phoneNumbers</span> <span class=l>= 4</span>;
};
</code></pre></div> <p>Para encontrar la correspondencia entre las columnas de la tabla y los campos del tipo de mensaje de Protocol Buffers, ClickHouse compara sus nombres.<br> Esta comparación no distingue entre mayúsculas y minúsculas y los caracteres <code class=syntax>_</code> (subrayado) y <code class=syntax>.</code> (punto) se consideran iguales.<br> Si los tipos de una columna y un campo del mensaje de Protocol Buffers son diferentes, se aplica la conversión necesaria.</p> <p>Los mensajes anidados son compatibles. Por ejemplo, para el campo <code class=syntax>z</code> en el siguiente tipo de mensaje</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>message</span> <span class=n>XType</span> {
    <span class=n>message</span> <span class=n>YType</span> {
      <span class=n>int32</span> <span class=n>z</span>;
    };
    <span class=n>repeated</span> <span class=n>YType</span> <span class=n>y</span>;
  };
  <span class=n>XType</span> <span class=n>x</span>;
};
</code></pre></div> <p>ClickHouse intenta encontrar una columna llamada <code class=syntax>x.y.z</code> (o <code class=syntax>x_y_z</code> o <code class=syntax>X.y_Z</code> y así sucesivamente).<br> Los mensajes anidados son adecuados para <a href=../../../sql-reference/data-types/nested-data-structures/nested/amp/ >estructuras de datos anidados</a>.</p> <p>Valores predeterminados definidos en un esquema protobuf como este</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>syntax</span> <span class=l>= "proto2"</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>optional</span> <span class=n>int32</span> <span class=n>result_per_page</span> <span class=l>= 3 [default = 10]</span>;
}
</code></pre></div> <p>no se aplican; el <a href=../../../sql-reference/statements/create/amp/#create-default-values>valores predeterminados de la tabla</a> se utilizan en lugar de ellos.</p> <p>ClickHouse entra y emite mensajes protobuf en el <code class=syntax>length-delimited</code> formato.<br> Significa que antes de cada mensaje debe escribirse su longitud como un <a href=https://developers.google.com/protocol-buffers/docs/encoding#varints rel="external nofollow noreferrer" target=_blank>varint</a>.<br> Ver también <a href=https://cwiki.apache.org/confluence/display/GEODE/Delimiting+Protobuf+Messages rel="external nofollow noreferrer" target=_blank>cómo leer / escribir mensajes protobuf delimitados por longitud en idiomas populares</a>.</p> <h2 id=data-format-avro>Avro<a class=headerlink href=../amp/#data-format-avro title="Permanent link"> </a></h2> <p><a href=http://avro.apache.org/ rel="external nofollow noreferrer" target=_blank>Más información</a> es un marco de serialización de datos orientado a filas desarrollado dentro del proyecto Hadoop de Apache.</p> <p>El formato ClickHouse Avro admite lectura y escritura <a href=http://avro.apache.org/docs/current/spec.html#Object+Container+Files rel="external nofollow noreferrer" target=_blank>Archivos de datos Avro</a>.</p> <h3 id=data_types-matching>Coincidencia de tipos de datos<a class=headerlink href=../amp/#data_types-matching title="Permanent link"> </a></h3> <p>La siguiente tabla muestra los tipos de datos admitidos y cómo coinciden con ClickHouse <a href=../../../sql-reference/data-types/amp/ >tipos de datos</a> en <code class=syntax>INSERT</code> y <code class=syntax>SELECT</code> consulta.</p> <table> <thead> <tr> <th>Tipo de datos Avro <code class=syntax>INSERT</code></th> <th>Tipo de datos ClickHouse</th> <th>Tipo de datos Avro <code class=syntax>SELECT</code></th> </tr> </thead> <tbody> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >¿Cómo funciona?)</a>, <a href=../../../sql-reference/data-types/int-uint/amp/ >UInt(8|16|32)</a></td> <td><code class=syntax>int</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a>, <a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a></td> <td><code class=syntax>long</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float32</a></td> <td><code class=syntax>float</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float64</a></td> <td><code class=syntax>double</code></td> </tr> <tr> <td><code class=syntax>bytes</code>, <code class=syntax>string</code>, <code class=syntax>fixed</code>, <code class=syntax>enum</code></td> <td><a href=../../../sql-reference/data-types/string/amp/ >Cadena</a></td> <td><code class=syntax>bytes</code></td> </tr> <tr> <td><code class=syntax>bytes</code>, <code class=syntax>string</code>, <code class=syntax>fixed</code></td> <td><a href=../../../sql-reference/data-types/fixedstring/amp/ >Cadena fija (N)</a></td> <td><code class=syntax>fixed(N)</code></td> </tr> <tr> <td><code class=syntax>enum</code></td> <td><a href=../../../sql-reference/data-types/enum/amp/ >Enum (8|16)</a></td> <td><code class=syntax>enum</code></td> </tr> <tr> <td><code class=syntax>array(T)</code></td> <td><a href=../../../sql-reference/data-types/array/amp/ >Matriz (T)</a></td> <td><code class=syntax>array(T)</code></td> </tr> <tr> <td><code class=syntax>union(null, T)</code>, <code class=syntax>union(T, null)</code></td> <td><a href=../../../sql-reference/data-types/date/amp/ >Nivel de Cifrado WEP)</a></td> <td><code class=syntax>union(null, T)</code></td> </tr> <tr> <td><code class=syntax>null</code></td> <td><a href=../../../sql-reference/data-types/special-data-types/nothing/amp/ >Nullable (nada)</a></td> <td><code class=syntax>null</code></td> </tr> <tr> <td><code class=syntax>int (date)</code> *</td> <td><a href=../../../sql-reference/data-types/date/amp/ >Fecha</a></td> <td><code class=syntax>int (date)</code> *</td> </tr> <tr> <td><code class=syntax>long (timestamp-millis)</code> *</td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >¿Qué puedes encontrar en Neodigit)</a></td> <td><code class=syntax>long (timestamp-millis)</code> *</td> </tr> <tr> <td><code class=syntax>long (timestamp-micros)</code> *</td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >Cómo hacer esto?)</a></td> <td><code class=syntax>long (timestamp-micros)</code> *</td> </tr> </tbody> </table> <p>* <a href=http://avro.apache.org/docs/current/spec.html#Logical+Types rel="external nofollow noreferrer" target=_blank>Tipos lógicos Avro</a></p> <p>Tipos de datos Avro no admitidos: <code class=syntax>record</code> (no root), <code class=syntax>map</code></p> <p>Tipos de datos lógicos Avro no admitidos: <code class=syntax>uuid</code>, <code class=syntax>time-millis</code>, <code class=syntax>time-micros</code>, <code class=syntax>duration</code></p> <h3 id=inserting-data-1>Insertar datos<a class=headerlink href=../amp/#inserting-data-1 title="Permanent link"> </a></h3> <p>Para insertar datos de un archivo Avro en la tabla ClickHouse:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat file.avro <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO {some_table} FORMAT Avro"</span>
</code></pre></div> <p>El esquema raíz del archivo Avro de entrada debe ser de <code class=syntax>record</code> tipo.</p> <p>Para encontrar la correspondencia entre las columnas de la tabla y los campos de Avro esquema ClickHouse compara sus nombres. Esta comparación distingue entre mayúsculas y minúsculas.<br> Los campos no utilizados se omiten.</p> <p>Los tipos de datos de las columnas de tabla ClickHouse pueden diferir de los campos correspondientes de los datos de Avro insertados. Al insertar datos, ClickHouse interpreta los tipos de datos de acuerdo con la tabla anterior y luego <a href=../../../sql-reference/functions/type-conversion-functions/amp/#type_conversion_function-cast>elenco</a> los datos al tipo de columna correspondiente.</p> <h3 id=selecting-data-1>Selección de datos<a class=headerlink href=../amp/#selecting-data-1 title="Permanent link"> </a></h3> <p>Para seleccionar datos de la tabla ClickHouse en un archivo Avro:</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --query<span class=o>=</span><span class=s2>"SELECT * FROM {some_table} FORMAT Avro"</span> &gt; file.avro
</code></pre></div> <p>Los nombres de columna deben:</p> <ul> <li>comenzar con <code class=syntax>[A-Za-z_]</code></li> <li>posteriormente contienen sólo <code class=syntax>[A-Za-z0-9_]</code></li> </ul> <p>La compresión de archivos Avro de salida y el intervalo de sincronización se pueden configurar con <a href=../../../operations/settings/settings/amp/#settings-output_format_avro_codec>Sistema abierto.</a> y <a href=../../../operations/settings/settings/amp/#settings-output_format_avro_sync_interval>Sistema abierto.</a> respectivamente.</p> <h2 id=data-format-avro-confluent>AvroConfluent<a class=headerlink href=../amp/#data-format-avro-confluent title="Permanent link"> </a></h2> <p>AvroConfluent admite la decodificación de mensajes Avro de un solo objeto comúnmente utilizados con <a href=https://kafka.apache.org/ rel="external nofollow noreferrer" target=_blank>Kafka</a> y <a href=https://docs.confluent.io/current/schema-registry/index.html rel="external nofollow noreferrer" target=_blank>Registro de Esquemas Confluentes</a>.</p> <p>Cada mensaje de Avro incrusta un id de esquema que se puede resolver en el esquema real con la ayuda del Registro de esquemas.</p> <p>Los esquemas se almacenan en caché una vez resueltos.</p> <p>La URL del registro de esquemas se configura con <a href=../../../operations/settings/settings/amp/#settings-format_avro_schema_registry_url>Todos los derechos reservados.</a></p> <h3 id=data_types-matching-1>Coincidencia de tipos de datos<a class=headerlink href=../amp/#data_types-matching-1 title="Permanent link"> </a></h3> <p>Lo mismo que <a href=../amp/#data-format-avro>Avro</a></p> <h3 id=usage>Uso<a class=headerlink href=../amp/#usage title="Permanent link"> </a></h3> <p>Para verificar rápidamente la resolución del esquema, puede usar <a href=https://github.com/edenhill/kafkacat rel="external nofollow noreferrer" target=_blank>Método de codificación de datos:</a> con <a href=../../../operations/utilities/clickhouse-local/amp/#clickhouse-local>Sistema abierto.</a>:</p> <div class=codehilite><pre><span></span><code class=syntax>$ kafkacat -b kafka-broker  -C -t topic1 -o beginning -f <span class=s1>'%s'</span> -c <span class=m>3</span> <span class=p>|</span> clickhouse-local   --input-format AvroConfluent --format_avro_schema_registry_url <span class=s1>'http://schema-registry'</span> -S <span class=s2>"field1 Int64, field2 String"</span>  -q <span class=s1>'select *  from table'</span>
<span class=m>1</span> a
<span class=m>2</span> b
<span class=m>3</span> c
</code></pre></div> <p>Utilizar <code class=syntax>AvroConfluent</code> con <a href=../../../engines/table-engines/integrations/kafka/amp/ >Kafka</a>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>topic1_stream</span>
<span class=p>(</span>
    <span class=n>field1</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>field2</span> <span class=n>String</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Kafka</span><span class=p>()</span>
<span class=n>SETTINGS</span>
<span class=n>kafka_broker_list</span> <span class=o>=</span> <span class=s1>'kafka-broker'</span><span class=p>,</span>
<span class=n>kafka_topic_list</span> <span class=o>=</span> <span class=s1>'topic1'</span><span class=p>,</span>
<span class=n>kafka_group_name</span> <span class=o>=</span> <span class=s1>'group1'</span><span class=p>,</span>
<span class=n>kafka_format</span> <span class=o>=</span> <span class=s1>'AvroConfluent'</span><span class=p>;</span>

<span class=k>SET</span> <span class=n>format_avro_schema_registry_url</span> <span class=o>=</span> <span class=s1>'http://schema-registry'</span><span class=p>;</span>

<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>topic1_stream</span><span class=p>;</span>
</code></pre></div> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Advertencia</p> <p>Configuración <code class=syntax>format_avro_schema_registry_url</code> necesita ser configurado en <code class=syntax>users.xml</code> para mantener su valor después de un reinicio.</p> </div> <h2 id=data-format-parquet>Parquet<a class=headerlink href=../amp/#data-format-parquet title="Permanent link"> </a></h2> <p><a href=http://parquet.apache.org/ rel="external nofollow noreferrer" target=_blank>Apache Parquet</a> es un formato de almacenamiento columnar generalizado en el ecosistema Hadoop. ClickHouse admite operaciones de lectura y escritura para este formato.</p> <h3 id=data_types-matching-2>Coincidencia de tipos de datos<a class=headerlink href=../amp/#data_types-matching-2 title="Permanent link"> </a></h3> <p>La siguiente tabla muestra los tipos de datos admitidos y cómo coinciden con ClickHouse <a href=../../../sql-reference/data-types/amp/ >tipos de datos</a> en <code class=syntax>INSERT</code> y <code class=syntax>SELECT</code> consulta.</p> <table> <thead> <tr> <th>Tipo de datos de parquet (<code class=syntax>INSERT</code>)</th> <th>Tipo de datos ClickHouse</th> <th>Tipo de datos de parquet (<code class=syntax>SELECT</code>)</th> </tr> </thead> <tbody> <tr> <td><code class=syntax>UINT8</code>, <code class=syntax>BOOL</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt8</a></td> <td><code class=syntax>UINT8</code></td> </tr> <tr> <td><code class=syntax>INT8</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int8</a></td> <td><code class=syntax>INT8</code></td> </tr> <tr> <td><code class=syntax>UINT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt16</a></td> <td><code class=syntax>UINT16</code></td> </tr> <tr> <td><code class=syntax>INT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int16</a></td> <td><code class=syntax>INT16</code></td> </tr> <tr> <td><code class=syntax>UINT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt32</a></td> <td><code class=syntax>UINT32</code></td> </tr> <tr> <td><code class=syntax>INT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int32</a></td> <td><code class=syntax>INT32</code></td> </tr> <tr> <td><code class=syntax>UINT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a></td> <td><code class=syntax>UINT64</code></td> </tr> <tr> <td><code class=syntax>INT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a></td> <td><code class=syntax>INT64</code></td> </tr> <tr> <td><code class=syntax>FLOAT</code>, <code class=syntax>HALF_FLOAT</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float32</a></td> <td><code class=syntax>FLOAT</code></td> </tr> <tr> <td><code class=syntax>DOUBLE</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float64</a></td> <td><code class=syntax>DOUBLE</code></td> </tr> <tr> <td><code class=syntax>DATE32</code></td> <td><a href=../../../sql-reference/data-types/date/amp/ >Fecha</a></td> <td><code class=syntax>UINT16</code></td> </tr> <tr> <td><code class=syntax>DATE64</code>, <code class=syntax>TIMESTAMP</code></td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >FechaHora</a></td> <td><code class=syntax>UINT32</code></td> </tr> <tr> <td><code class=syntax>STRING</code>, <code class=syntax>BINARY</code></td> <td><a href=../../../sql-reference/data-types/string/amp/ >Cadena</a></td> <td><code class=syntax>STRING</code></td> </tr> <tr> <td>—</td> <td><a href=../../../sql-reference/data-types/fixedstring/amp/ >Cadena fija</a></td> <td><code class=syntax>STRING</code></td> </tr> <tr> <td><code class=syntax>DECIMAL</code></td> <td><a href=../../../sql-reference/data-types/decimal/amp/ >Decimal</a></td> <td><code class=syntax>DECIMAL</code></td> </tr> </tbody> </table> <p>ClickHouse admite una precisión configurable de <code class=syntax>Decimal</code> tipo. El <code class=syntax>INSERT</code> consulta trata el Parquet <code class=syntax>DECIMAL</code> tipo como el ClickHouse <code class=syntax>Decimal128</code> tipo.</p> <p>Tipos de datos de parquet no admitidos: <code class=syntax>DATE32</code>, <code class=syntax>TIME32</code>, <code class=syntax>FIXED_SIZE_BINARY</code>, <code class=syntax>JSON</code>, <code class=syntax>UUID</code>, <code class=syntax>ENUM</code>.</p> <p>Los tipos de datos de las columnas de tabla ClickHouse pueden diferir de los campos correspondientes de los datos de Parquet insertados. Al insertar datos, ClickHouse interpreta los tipos de datos de acuerdo con la tabla anterior y luego <a href=../../query_language/functions/type_conversion_functions/amp/#type_conversion_function-cast>elenco</a> los datos de ese tipo de datos que se establece para la columna de tabla ClickHouse.</p> <h3 id=inserting-and-selecting-data>Insertar y seleccionar datos<a class=headerlink href=../amp/#inserting-and-selecting-data title="Permanent link"> </a></h3> <p>Puede insertar datos de Parquet desde un archivo en la tabla ClickHouse mediante el siguiente comando:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat <span class=o>{</span>filename<span class=o>}</span> <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO {some_table} FORMAT Parquet"</span>
</code></pre></div> <p>Puede seleccionar datos de una tabla ClickHouse y guardarlos en algún archivo en el formato Parquet mediante el siguiente comando:</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --query<span class=o>=</span><span class=s2>"SELECT * FROM {some_table} FORMAT Parquet"</span> &gt; <span class=o>{</span>some_file.pq<span class=o>}</span>
</code></pre></div> <p>Para intercambiar datos con Hadoop, puede usar <a href=../../../engines/table-engines/integrations/hdfs/amp/ >Motor de mesa HDFS</a>.</p> <h2 id=data-format-orc>ORC<a class=headerlink href=../amp/#data-format-orc title="Permanent link"> </a></h2> <p><a href=https://orc.apache.org/ rel="external nofollow noreferrer" target=_blank>Apache ORC</a> es un formato de almacenamiento columnar generalizado en el ecosistema Hadoop. Solo puede insertar datos en este formato en ClickHouse.</p> <h3 id=data_types-matching-3>Coincidencia de tipos de datos<a class=headerlink href=../amp/#data_types-matching-3 title="Permanent link"> </a></h3> <p>La siguiente tabla muestra los tipos de datos admitidos y cómo coinciden con ClickHouse <a href=../../../sql-reference/data-types/amp/ >tipos de datos</a> en <code class=syntax>INSERT</code> consulta.</p> <table> <thead> <tr> <th>Tipo de datos ORC (<code class=syntax>INSERT</code>)</th> <th>Tipo de datos ClickHouse</th> </tr> </thead> <tbody> <tr> <td><code class=syntax>UINT8</code>, <code class=syntax>BOOL</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt8</a></td> </tr> <tr> <td><code class=syntax>INT8</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int8</a></td> </tr> <tr> <td><code class=syntax>UINT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt16</a></td> </tr> <tr> <td><code class=syntax>INT16</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int16</a></td> </tr> <tr> <td><code class=syntax>UINT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt32</a></td> </tr> <tr> <td><code class=syntax>INT32</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int32</a></td> </tr> <tr> <td><code class=syntax>UINT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >UInt64</a></td> </tr> <tr> <td><code class=syntax>INT64</code></td> <td><a href=../../../sql-reference/data-types/int-uint/amp/ >Int64</a></td> </tr> <tr> <td><code class=syntax>FLOAT</code>, <code class=syntax>HALF_FLOAT</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float32</a></td> </tr> <tr> <td><code class=syntax>DOUBLE</code></td> <td><a href=../../../sql-reference/data-types/float/amp/ >Float64</a></td> </tr> <tr> <td><code class=syntax>DATE32</code></td> <td><a href=../../../sql-reference/data-types/date/amp/ >Fecha</a></td> </tr> <tr> <td><code class=syntax>DATE64</code>, <code class=syntax>TIMESTAMP</code></td> <td><a href=../../../sql-reference/data-types/datetime/amp/ >FechaHora</a></td> </tr> <tr> <td><code class=syntax>STRING</code>, <code class=syntax>BINARY</code></td> <td><a href=../../../sql-reference/data-types/string/amp/ >Cadena</a></td> </tr> <tr> <td><code class=syntax>DECIMAL</code></td> <td><a href=../../../sql-reference/data-types/decimal/amp/ >Decimal</a></td> </tr> </tbody> </table> <p>ClickHouse soporta la precisión configurable de la <code class=syntax>Decimal</code> tipo. El <code class=syntax>INSERT</code> consulta trata el ORC <code class=syntax>DECIMAL</code> tipo como el ClickHouse <code class=syntax>Decimal128</code> tipo.</p> <p>Tipos de datos ORC no admitidos: <code class=syntax>DATE32</code>, <code class=syntax>TIME32</code>, <code class=syntax>FIXED_SIZE_BINARY</code>, <code class=syntax>JSON</code>, <code class=syntax>UUID</code>, <code class=syntax>ENUM</code>.</p> <p>Los tipos de datos de las columnas de tabla ClickHouse no tienen que coincidir con los campos de datos ORC correspondientes. Al insertar datos, ClickHouse interpreta los tipos de datos de acuerdo con la tabla anterior y luego <a href=../../../sql-reference/functions/type-conversion-functions/amp/#type_conversion_function-cast>elenco</a> los datos al tipo de datos establecido para la columna de tabla ClickHouse.</p> <h3 id=inserting-data-2>Insertar datos<a class=headerlink href=../amp/#inserting-data-2 title="Permanent link"> </a></h3> <p>Puede insertar datos ORC de un archivo en la tabla ClickHouse mediante el siguiente comando:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat filename.orc <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO some_table FORMAT ORC"</span>
</code></pre></div> <p>Para intercambiar datos con Hadoop, puede usar <a href=../../../engines/table-engines/integrations/hdfs/amp/ >Motor de mesa HDFS</a>.</p> <h2 id=formatschema>Esquema de formato<a class=headerlink href=../amp/#formatschema title="Permanent link"> </a></h2> <p>El valor establece el nombre de archivo que contiene el esquema de formato <code class=syntax>format_schema</code>.<br> Es necesario establecer esta configuración cuando se utiliza uno de los formatos <code class=syntax>Cap'n Proto</code> y <code class=syntax>Protobuf</code>.<br> El esquema de formato es una combinación de un nombre de archivo y el nombre de un tipo de mensaje en este archivo, delimitado por dos puntos,<br> e.g. <code class=syntax>schemafile.proto:MessageType</code>.<br> Si el archivo tiene la extensión estándar para el formato (por ejemplo, <code class=syntax>.proto</code> para <code class=syntax>Protobuf</code>),<br> se puede omitir y en este caso, el esquema de formato se ve así <code class=syntax>schemafile:MessageType</code>.</p> <p>Si introduce o emite datos a través del <a href=../../cli/amp/ >cliente</a> en el <a href=../../cli/amp/#cli_usage>modo interactivo</a>, el nombre de archivo especificado en el esquema de formato<br> puede contener una ruta absoluta o una ruta relativa al directorio actual en el cliente.<br> Si utiliza el cliente en el <a href=../../cli/amp/#cli_usage>modo por lotes</a>, la ruta de acceso al esquema debe ser relativa por razones de seguridad.</p> <p>Si introduce o emite datos a través del <a href=../../http/amp/ >Interfaz HTTP</a> el nombre de archivo especificado en el esquema de formato<br> debe estar ubicado en el directorio especificado en <a href=../../../operations/server-configuration-parameters/settings/amp/#server_configuration_parameters-format_schema_path>format_schema_path</a><br> en la configuración del servidor.</p> <h2 id=skippingerrors>Salto de errores<a class=headerlink href=../amp/#skippingerrors title="Permanent link"> </a></h2> <p>Algunos formatos como <code class=syntax>CSV</code>, <code class=syntax>TabSeparated</code>, <code class=syntax>TSKV</code>, <code class=syntax>JSONEachRow</code>, <code class=syntax>Template</code>, <code class=syntax>CustomSeparated</code> y <code class=syntax>Protobuf</code> puede omitir la fila rota si se produjo un error de análisis y continuar el análisis desde el comienzo de la siguiente fila. Ver <a href=../../../operations/settings/settings/amp/#settings-input_format_allow_errors_num>Entrada_format_allow_errors_num</a> y<br> <a href=../../../operations/settings/settings/amp/#settings-input_format_allow_errors_ratio>Entrada_format_allow_errors_ratio</a> configuración.<br> Limitacion:<br> - En caso de error de análisis <code class=syntax>JSONEachRow</code> omite todos los datos hasta la nueva línea (o EOF), por lo que las filas deben estar delimitadas por <code class=syntax>\n</code> para contar los errores correctamente.<br> - <code class=syntax>Template</code> y <code class=syntax>CustomSeparated</code> use el delimitador después de la última columna y el delimitador entre filas para encontrar el comienzo de la siguiente fila, por lo que omitir errores solo funciona si al menos uno de ellos no está vacío.</p> <p><a href=https://clickhouse.tech/docs/en/interfaces/formats/ target=_blank>Artículo Original</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/es/interfaces/formats/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 