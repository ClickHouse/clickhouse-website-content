<!doctype html><html ⚡ lang=fr> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>Autre | Documentation ClickHouse</title><link href=https://clickhouse.tech/docs/fr/sql-reference/statements/misc/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Autre | Documentation ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fr/sql-reference/statements/misc/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Autre | Documentation ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,main{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}b,strong{font-weight:bolder}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-primary{background-color:#b8daff}.table-warning{background-color:#ffeeba}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-active{background-color:rgba(0,0,0,.075)}.table-dark{color:#fff;background-color:#343a40}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning .alert-link{color:#533f03}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-warning{background-color:#ffc107}a.bg-warning:focus,a.bg-warning:hover{background-color:#d39e00}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pr-0{padding-right:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pr-1{padding-right:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pr-2{padding-right:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pr-3{padding-right:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pr-4{padding-right:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pr-5{padding-right:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pr-md-0{padding-right:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pr-md-1{padding-right:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pr-md-2{padding-right:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pr-md-3{padding-right:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pr-md-4{padding-right:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pr-md-5{padding-right:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pr-lg-0{padding-right:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pr-lg-1{padding-right:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pr-lg-2{padding-right:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pr-lg-3{padding-right:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pr-lg-4{padding-right:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pr-lg-5{padding-right:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-warning{color:#ffc107}a.text-warning:focus,a.text-warning:hover{color:#ba8b00}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-red{color:#ff3939}.text-orange{color:#f14600}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .l{color:#08f}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .ne{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .s2{color:#48b685}.syntax .se{color:#08f}.syntax .si{color:#08f}.syntax .s1{color:#080}.syntax .il{color:#08f}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/sql-reference/statements/misc/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/sql-reference/statements/misc.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=miscellaneous-queries>Diverses Requêtes<a class=headerlink href=../amp/#miscellaneous-queries title="Permanent link"> </a></h1> <h2 id=attach>ATTACH<a class=headerlink href=../amp/#attach title="Permanent link"> </a></h2> <p>Cette requête est exactement la même que <code class=syntax>CREATE</code>, mais</p> <ul> <li>Au lieu de la parole <code class=syntax>CREATE</code> il utilise le mot <code class=syntax>ATTACH</code>.</li> <li>La requête ne crée pas de données sur le disque, mais suppose que les données sont déjà aux endroits appropriés, et ajoute simplement des informations sur la table au serveur.<br> Après avoir exécuté une requête ATTACH, le serveur connaîtra l'existence de la table.</li> </ul> <p>Si la table a été précédemment détachée (<code class=syntax>DETACH</code>), ce qui signifie que sa structure est connue, vous pouvez utiliser un raccourci sans définir la structure.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>ATTACH</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
</code></pre></div> <p>Cette requête est utilisée lors du démarrage du serveur. Le serveur stocke les métadonnées de la table sous forme de fichiers avec <code class=syntax>ATTACH</code> requêtes, qu'il exécute simplement au lancement (à l'exception des tables système, qui sont explicitement créées sur le serveur).</p> <h2 id=check-table>CHECK TABLE<a class=headerlink href=../amp/#check-table title="Permanent link"> </a></h2> <p>Vérifie si les données de la table sont corrompues.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CHECK</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span>
</code></pre></div> <p>Le <code class=syntax>CHECK TABLE</code> requête compare réelle des tailles de fichier avec les valeurs attendues qui sont stockés sur le serveur. Si le fichier tailles ne correspondent pas aux valeurs stockées, cela signifie que les données sont endommagées. Cela peut être causé, par exemple, par un plantage du système lors de l'exécution de la requête.</p> <p>La réponse de la requête contient <code class=syntax>result</code> colonne avec une seule ligne. La ligne a une valeur de<br> <a href=../../../data-types/boolean/amp/ >Booléen</a> type:</p> <ul> <li>0 - les données de la table sont corrompues.</li> <li>1 - les données maintiennent l'intégrité.</li> </ul> <p>Le <code class=syntax>CHECK TABLE</code> query prend en charge les moteurs de table suivants:</p> <ul> <li><a href=../../../../engines/table-engines/log-family/log/amp/ >Journal</a></li> <li><a href=../../../../engines/table-engines/log-family/tinylog/amp/ >TinyLog</a></li> <li><a href=../../../../engines/table-engines/log-family/stripelog/amp/ >StripeLog</a></li> <li><a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ >Famille MergeTree</a></li> </ul> <p>Effectué sur les tables avec un autre moteur de table provoque une exception.</p> <p>Les moteurs de la <code class=syntax>*Log</code> la famille ne fournit pas de récupération automatique des données en cas d'échec. L'utilisation de la <code class=syntax>CHECK TABLE</code> requête pour suivre la perte de données en temps opportun.</p> <p>Pour <code class=syntax>MergeTree</code> moteurs de la famille, le <code class=syntax>CHECK TABLE</code> query affiche un État de vérification pour chaque partie de données individuelle d'une table sur le serveur local.</p> <p><strong>Si les données sont corrompues</strong></p> <p>Si la table est corrompue, vous pouvez copier les données non corrompues dans une autre table. Pour ce faire:</p> <ol> <li>Créez une nouvelle table avec la même structure que la table endommagée. Pour ce faire exécutez la requête <code class=syntax>CREATE TABLE &lt;new_table_name&gt; AS &lt;damaged_table_name&gt;</code>.</li> <li>Définir le <a href=../../../../operations/settings/settings/amp/#settings-max_threads>max_threads</a> la valeur 1 pour traiter la requête suivante dans un seul thread. Pour ce faire, exécutez la requête <code class=syntax>SET max_threads = 1</code>.</li> <li>Exécuter la requête <code class=syntax>INSERT INTO &lt;new_table_name&gt; SELECT * FROM &lt;damaged_table_name&gt;</code>. Cette demande copie les données non corrompues de la table endommagée vers une autre table. Seules les données avant la partie corrompue seront copiées.</li> <li>Redémarrez l' <code class=syntax>clickhouse-client</code> pour réinitialiser l' <code class=syntax>max_threads</code> valeur.</li> </ol> <h2 id=misc-describe-table>DESCRIBE TABLE<a class=headerlink href=../amp/#misc-describe-table title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DESC</span><span class=o>|</span><span class=k>DESCRIBE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=p>[</span><span class=k>INTO</span> <span class=n>OUTFILE</span> <span class=n>filename</span><span class=p>]</span> <span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>Renvoie ce qui suit <code class=syntax>String</code> les colonnes de type:</p> <ul> <li><code class=syntax>name</code> — Column name.</li> <li><code class=syntax>type</code>— Column type.</li> <li><code class=syntax>default_type</code> — Clause that is used in <a href=../../create/amp/#create-default-values>expression par défaut</a> (<code class=syntax>DEFAULT</code>, <code class=syntax>MATERIALIZED</code> ou <code class=syntax>ALIAS</code>). Column contient une chaîne vide, si l'expression par défaut n'est pas spécifiée.</li> <li><code class=syntax>default_expression</code> — Value specified in the <code class=syntax>DEFAULT</code> clause.</li> <li><code class=syntax>comment_expression</code> — Comment text.</li> </ul> <p>Les structures de données imbriquées sont sorties dans “expanded” format. Chaque colonne est affichée séparément, avec le nom après un point.</p> <h2 id=detach>DETACH<a class=headerlink href=../amp/#detach title="Permanent link"> </a></h2> <p>Supprime les informations sur le ‘name’ table du serveur. Le serveur cesse de connaître l'existence de la table.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>DETACH</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
</code></pre></div> <p>Cela ne supprime pas les données ou les métadonnées de la table. Lors du prochain lancement du serveur, le serveur Lira les métadonnées et découvrira à nouveau la table.<br> De même, un “detached” tableau peut être re-attaché en utilisant le <code class=syntax>ATTACH</code> requête (à l'exception des tables système, qui n'ont pas de stocker les métadonnées pour eux).</p> <p>Il n'y a pas de <code class=syntax>DETACH DATABASE</code> requête.</p> <h2 id=drop>DROP<a class=headerlink href=../amp/#drop title="Permanent link"> </a></h2> <p>Cette requête a deux types: <code class=syntax>DROP DATABASE</code> et <code class=syntax>DROP TABLE</code>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>DATABASE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>db</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
</code></pre></div> <p>Supprime toutes les tables à l'intérieur de la ‘db’ la base de données, puis supprime le ‘db’ la base de données elle-même.<br> Si <code class=syntax>IF EXISTS</code> est spécifié, il ne renvoie pas d'erreur si la base de données n'existe pas.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=p>[</span><span class=k>TEMPORARY</span><span class=p>]</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
</code></pre></div> <p>Supprime la table.<br> Si <code class=syntax>IF EXISTS</code> est spécifié, il ne renvoie pas d'erreur si la table n'existe pas ou si la base de données n'existe pas.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>DROP</span> <span class=n>DICTIONARY</span> <span class=p>[</span><span class=n>IF</span> <span class=n>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span>
</code></pre></div> <p>Delets le dictionnaire.<br> Si <code class=syntax>IF EXISTS</code> est spécifié, il ne renvoie pas d'erreur si la table n'existe pas ou si la base de données n'existe pas.</p> <h2 id=drop-user-statement>DROP USER<a class=headerlink href=../amp/#drop-user-statement title="Permanent link"> </a></h2> <p>Supprime un utilisateur.</p> <h3 id=drop-user-syntax>Syntaxe<a class=headerlink href=../amp/#drop-user-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>USER</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[,...]</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
</code></pre></div> <h2 id=drop-role-statement>DROP ROLE<a class=headerlink href=../amp/#drop-role-statement title="Permanent link"> </a></h2> <p>Supprime un rôle.</p> <p>Le rôle supprimé est révoqué de toutes les entités où il a été accordé.</p> <h3 id=drop-role-syntax>Syntaxe<a class=headerlink href=../amp/#drop-role-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>ROLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[,...]</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
</code></pre></div> <h2 id=drop-row-policy-statement>DROP ROW POLICY<a class=headerlink href=../amp/#drop-row-policy-statement title="Permanent link"> </a></h2> <p>Supprime une stratégie de ligne.</p> <p>La stratégie de ligne supprimée est révoquée de toutes les entités sur lesquelles elle a été affectée.</p> <h3 id=drop-row-policy-syntax>Syntaxe<a class=headerlink href=../amp/#drop-row-policy-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=p>[</span><span class=k>ROW</span><span class=p>]</span> <span class=n>POLICY</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[,...]</span> <span class=k>ON</span> <span class=p>[</span><span class=k>database</span><span class=p>.]</span><span class=k>table</span> <span class=p>[,...]</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
</code></pre></div> <h2 id=drop-quota-statement>DROP QUOTA<a class=headerlink href=../amp/#drop-quota-statement title="Permanent link"> </a></h2> <p>Supprime un quota.</p> <p>Le quota supprimé est révoqué de toutes les entités où il a été affecté.</p> <h3 id=drop-quota-syntax>Syntaxe<a class=headerlink href=../amp/#drop-quota-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=n>QUOTA</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[,...]</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
</code></pre></div> <h2 id=drop-settings-profile-statement>DROP SETTINGS PROFILE<a class=headerlink href=../amp/#drop-settings-profile-statement title="Permanent link"> </a></h2> <p>Supprime un quota.</p> <p>Le quota supprimé est révoqué de toutes les entités où il a été affecté.</p> <h3 id=drop-settings-profile-syntax>Syntaxe<a class=headerlink href=../amp/#drop-settings-profile-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=p>[</span><span class=n>SETTINGS</span><span class=p>]</span> <span class=n>PROFILE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[,...]</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
</code></pre></div> <h2 id=exists-statement>EXISTS<a class=headerlink href=../amp/#exists-statement title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=k>EXISTS</span> <span class=p>[</span><span class=k>TEMPORARY</span><span class=p>]</span> <span class=p>[</span><span class=k>TABLE</span><span class=o>|</span><span class=k>DICTIONARY</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span> <span class=p>[</span><span class=k>INTO</span> <span class=n>OUTFILE</span> <span class=n>filename</span><span class=p>]</span> <span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>Renvoie un seul <code class=syntax>UInt8</code>- type colonne, qui contient la valeur unique <code class=syntax>0</code> si la table ou base de données n'existe pas, ou <code class=syntax>1</code> si la table existe dans la base de données spécifiée.</p> <h2 id=kill-query-statement>KILL QUERY<a class=headerlink href=../amp/#kill-query-statement title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=n>KILL</span> <span class=n>QUERY</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
  <span class=k>WHERE</span> <span class=o>&lt;</span><span class=k>where</span> <span class=n>expression</span> <span class=k>to</span> <span class=k>SELECT</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>processes</span> <span class=n>query</span><span class=o>&gt;</span>
  <span class=p>[</span><span class=n>SYNC</span><span class=o>|</span><span class=n>ASYNC</span><span class=o>|</span><span class=n>TEST</span><span class=p>]</span>
  <span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>Tente de mettre fin de force aux requêtes en cours d'exécution.<br> Les requêtes à terminer sont sélectionnées dans le système.processus en utilisant les critères définis dans le <code class=syntax>WHERE</code> la clause de la <code class=syntax>KILL</code> requête.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=c1>-- Forcibly terminates all queries with the specified query_id:</span>
<span class=n>KILL</span> <span class=n>QUERY</span> <span class=k>WHERE</span> <span class=n>query_id</span><span class=o>=</span><span class=s1>'2-857d-4a57-9ee0-327da5d60a90'</span>

<span class=c1>-- Synchronously terminates all queries run by 'username':</span>
<span class=n>KILL</span> <span class=n>QUERY</span> <span class=k>WHERE</span> <span class=k>user</span><span class=o>=</span><span class=s1>'username'</span> <span class=n>SYNC</span>
</code></pre></div> <p>Les utilisateurs en lecture seule peuvent uniquement arrêter leurs propres requêtes.</p> <p>Par défaut, la version asynchrone des requêtes est utilisé (<code class=syntax>ASYNC</code>), qui n'attend pas la confirmation que les requêtes se sont arrêtées.</p> <p>La version synchrone (<code class=syntax>SYNC</code>) attend que toutes les requêtes d'arrêter et affiche des informations sur chaque processus s'arrête.<br> La réponse contient l' <code class=syntax>kill_status</code> la colonne, qui peut prendre les valeurs suivantes:</p> <ol> <li>‘finished’ – The query was terminated successfully.</li> <li>‘waiting’ – Waiting for the query to end after sending it a signal to terminate.</li> <li>The other values ​​explain why the query can't be stopped.</li> </ol> <p>Une requête de test (<code class=syntax>TEST</code>) vérifie uniquement les droits de l'utilisateur et affiche une liste de requêtes à arrêter.</p> <h2 id=kill-mutation>KILL MUTATION<a class=headerlink href=../amp/#kill-mutation title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=n>KILL</span> <span class=n>MUTATION</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
  <span class=k>WHERE</span> <span class=o>&lt;</span><span class=k>where</span> <span class=n>expression</span> <span class=k>to</span> <span class=k>SELECT</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>mutations</span> <span class=n>query</span><span class=o>&gt;</span>
  <span class=p>[</span><span class=n>TEST</span><span class=p>]</span>
  <span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>Essaie d'annuler et supprimer <a href=../../alter/amp/#alter-mutations>mutation</a> actuellement en cours d'exécution. Les Mutations à annuler sont sélectionnées parmi <a href=../../../../operations/system-tables/amp/#system_tables-mutations><code class=syntax>system.mutations</code></a> tableau à l'aide du filtre spécifié par le <code class=syntax>WHERE</code> la clause de la <code class=syntax>KILL</code> requête.</p> <p>Une requête de test (<code class=syntax>TEST</code>) vérifie uniquement les droits de l'utilisateur et affiche une liste de requêtes à arrêter.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=c1>-- Cancel and remove all mutations of the single table:</span>
<span class=n>KILL</span> <span class=n>MUTATION</span> <span class=k>WHERE</span> <span class=k>database</span> <span class=o>=</span> <span class=s1>'default'</span> <span class=k>AND</span> <span class=k>table</span> <span class=o>=</span> <span class=s1>'table'</span>

<span class=c1>-- Cancel the specific mutation:</span>
<span class=n>KILL</span> <span class=n>MUTATION</span> <span class=k>WHERE</span> <span class=k>database</span> <span class=o>=</span> <span class=s1>'default'</span> <span class=k>AND</span> <span class=k>table</span> <span class=o>=</span> <span class=s1>'table'</span> <span class=k>AND</span> <span class=n>mutation_id</span> <span class=o>=</span> <span class=s1>'mutation_3.txt'</span>
</code></pre></div> <p>The query is useful when a mutation is stuck and cannot finish (e.g. if some function in the mutation query throws an exception when applied to the data contained in the table).</p> <p>Les modifications déjà apportées par la mutation ne sont pas annulées.</p> <h2 id=misc_operations-optimize>OPTIMIZE<a class=headerlink href=../amp/#misc_operations-optimize title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=n>OPTIMIZE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=p>[</span><span class=n>PARTITION</span> <span class=n>partition</span> <span class=o>|</span> <span class=n>PARTITION</span> <span class=n>ID</span> <span class=s1>'partition_id'</span><span class=p>]</span> <span class=p>[</span><span class=k>FINAL</span><span class=p>]</span> <span class=p>[</span><span class=n>DEDUPLICATE</span><span class=p>]</span>
</code></pre></div> <p>Cette requête tente d'initialiser une fusion non programmée de parties de données pour les tables avec un moteur de <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ >MergeTree</a> famille.</p> <p>Le <code class=syntax>OPTMIZE</code> la requête est également prise en charge pour <a href=../../../../engines/table-engines/special/materializedview/amp/ >MaterializedView</a> et la <a href=../../../../engines/table-engines/special/buffer/amp/ >Tampon</a> moteur. Les autres moteurs de table ne sont pas pris en charge.</p> <p>Lorsque <code class=syntax>OPTIMIZE</code> est utilisé avec le <a href=../../../../engines/table-engines/mergetree-family/replication/amp/ >ReplicatedMergeTree</a> famille de moteurs de table, ClickHouse crée une tâche pour la fusion et attend l'exécution sur tous les nœuds (si le <code class=syntax>replication_alter_partitions_sync</code> paramètre est activé).</p> <ul> <li>Si <code class=syntax>OPTIMIZE</code> n'effectue pas de fusion pour une raison quelconque, il ne notifie pas le client. Pour activer les notifications, utilisez <a href=../../../../operations/settings/settings/amp/#setting-optimize_throw_if_noop>optimize_throw_if_noop</a> paramètre.</li> <li>Si vous spécifiez un <code class=syntax>PARTITION</code>, seule la partition spécifiée est optimisé. <a href=../../alter/amp/#alter-how-to-specify-part-expr>Comment définir l'expression de la partition</a>.</li> <li>Si vous spécifiez <code class=syntax>FINAL</code>, l'optimisation est effectuée, même lorsque toutes les données sont déjà dans une partie.</li> <li>Si vous spécifiez <code class=syntax>DEDUPLICATE</code>, alors des lignes complètement identiques seront dédupliquées (toutes les colonnes sont comparées), cela n'a de sens que pour le moteur MergeTree.</li> </ul> <div class="admonition warning alert pb-0 mb-4 alert-warning" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Avertissement</p> <p><code class=syntax>OPTIMIZE</code> ne peut pas réparer le “Too many parts” erreur.</p> </div> <h2 id=misc_operations-rename>RENAME<a class=headerlink href=../amp/#misc_operations-rename title="Permanent link"> </a></h2> <p>Renomme une ou plusieurs tables.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>RENAME</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db11</span><span class=p>.]</span><span class=n>name11</span> <span class=k>TO</span> <span class=p>[</span><span class=n>db12</span><span class=p>.]</span><span class=n>name12</span><span class=p>,</span> <span class=p>[</span><span class=n>db21</span><span class=p>.]</span><span class=n>name21</span> <span class=k>TO</span> <span class=p>[</span><span class=n>db22</span><span class=p>.]</span><span class=n>name22</span><span class=p>,</span> <span class=p>...</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
</code></pre></div> <p>Toutes les tables sont renommées sous verrouillage global. Renommer des tables est une opération légère. Si vous avez indiqué une autre base de données après TO, la table sera déplacée vers cette base de données. Cependant, les répertoires contenant des bases de données doivent résider dans le même système de fichiers (sinon, une erreur est renvoyée).</p> <h2 id=query-set>SET<a class=headerlink href=../amp/#query-set title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=n>param</span> <span class=o>=</span> <span class=n>value</span>
</code></pre></div> <p>Assigner <code class=syntax>value</code> à l' <code class=syntax>param</code> <a href=../../../../operations/settings/amp/ >paramètre</a> pour la session en cours. Vous ne pouvez pas modifier <a href=../../../../operations/server-configuration-parameters/amp/ >les paramètres du serveur</a> de cette façon.</p> <p>Vous pouvez également définir toutes les valeurs de certains paramètres de profil dans une seule requête.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=n>profile</span> <span class=o>=</span> <span class=s1>'profile-name-from-the-settings-file'</span>
</code></pre></div> <p>Pour plus d'informations, voir <a href=../../../../operations/settings/settings/amp/ >Paramètre</a>.</p> <h2 id=set-role-statement>SET ROLE<a class=headerlink href=../amp/#set-role-statement title="Permanent link"> </a></h2> <p>Active les rôles pour l'utilisateur actuel.</p> <h3 id=set-role-syntax>Syntaxe<a class=headerlink href=../amp/#set-role-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>ROLE</span> <span class=err>{</span><span class=k>DEFAULT</span> <span class=o>|</span> <span class=k>NONE</span> <span class=o>|</span> <span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span>
</code></pre></div> <h2 id=set-default-role-statement>SET DEFAULT ROLE<a class=headerlink href=../amp/#set-default-role-statement title="Permanent link"> </a></h2> <p>Définit les rôles par défaut à un utilisateur.</p> <p>Les rôles par défaut sont automatiquement activés lors de la connexion de l'utilisateur. Vous pouvez définir par défaut uniquement les rôles précédemment accordés. Si le rôle n'est pas accordé à un utilisateur, ClickHouse lève une exception.</p> <h3 id=set-default-role-syntax>Syntaxe<a class=headerlink href=../amp/#set-default-role-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=err>{</span><span class=k>NONE</span> <span class=o>|</span> <span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span> <span class=k>TO</span> <span class=err>{</span><span class=k>user</span><span class=o>|</span><span class=k>CURRENT_USER</span><span class=err>}</span> <span class=p>[,...]</span>
</code></pre></div> <h3 id=set-default-role-examples>Exemple<a class=headerlink href=../amp/#set-default-role-examples title="Permanent link"> </a></h3> <p>Définir plusieurs rôles par défaut à un utilisateur:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span><span class=p>,</span> <span class=p>...</span> <span class=k>TO</span> <span class=k>user</span>
</code></pre></div> <p>Définissez tous les rôles accordés par défaut sur un utilisateur:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span> <span class=k>TO</span> <span class=k>user</span>
</code></pre></div> <p>Purger les rôles par défaut d'un utilisateur:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>NONE</span> <span class=k>TO</span> <span class=k>user</span>
</code></pre></div> <p>Définissez tous les rôles accordés par défaut à l'exception de certains d'entre eux:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span> <span class=k>TO</span> <span class=k>user</span>
</code></pre></div> <h2 id=truncate-statement>TRUNCATE<a class=headerlink href=../amp/#truncate-statement title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=k>TRUNCATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
</code></pre></div> <p>Supprime toutes les données d'une table. Lorsque la clause <code class=syntax>IF EXISTS</code> est omis, la requête renvoie une erreur si la table n'existe pas.</p> <p>Le <code class=syntax>TRUNCATE</code> la requête n'est pas prise en charge pour <a href=../../../../engines/table-engines/special/view/amp/ >Vue</a>, <a href=../../../../engines/table-engines/special/file/amp/ >Fichier</a>, <a href=../../../../engines/table-engines/special/url/amp/ >URL</a> et <a href=../../../../engines/table-engines/special/null/amp/ >NULL</a> table des moteurs.</p> <h2 id=use>USE<a class=headerlink href=../amp/#use title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=n>USE</span> <span class=n>db</span>
</code></pre></div> <p>Vous permet de définir la base de données actuelle pour la session.<br> La base de données actuelle est utilisée pour rechercher des tables si la base de données n'est pas explicitement définie dans la requête avec un point avant le nom de la table.<br> Cette requête ne peut pas être faite lors de l'utilisation du protocole HTTP, car il n'y a pas de concept de session.</p> <p><a href=https://clickhouse.tech/docs/en/query_language/misc/ target=_blank>Article Original</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/fr/sql-reference/statements/misc/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 