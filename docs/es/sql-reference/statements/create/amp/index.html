<!doctype html><html ⚡ lang=es> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>CREATE | Documentación de ClickHouse</title><link href=https://clickhouse.tech/docs/es/sql-reference/statements/create/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "CREATE | Documentación de ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/es/sql-reference/statements/create/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "CREATE | Documentación de ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,main{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}dt{font-weight:700}b{font-weight:bolder}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}template{display:none}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-primary{background-color:#b8daff}.table-info{background-color:#bee5eb}.table-warning{background-color:#ffeeba}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-dark{color:#fff;background-color:#343a40}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media(min-width:576px){.form-inline .form-group{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline .custom-select{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.btn-group{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group>.btn:hover{z-index:1}.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning .alert-link{color:#533f03}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-info{background-color:#17a2b8}a.bg-info:focus,a.bg-info:hover{background-color:#117a8b}.bg-warning{background-color:#ffc107}a.bg-warning:focus,a.bg-warning:hover{background-color:#d39e00}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-info{color:#17a2b8}a.text-info:focus,a.text-info:hover{color:#0f6674}.text-warning{color:#ffc107}a.text-warning:focus,a.text-warning:hover{color:#ba8b00}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media(max-width:768px){#search-form{width:50%}}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body.blog,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .nb{color:#2f1e2e}.syntax .no{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .mi{color:#08f}.syntax .mo{color:#08f}.syntax .s2{color:#48b685}.syntax .se{color:#08f}.syntax .si{color:#08f}.syntax .s1{color:#080}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .nb{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/sql-reference/statements/create/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql-reference/statements/create.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=create-queries>CREATE Consultas<a class=headerlink href=../amp/#create-queries title="Permanent link"> </a></h1> <h2 id=query-language-create-database>CREATE DATABASE<a class=headerlink href=../amp/#query-language-create-database title="Permanent link"> </a></h2> <p>Crea una base de datos.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>DATABASE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>db_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>(...)]</span>
</code></pre></div> <h3 id=clauses>Clausula<a class=headerlink href=../amp/#clauses title="Permanent link"> </a></h3> <ul> <li> <p><code class=syntax>IF NOT EXISTS</code><br> Si el <code class=syntax>db_name</code> base de datos ya existe, entonces ClickHouse no crea una nueva base de datos y:</p> <ul> <li>No lanza una excepción si se especifica una cláusula.</li> <li>Lanza una excepción si no se especifica la cláusula.</li> </ul> </li> <li> <p><code class=syntax>ON CLUSTER</code><br> ClickHouse crea el <code class=syntax>db_name</code> base de datos en todos los servidores de un clúster especificado.</p> </li> <li> <p><code class=syntax>ENGINE</code></p> <ul> <li><a href=../../../../engines/database-engines/mysql/amp/ >MySQL</a><br> Le permite recuperar datos del servidor MySQL remoto.<br> De forma predeterminada, ClickHouse usa su propio <a href=../../../../engines/database-engines/amp/ >motor de base de datos</a>.</li> </ul> </li> </ul> <h2 id=create-table-query>CREATE TABLE<a class=headerlink href=../amp/#create-table-query title="Permanent link"> </a></h2> <p>El <code class=syntax>CREATE TABLE</code> consulta puede tener varias formas.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>]</span> <span class=p>[</span><span class=n>compression_codec</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=n>name2</span> <span class=p>[</span><span class=n>type2</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr2</span><span class=p>]</span> <span class=p>[</span><span class=n>compression_codec</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span> <span class=n>expr2</span><span class=p>],</span>
    <span class=p>...</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span>
</code></pre></div> <p>Crea una tabla llamada ‘name’ en el ‘db’ base de datos o la base de datos actual si ‘db’ no está establecida, con la estructura especificada entre paréntesis y ‘engine’ motor.<br> La estructura de la tabla es una lista de descripciones de columnas. Si los índices son compatibles con el motor, se indican como parámetros para el motor de tablas.</p> <p>Una descripción de columna es <code class=syntax>name type</code> en el caso más simple. Ejemplo: <code class=syntax>RegionID UInt32</code>.<br> Las expresiones también se pueden definir para los valores predeterminados (ver más abajo).</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=k>AS</span> <span class=p>[</span><span class=n>db2</span><span class=p>.]</span><span class=n>name2</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>]</span>
</code></pre></div> <p>Crea una tabla con la misma estructura que otra tabla. Puede especificar un motor diferente para la tabla. Si no se especifica el motor, se utilizará el mismo motor que para el <code class=syntax>db2.name2</code> tabla.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=k>AS</span> <span class=n>table_function</span><span class=p>()</span>
</code></pre></div> <p>Crea una tabla con la estructura y los datos <a href=../../../table-functions/amp/#table-functions>función de la tabla</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</code></pre></div> <p>Crea una tabla con una estructura como el resultado de la <code class=syntax>SELECT</code> consulta, con el ‘engine’ motor, y lo llena con datos de SELECT.</p> <p>En todos los casos, si <code class=syntax>IF NOT EXISTS</code> se especifica, la consulta no devolverá un error si la tabla ya existe. En este caso, la consulta no hará nada.</p> <p>Puede haber otras cláusulas después del <code class=syntax>ENGINE</code> cláusula en la consulta. Consulte la documentación detallada sobre cómo crear tablas en las descripciones de <a href=../../../../engines/table-engines/amp/#table_engines>motores de mesa</a>.</p> <h3 id=create-default-values>Valores predeterminados<a class=headerlink href=../amp/#create-default-values title="Permanent link"> </a></h3> <p>La descripción de la columna puede especificar una expresión para un valor predeterminado, de una de las siguientes maneras:<code class=syntax>DEFAULT expr</code>, <code class=syntax>MATERIALIZED expr</code>, <code class=syntax>ALIAS expr</code>.<br> Ejemplo: <code class=syntax>URLDomain String DEFAULT domain(URL)</code>.</p> <p>Si no se define una expresión para el valor predeterminado, los valores predeterminados se establecerán en ceros para números, cadenas vacías para cadenas, matrices vacías para matrices y <code class=syntax>1970-01-01</code> para fechas o zero unix timestamp para las fechas con el tiempo. Los NULL no son compatibles.</p> <p>Si se define la expresión predeterminada, el tipo de columna es opcional. Si no hay un tipo definido explícitamente, se utiliza el tipo de expresión predeterminado. Ejemplo: <code class=syntax>EventDate DEFAULT toDate(EventTime)</code> – the ‘Date’ tipo será utilizado para el ‘EventDate’ columna.</p> <p>Si el tipo de datos y la expresión predeterminada se definen explícitamente, esta expresión se convertirá al tipo especificado utilizando funciones de conversión de tipos. Ejemplo: <code class=syntax>Hits UInt32 DEFAULT 0</code> significa lo mismo que <code class=syntax>Hits UInt32 DEFAULT toUInt32(0)</code>.</p> <p>Default expressions may be defined as an arbitrary expression from table constants and columns. When creating and changing the table structure, it checks that expressions don't contain loops. For INSERT, it checks that expressions are resolvable – that all columns they can be calculated from have been passed.</p> <p><code class=syntax>DEFAULT expr</code></p> <p>Valor predeterminado Normal. Si la consulta INSERT no especifica la columna correspondiente, se completará calculando la expresión correspondiente.</p> <p><code class=syntax>MATERIALIZED expr</code></p> <p>Expresión materializada. Dicha columna no se puede especificar para INSERT, porque siempre se calcula.<br> Para un INSERT sin una lista de columnas, estas columnas no se consideran.<br> Además, esta columna no se sustituye cuando se utiliza un asterisco en una consulta SELECT. Esto es para preservar el invariante que el volcado obtuvo usando <code class=syntax>SELECT *</code> se puede volver a insertar en la tabla usando INSERT sin especificar la lista de columnas.</p> <p><code class=syntax>ALIAS expr</code></p> <p>Sinónimo. Tal columna no se almacena en la tabla en absoluto.<br> Sus valores no se pueden insertar en una tabla, y no se sustituye cuando se usa un asterisco en una consulta SELECT.<br> Se puede usar en SELECT si el alias se expande durante el análisis de consultas.</p> <p>Cuando se utiliza la consulta ALTER para agregar nuevas columnas, no se escriben datos antiguos para estas columnas. En su lugar, al leer datos antiguos que no tienen valores para las nuevas columnas, las expresiones se calculan sobre la marcha de forma predeterminada. Sin embargo, si la ejecución de las expresiones requiere diferentes columnas que no están indicadas en la consulta, estas columnas se leerán adicionalmente, pero solo para los bloques de datos que lo necesitan.</p> <p>Si agrega una nueva columna a una tabla pero luego cambia su expresión predeterminada, los valores utilizados para los datos antiguos cambiarán (para los datos donde los valores no se almacenaron en el disco). Tenga en cuenta que cuando se ejecutan combinaciones en segundo plano, los datos de las columnas que faltan en una de las partes de combinación se escriben en la parte combinada.</p> <p>No es posible establecer valores predeterminados para elementos en estructuras de datos anidadas.</p> <h3 id=constraints>Limitación<a class=headerlink href=../amp/#constraints title="Permanent link"> </a></h3> <p>Junto con las descripciones de columnas, se podrían definir restricciones:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>]</span> <span class=p>[</span><span class=n>compression_codec</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=p>...</span>
    <span class=k>CONSTRAINT</span> <span class=n>constraint_name_1</span> <span class=k>CHECK</span> <span class=n>boolean_expr_1</span><span class=p>,</span>
    <span class=p>...</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span>
</code></pre></div> <p><code class=syntax>boolean_expr_1</code> podría por cualquier expresión booleana. Si se definen restricciones para la tabla, cada una de ellas se verificará para cada fila en <code class=syntax>INSERT</code> query. If any constraint is not satisfied — server will raise an exception with constraint name and checking expression.</p> <p>Agregar una gran cantidad de restricciones puede afectar negativamente el rendimiento de grandes <code class=syntax>INSERT</code> consulta.</p> <h3 id=ttl-expression>Expresión TTL<a class=headerlink href=../amp/#ttl-expression title="Permanent link"> </a></h3> <p>Define el tiempo de almacenamiento de los valores. Solo se puede especificar para tablas de la familia MergeTree. Para la descripción detallada, ver <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-ttl>TTL para columnas y tablas</a>.</p> <h3 id=codecs>Códecs de compresión de columna<a class=headerlink href=../amp/#codecs title="Permanent link"> </a></h3> <p>De forma predeterminada, ClickHouse aplica el <code class=syntax>lz4</code> método de compresión. Para <code class=syntax>MergeTree</code>- familia de motor puede cambiar el método de compresión predeterminado en el <a href=../../../../operations/server-configuration-parameters/settings/amp/#server-settings-compression>compresión</a> sección de una configuración de servidor. También puede definir el método de compresión para cada columna <code class=syntax>CREATE TABLE</code> consulta.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>codec_example</span>
<span class=p>(</span>
    <span class=n>dt</span> <span class=nb>Date</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>ZSTD</span><span class=p>),</span>
    <span class=n>ts</span> <span class=n>DateTime</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>LZ4HC</span><span class=p>),</span>
    <span class=n>float_value</span> <span class=n>Float32</span> <span class=n>CODEC</span><span class=p>(</span><span class=k>NONE</span><span class=p>),</span>
    <span class=n>double_value</span> <span class=n>Float64</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>LZ4HC</span><span class=p>(</span><span class=mi>9</span><span class=p>))</span>
    <span class=n>value</span> <span class=n>Float32</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>Delta</span><span class=p>,</span> <span class=n>ZSTD</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=o>&lt;</span><span class=n>Engine</span><span class=o>&gt;</span>
<span class=p>...</span>
</code></pre></div> <p>Si se especifica un códec, el códec predeterminado no se aplica. Los códecs se pueden combinar en una tubería, por ejemplo, <code class=syntax>CODEC(Delta, ZSTD)</code>. Para seleccionar la mejor combinación de códecs para su proyecto, pase puntos de referencia similares a los descritos en Altinity <a href=https://www.altinity.com/blog/2019/7/new-encodings-to-improve-clickhouse rel="external nofollow noreferrer" target=_blank>Nuevas codificaciones para mejorar la eficiencia de ClickHouse</a> artículo.</p> <div class="admonition warning alert pb-0 mb-4 alert-warning" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Advertencia</p> <p>No puede descomprimir archivos de base de datos ClickHouse con utilidades externas como <code class=syntax>lz4</code>. En su lugar, use el especial <a class=alert-link href=https://github.com/ClickHouse/ClickHouse/tree/master/programs/compressor rel="external nofollow noreferrer" target=_blank>Compresor de clickhouse</a> utilidad.</p> </div> <p>La compresión es compatible con los siguientes motores de tablas:</p> <ul> <li><a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ >Método de codificación de datos:</a> familia. Admite códecs de compresión de columnas y selecciona el método de compresión predeterminado mediante <a href=../../../../operations/server-configuration-parameters/settings/amp/#server-settings-compression>compresión</a> configuración.</li> <li><a href=../../../../engines/table-engines/log-family/amp/ >Registro</a> familia. Utiliza el <code class=syntax>lz4</code> método de compresión por defecto y soporta códecs de compresión de columna.</li> <li><a href=../../../../engines/table-engines/special/set/amp/ >Establecer</a>. Solo admite la compresión predeterminada.</li> <li><a href=../../../../engines/table-engines/special/join/amp/ >Unir</a>. Solo admite la compresión predeterminada.</li> </ul> <p>ClickHouse admite códecs de propósito común y códecs especializados.</p> <h4 id=create-query-specialized-codecs>Especializados Codecs<a class=headerlink href=../amp/#create-query-specialized-codecs title="Permanent link"> </a></h4> <p>Estos códecs están diseñados para hacer que la compresión sea más efectiva mediante el uso de características específicas de los datos. Algunos de estos códecs no comprimen los datos por sí mismos. En su lugar, preparan los datos para un códec de propósito común, que lo comprime mejor que sin esta preparación.</p> <p>Especializados codecs:</p> <ul> <li><code class=syntax>Delta(delta_bytes)</code> — Compression approach in which raw values are replaced by the difference of two neighboring values, except for the first value that stays unchanged. Up to <code class=syntax>delta_bytes</code> se utilizan para almacenar valores delta, por lo que <code class=syntax>delta_bytes</code> es el tamaño máximo de los valores brutos. Posible <code class=syntax>delta_bytes</code> valores: 1, 2, 4, 8. El valor predeterminado para <code class=syntax>delta_bytes</code> ser <code class=syntax>sizeof(type)</code> si es igual a 1, 2, 4 u 8. En todos los demás casos, es 1.</li> <li><code class=syntax>DoubleDelta</code> — Calculates delta of deltas and writes it in compact binary form. Optimal compression rates are achieved for monotonic sequences with a constant stride, such as time series data. Can be used with any fixed-width type. Implements the algorithm used in Gorilla TSDB, extending it to support 64-bit types. Uses 1 extra bit for 32-byte deltas: 5-bit prefixes instead of 4-bit prefixes. For additional information, see Compressing Time Stamps in <a href=http://www.vldb.org/pvldb/vol8/p1816-teller.pdf rel="external nofollow noreferrer" target=_blank>Gorila: Una base de datos de series temporales rápida, escalable y en memoria</a>.</li> <li><code class=syntax>Gorilla</code> — Calculates XOR between current and previous value and writes it in compact binary form. Efficient when storing a series of floating point values that change slowly, because the best compression rate is achieved when neighboring values are binary equal. Implements the algorithm used in Gorilla TSDB, extending it to support 64-bit types. For additional information, see Compressing Values in <a href=http://www.vldb.org/pvldb/vol8/p1816-teller.pdf rel="external nofollow noreferrer" target=_blank>Gorila: Una base de datos de series temporales rápida, escalable y en memoria</a>.</li> <li><code class=syntax>T64</code> — Compression approach that crops unused high bits of values in integer data types (including <code class=syntax>Enum</code>, <code class=syntax>Date</code> y <code class=syntax>DateTime</code>). En cada paso de su algoritmo, el códec toma un bloque de 64 valores, los coloca en una matriz de 64x64 bits, lo transpone, recorta los bits de valores no utilizados y devuelve el resto como una secuencia. Los bits no utilizados son los bits, que no difieren entre los valores máximo y mínimo en toda la parte de datos para la que se utiliza la compresión.</li> </ul> <p><code class=syntax>DoubleDelta</code> y <code class=syntax>Gorilla</code> códecs se utilizan en Gorilla TSDB como los componentes de su algoritmo de compresión. El enfoque de gorila es efectivo en escenarios en los que hay una secuencia de valores que cambian lentamente con sus marcas de tiempo. Las marcas de tiempo se comprimen efectivamente por el <code class=syntax>DoubleDelta</code> códec, y los valores son efectivamente comprimidos por el <code class=syntax>Gorilla</code> códec. Por ejemplo, para obtener una tabla almacenada efectivamente, puede crearla en la siguiente configuración:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>codec_example</span>
<span class=p>(</span>
    <span class=k>timestamp</span> <span class=n>DateTime</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>DoubleDelta</span><span class=p>),</span>
    <span class=n>slow_values</span> <span class=n>Float32</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>Gorilla</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span><span class=p>()</span>
</code></pre></div> <h4 id=create-query-general-purpose-codecs>Códecs de uso general<a class=headerlink href=../amp/#create-query-general-purpose-codecs title="Permanent link"> </a></h4> <p>Códecs:</p> <ul> <li><code class=syntax>NONE</code> — No compression.</li> <li><code class=syntax>LZ4</code> — Lossless <a href=https://github.com/lz4/lz4 rel="external nofollow noreferrer" target=_blank>algoritmo de compresión de datos</a> utilizado por defecto. Aplica compresión rápida LZ4.</li> <li><code class=syntax>LZ4HC[(level)]</code> — LZ4 HC (high compression) algorithm with configurable level. Default level: 9. Setting <code class=syntax>level &lt;= 0</code> aplica el nivel predeterminado. Niveles posibles: [1, 12]. Rango de nivel recomendado: [4, 9].</li> <li><code class=syntax>ZSTD[(level)]</code> — <a href=https://en.wikipedia.org/wiki/Zstandard rel="external nofollow noreferrer" target=_blank>Algoritmo de compresión ZSTD</a> con configurable <code class=syntax>level</code>. Niveles posibles: [1, 22]. Valor predeterminado: 1.</li> </ul> <p>Los altos niveles de compresión son útiles para escenarios asimétricos, como comprimir una vez, descomprimir repetidamente. Los niveles más altos significan una mejor compresión y un mayor uso de la CPU.</p> <h2 id=temporary-tables>Tablas temporales<a class=headerlink href=../amp/#temporary-tables title="Permanent link"> </a></h2> <p>ClickHouse admite tablas temporales que tienen las siguientes características:</p> <ul> <li>Las tablas temporales desaparecen cuando finaliza la sesión, incluso si se pierde la conexión.</li> <li>Una tabla temporal solo utiliza el motor de memoria.</li> <li>No se puede especificar la base de datos para una tabla temporal. Se crea fuera de las bases de datos.</li> <li>Imposible crear una tabla temporal con consulta DDL distribuida en todos los servidores de clúster (mediante <code class=syntax>ON CLUSTER</code>): esta tabla sólo existe en la sesión actual.</li> <li>Si una tabla temporal tiene el mismo nombre que otra y una consulta especifica el nombre de la tabla sin especificar la base de datos, se utilizará la tabla temporal.</li> <li>Para el procesamiento de consultas distribuidas, las tablas temporales utilizadas en una consulta se pasan a servidores remotos.</li> </ul> <p>Para crear una tabla temporal, utilice la siguiente sintaxis:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TEMPORARY</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=k>table_name</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=n>name2</span> <span class=p>[</span><span class=n>type2</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr2</span><span class=p>],</span>
    <span class=p>...</span>
<span class=p>)</span>
</code></pre></div> <p>En la mayoría de los casos, las tablas temporales no se crean manualmente, sino cuando se utilizan datos externos para una consulta o para <code class=syntax>(GLOBAL) IN</code>. Para obtener más información, consulte las secciones correspondientes</p> <p>Es posible usar tablas con <a href=../../../../engines/table-engines/special/memory/amp/ >MOTOR = Memoria</a> en lugar de tablas temporales.</p> <h2 id=distributed-ddl-queries-on-cluster-clause>Consultas DDL distribuidas (cláusula ON CLUSTER)<a class=headerlink href=../amp/#distributed-ddl-queries-on-cluster-clause title="Permanent link"> </a></h2> <p>El <code class=syntax>CREATE</code>, <code class=syntax>DROP</code>, <code class=syntax>ALTER</code>, y <code class=syntax>RENAME</code> las consultas admiten la ejecución distribuida en un clúster.<br> Por ejemplo, la siguiente consulta crea el <code class=syntax>all_hits</code> <code class=syntax>Distributed</code> la tabla en cada host <code class=syntax>cluster</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>all_hits</span> <span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span> <span class=p>(</span><span class=n>p</span> <span class=nb>Date</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Distributed</span><span class=p>(</span><span class=k>cluster</span><span class=p>,</span> <span class=k>default</span><span class=p>,</span> <span class=n>hits</span><span class=p>)</span>
</code></pre></div> <p>Para ejecutar estas consultas correctamente, cada host debe tener la misma definición de clúster (para simplificar la sincronización de configuraciones, puede usar sustituciones de ZooKeeper). También deben conectarse a los servidores ZooKeeper.<br> La versión local de la consulta finalmente se implementará en cada host del clúster, incluso si algunos hosts no están disponibles actualmente. El orden para ejecutar consultas dentro de un único host está garantizado.</p> <h2 id=create-view>CREATE VIEW<a class=headerlink href=../amp/#create-view title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=p>[</span><span class=n>MATERIALIZED</span><span class=p>]</span> <span class=k>VIEW</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>TO</span><span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span><span class=p>]</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>]</span> <span class=p>[</span><span class=n>POPULATE</span><span class=p>]</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</code></pre></div> <p>Crea una vista. Hay dos tipos de vistas: normal y MATERIALIZADO.</p> <p>Las vistas normales no almacenan ningún dato, solo realizan una lectura desde otra tabla. En otras palabras, una vista normal no es más que una consulta guardada. Al leer desde una vista, esta consulta guardada se utiliza como una subconsulta en la cláusula FROM.</p> <p>Como ejemplo, suponga que ha creado una vista:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>VIEW</span> <span class=k>view</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</code></pre></div> <p>y escribió una consulta:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=k>c</span> <span class=k>FROM</span> <span class=k>view</span>
</code></pre></div> <p>Esta consulta es totalmente equivalente a usar la subconsulta:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=k>c</span> <span class=k>FROM</span> <span class=p>(</span><span class=k>SELECT</span> <span class=p>...)</span>
</code></pre></div> <p>Las vistas materializadas almacenan datos transformados por la consulta SELECT correspondiente.</p> <p>Al crear una vista materializada sin <code class=syntax>TO [db].[table]</code>, you must specify ENGINE – the table engine for storing data.</p> <p>Al crear una vista materializada con <code class=syntax>TO [db].[table]</code> usted no debe usar <code class=syntax>POPULATE</code>.</p> <p>Una vista materializada se organiza de la siguiente manera: al insertar datos en la tabla especificada en SELECT, parte de los datos insertados se convierte mediante esta consulta SELECT y el resultado se inserta en la vista.</p> <p>Si especifica POPULATE, los datos de tabla existentes se insertan en la vista al crearlos, como si <code class=syntax>CREATE TABLE ... AS SELECT ...</code> . De lo contrario, la consulta solo contiene los datos insertados en la tabla después de crear la vista. No recomendamos usar POPULATE, ya que los datos insertados en la tabla durante la creación de la vista no se insertarán en ella.</p> <p>A <code class=syntax>SELECT</code> consulta puede contener <code class=syntax>DISTINCT</code>, <code class=syntax>GROUP BY</code>, <code class=syntax>ORDER BY</code>, <code class=syntax>LIMIT</code>… Note that the corresponding conversions are performed independently on each block of inserted data. For example, if <code class=syntax>GROUP BY</code> se establece, los datos se agregan durante la inserción, pero solo dentro de un solo paquete de datos insertados. Los datos no se agregarán más. La excepción es cuando se utiliza un ENGINE que realiza de forma independiente la agregación de datos, como <code class=syntax>SummingMergeTree</code>.</p> <p>La ejecución de <code class=syntax>ALTER</code> las consultas sobre vistas materializadas no se han desarrollado completamente, por lo que podrían ser inconvenientes. Si la vista materializada utiliza la construcción <code class=syntax>TO [db.]name</code> puede <code class=syntax>DETACH</code> la vista, ejecutar <code class=syntax>ALTER</code> para la tabla de destino, y luego <code class=syntax>ATTACH</code> el previamente separado (<code class=syntax>DETACH</code>) vista.</p> <p>Las vistas tienen el mismo aspecto que las tablas normales. Por ejemplo, se enumeran en el resultado de la <code class=syntax>SHOW TABLES</code> consulta.</p> <p>No hay una consulta separada para eliminar vistas. Para eliminar una vista, utilice <code class=syntax>DROP TABLE</code>.</p> <h2 id=create-dictionary-query>CREATE DICTIONARY<a class=headerlink href=../amp/#create-dictionary-query title="Permanent link"> </a></h2> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>DICTIONARY</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>dictionary_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>key1</span> <span class=n>type1</span>  <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr1</span><span class=p>]</span> <span class=p>[</span><span class=n>HIERARCHICAL</span><span class=o>|</span><span class=n>INJECTIVE</span><span class=o>|</span><span class=n>IS_OBJECT_ID</span><span class=p>],</span>
    <span class=n>key2</span> <span class=n>type2</span>  <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr2</span><span class=p>]</span> <span class=p>[</span><span class=n>HIERARCHICAL</span><span class=o>|</span><span class=n>INJECTIVE</span><span class=o>|</span><span class=n>IS_OBJECT_ID</span><span class=p>],</span>
    <span class=n>attr1</span> <span class=n>type2</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr3</span><span class=p>],</span>
    <span class=n>attr2</span> <span class=n>type2</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr4</span><span class=p>]</span>
<span class=p>)</span>
<span class=k>PRIMARY</span> <span class=k>KEY</span> <span class=n>key1</span><span class=p>,</span> <span class=n>key2</span>
<span class=k>SOURCE</span><span class=p>(</span><span class=n>SOURCE_NAME</span><span class=p>([</span><span class=n>param1</span> <span class=n>value1</span> <span class=p>...</span> <span class=n>paramN</span> <span class=n>valueN</span><span class=p>]))</span>
<span class=n>LAYOUT</span><span class=p>(</span><span class=n>LAYOUT_NAME</span><span class=p>([</span><span class=n>param_name</span> <span class=n>param_value</span><span class=p>]))</span>
<span class=n>LIFETIME</span><span class=p>(</span><span class=err>{</span><span class=k>MIN</span> <span class=n>min_val</span> <span class=k>MAX</span> <span class=n>max_val</span> <span class=o>|</span> <span class=n>max_val</span><span class=err>}</span><span class=p>)</span>
</code></pre></div> <p>Crear <a href=../../../dictionaries/external-dictionaries/external-dicts/amp/ >diccionario externo</a> con dado <a href=../../../dictionaries/external-dictionaries/external-dicts-dict-structure/amp/ >estructura</a>, <a href=../../../dictionaries/external-dictionaries/external-dicts-dict-sources/amp/ >fuente</a>, <a href=../../../dictionaries/external-dictionaries/external-dicts-dict-layout/amp/ >diseño</a> y <a href=../../../dictionaries/external-dictionaries/external-dicts-dict-lifetime/amp/ >vida</a>.</p> <p>La estructura del diccionario externo consta de atributos. Los atributos de diccionario se especifican de manera similar a las columnas de la tabla. La única propiedad de atributo requerida es su tipo, todas las demás propiedades pueden tener valores predeterminados.</p> <p>Dependiendo del diccionario <a href=../../../dictionaries/external-dictionaries/external-dicts-dict-layout/amp/ >diseño</a> se pueden especificar uno o más atributos como claves de diccionario.</p> <p>Para obtener más información, consulte <a href=../../../dictionaries/external-dictionaries/external-dicts/amp/ >Diccionarios externos</a> apartado.</p> <h2 id=create-user-statement>CREATE USER<a class=headerlink href=../amp/#create-user-statement title="Permanent link"> </a></h2> <p>Crea un <a href=../../../../operations/access-rights/amp/#user-account-management>cuenta de usuario</a>.</p> <h3 id=create-user-syntax>Sintaxis<a class=headerlink href=../amp/#create-user-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>USER</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=o>|</span> <span class=k>OR</span> <span class=k>REPLACE</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>IDENTIFIED</span> <span class=p>[</span><span class=k>WITH</span> <span class=err>{</span><span class=n>NO_PASSWORD</span><span class=o>|</span><span class=n>PLAINTEXT_PASSWORD</span><span class=o>|</span><span class=n>SHA256_PASSWORD</span><span class=o>|</span><span class=n>SHA256_HASH</span><span class=o>|</span><span class=n>DOUBLE_SHA1_PASSWORD</span><span class=o>|</span><span class=n>DOUBLE_SHA1_HASH</span><span class=err>}</span><span class=p>]</span> <span class=k>BY</span> <span class=err>{</span><span class=s1>'password'</span><span class=o>|</span><span class=s1>'hash'</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>HOST</span> <span class=err>{</span><span class=k>LOCAL</span> <span class=o>|</span> <span class=n>NAME</span> <span class=s1>'name'</span> <span class=o>|</span> <span class=n>REGEXP</span> <span class=s1>'name_regexp'</span> <span class=o>|</span> <span class=n>IP</span> <span class=s1>'address'</span> <span class=o>|</span> <span class=k>LIKE</span> <span class=s1>'pattern'</span><span class=err>}</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ANY</span> <span class=o>|</span> <span class=k>NONE</span><span class=p>]</span>
    <span class=p>[</span><span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>role</span> <span class=p>[,...]]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>PROFILE</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h4 id=identification>Identificación<a class=headerlink href=../amp/#identification title="Permanent link"> </a></h4> <p>Hay múltiples formas de identificación del usuario:</p> <ul> <li><code class=syntax>IDENTIFIED WITH no_password</code></li> <li><code class=syntax>IDENTIFIED WITH plaintext_password BY 'qwerty'</code></li> <li><code class=syntax>IDENTIFIED WITH sha256_password BY 'qwerty'</code> o <code class=syntax>IDENTIFIED BY 'password'</code></li> <li><code class=syntax>IDENTIFIED WITH sha256_hash BY 'hash'</code></li> <li><code class=syntax>IDENTIFIED WITH double_sha1_password BY 'qwerty'</code></li> <li><code class=syntax>IDENTIFIED WITH double_sha1_hash BY 'hash'</code></li> </ul> <h4 id=user-host>Anfitrión del usuario<a class=headerlink href=../amp/#user-host title="Permanent link"> </a></h4> <p>El host de usuario es un host desde el que se podría establecer una conexión con el servidor ClickHouse. El host se puede especificar en el <code class=syntax>HOST</code> sección de consulta de las siguientes maneras:</p> <ul> <li><code class=syntax>HOST IP 'ip_address_or_subnetwork'</code> — User can connect to ClickHouse server only from the specified IP address or a <a href=https://en.wikipedia.org/wiki/Subnetwork rel="external nofollow noreferrer" target=_blank>subred</a>. Ejemplos: <code class=syntax>HOST IP '192.168.0.0/16'</code>, <code class=syntax>HOST IP '2001:DB8::/32'</code>. Para su uso en producción, sólo especifique <code class=syntax>HOST IP</code> elementos (direcciones IP y sus máscaras), ya que usan <code class=syntax>host</code> y <code class=syntax>host_regexp</code> podría causar latencia adicional.</li> <li><code class=syntax>HOST ANY</code> — User can connect from any location. This is default option.</li> <li><code class=syntax>HOST LOCAL</code> — User can connect only locally.</li> <li><code class=syntax>HOST NAME 'fqdn'</code> — User host can be specified as FQDN. For example, <code class=syntax>HOST NAME 'mysite.com'</code>.</li> <li><code class=syntax>HOST NAME REGEXP 'regexp'</code> — You can use <a href=http://www.pcre.org/ rel="external nofollow noreferrer" target=_blank>pcre</a> expresiones regulares al especificar hosts de usuario. Por ejemplo, <code class=syntax>HOST NAME REGEXP '.*\.mysite\.com'</code>.</li> <li><code class=syntax>HOST LIKE 'template'</code> — Allows you use the <a href=../../../functions/string-search-functions/amp/#function-like>LIKE</a> operador para filtrar los hosts de usuario. Por ejemplo, <code class=syntax>HOST LIKE '%'</code> es equivalente a <code class=syntax>HOST ANY</code>, <code class=syntax>HOST LIKE '%.mysite.com'</code> filtros todos los anfitriones en el <code class=syntax>mysite.com</code> dominio.</li> </ul> <p>Otra forma de especificar el host es usar <code class=syntax>@</code> sintaxis con el nombre de usuario. Ejemplos:</p> <ul> <li><code class=syntax>CREATE USER mira@'127.0.0.1'</code> — Equivalent to the <code class=syntax>HOST IP</code> sintaxis.</li> <li><code class=syntax>CREATE USER mira@'localhost'</code> — Equivalent to the <code class=syntax>HOST LOCAL</code> sintaxis.</li> <li><code class=syntax>CREATE USER mira@'192.168.%.%'</code> — Equivalent to the <code class=syntax>HOST LIKE</code> sintaxis.</li> </ul> <div class="admonition info alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Advertencia</p> <p>ClickHouse trata <code class=syntax>user_name@'address'</code> como un nombre de usuario en su conjunto. Por lo tanto, técnicamente puede crear múltiples usuarios con <code class=syntax>user_name</code> y diferentes construcciones después <code class=syntax>@</code>. No recomendamos hacerlo.</p> </div> <h3 id=create-user-examples>Ejemplos<a class=headerlink href=../amp/#create-user-examples title="Permanent link"> </a></h3> <p>Crear la cuenta de usuario <code class=syntax>mira</code> protegido por la contraseña <code class=syntax>qwerty</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>USER</span> <span class=n>mira</span> <span class=k>HOST</span> <span class=n>IP</span> <span class=s1>'127.0.0.1'</span> <span class=n>IDENTIFIED</span> <span class=k>WITH</span> <span class=n>sha256_password</span> <span class=k>BY</span> <span class=s1>'qwerty'</span>
</code></pre></div> <p><code class=syntax>mira</code> debe iniciar la aplicación cliente en el host donde se ejecuta el servidor ClickHouse.</p> <p>Crear la cuenta de usuario <code class=syntax>john</code>, asignarle roles y hacer que estos roles sean predeterminados:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>USER</span> <span class=n>john</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span>
</code></pre></div> <p>Crear la cuenta de usuario <code class=syntax>john</code> y hacer todos sus roles futuros por defecto:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span>
</code></pre></div> <p>Cuando se asignará algún rol a <code class=syntax>john</code> en el futuro se convertirá en predeterminado automáticamente.</p> <p>Crear la cuenta de usuario <code class=syntax>john</code> y hacer todos sus futuros roles por defecto excepto <code class=syntax>role1</code> y <code class=syntax>role2</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=n>john</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span>
</code></pre></div> <h2 id=create-role-statement>CREATE ROLE<a class=headerlink href=../amp/#create-role-statement title="Permanent link"> </a></h2> <p>Crea un <a href=../../../../operations/access-rights/amp/#role-management>rol</a>.</p> <h3 id=create-role-syntax>Sintaxis<a class=headerlink href=../amp/#create-role-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>ROLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=o>|</span> <span class=k>OR</span> <span class=k>REPLACE</span><span class=p>]</span> <span class=n>name</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>PROFILE</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h3 id=create-role-description>Descripci<a class=headerlink href=../amp/#create-role-description title="Permanent link"> </a></h3> <p>El rol es un conjunto de <a href=../../grant/amp/#grant-privileges>privilegio</a>. Un usuario concedido con un rol obtiene todos los privilegios de este rol.</p> <p>A un usuario se le pueden asignar varios roles. Los usuarios pueden aplicar sus roles otorgados en combinaciones arbitrarias por el <a href=../../misc/amp/#set-role-statement>SET ROLE</a> instrucción. El ámbito final de los privilegios es un conjunto combinado de todos los privilegios de todos los roles aplicados. Si un usuario tiene privilegios otorgados directamente a su cuenta de usuario, también se combinan con los privilegios otorgados por roles.</p> <p>El usuario puede tener roles predeterminados que se aplican al iniciar sesión del usuario. Para establecer roles predeterminados, utilice el <a href=../../misc/amp/#set-default-role-statement>SET DEFAULT ROLE</a> declaración o el <a href=../../alter/amp/#alter-user-statement>ALTER USER</a> instrucción.</p> <p>Para revocar un rol, utilice el <a href=../../revoke/amp/ >REVOKE</a> instrucción.</p> <p>Para eliminar el rol, utilice el <a href=../../misc/amp/#drop-role-statement>DROP ROLE</a> instrucción. El rol eliminado se revoca automáticamente de todos los usuarios y roles a los que se concedió.</p> <h3 id=create-role-examples>Ejemplos<a class=headerlink href=../amp/#create-role-examples title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>ROLE</span> <span class=n>accountant</span><span class=p>;</span>
<span class=k>GRANT</span> <span class=k>SELECT</span> <span class=k>ON</span> <span class=n>db</span><span class=p>.</span><span class=o>*</span> <span class=k>TO</span> <span class=n>accountant</span><span class=p>;</span>
</code></pre></div> <p>Esta secuencia de consultas crea el rol <code class=syntax>accountant</code> que tiene el privilegio de leer datos del <code class=syntax>accounting</code> base.</p> <p>Conceder el rol al usuario <code class=syntax>mira</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>GRANT</span> <span class=n>accountant</span> <span class=k>TO</span> <span class=n>mira</span><span class=p>;</span>
</code></pre></div> <p>Después de conceder el rol, el usuario puede usarlo y realizar las consultas permitidas. Por ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=k>ROLE</span> <span class=n>accountant</span><span class=p>;</span>
<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>db</span><span class=p>.</span><span class=o>*</span><span class=p>;</span>
</code></pre></div> <h2 id=create-row-policy-statement>CREATE ROW POLICY<a class=headerlink href=../amp/#create-row-policy-statement title="Permanent link"> </a></h2> <p>Crea un <a href=../../../../operations/access-rights/amp/#row-policy-management>filtro para filas</a> que un usuario puede leer de una tabla.</p> <h3 id=create-row-policy-syntax>Sintaxis<a class=headerlink href=../amp/#create-row-policy-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=p>[</span><span class=k>ROW</span><span class=p>]</span> <span class=n>POLICY</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=o>|</span> <span class=k>OR</span> <span class=k>REPLACE</span><span class=p>]</span> <span class=n>policy_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span> <span class=k>ON</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span>
    <span class=p>[</span><span class=k>AS</span> <span class=err>{</span><span class=n>PERMISSIVE</span> <span class=o>|</span> <span class=n>RESTRICTIVE</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>FOR</span> <span class=k>SELECT</span><span class=p>]</span>
    <span class=p>[</span><span class=k>USING</span> <span class=n>condition</span><span class=p>]</span>
    <span class=p>[</span><span class=k>TO</span> <span class=err>{</span><span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span><span class=p>]</span>
</code></pre></div> <h4 id=create-row-policy-as>Sección AS<a class=headerlink href=../amp/#create-row-policy-as title="Permanent link"> </a></h4> <p>Con esta sección puede crear políticas permisivas o restrictivas.</p> <p>La política permisiva concede acceso a las filas. Las políticas permisivas que se aplican a la misma tabla se combinan usando el valor booleano <code class=syntax>OR</code> operador. Las políticas son permisivas de forma predeterminada.</p> <p>La política restrictiva restringe el acceso a la fila. Las políticas restrictivas que se aplican a la misma tabla se combinan usando el valor booleano <code class=syntax>AND</code> operador.</p> <p>Las políticas restrictivas se aplican a las filas que pasaron los filtros permisivos. Si establece directivas restrictivas pero no directivas permisivas, el usuario no puede obtener ninguna fila de la tabla.</p> <h4 id=create-row-policy-to>Sección A<a class=headerlink href=../amp/#create-row-policy-to title="Permanent link"> </a></h4> <p>En la sección <code class=syntax>TO</code> puede dar una lista mixta de roles y usuarios, por ejemplo, <code class=syntax>CREATE ROW POLICY ... TO accountant, john@localhost</code>.</p> <p>Palabra clave <code class=syntax>ALL</code> significa todos los usuarios de ClickHouse, incluido el usuario actual. Palabras clave <code class=syntax>ALL EXCEPT</code> permitir excluir a algunos usuarios de la lista de todos los usuarios, por ejemplo <code class=syntax>CREATE ROW POLICY ... TO ALL EXCEPT accountant, john@localhost</code></p> <h3 id=examples>Ejemplos<a class=headerlink href=../amp/#examples title="Permanent link"> </a></h3> <ul> <li><code class=syntax>CREATE ROW POLICY filter ON mydb.mytable FOR SELECT USING a&lt;1000 TO accountant, john@localhost</code></li> <li><code class=syntax>CREATE ROW POLICY filter ON mydb.mytable FOR SELECT USING a&lt;1000 TO ALL EXCEPT mira</code></li> </ul> <h2 id=create-quota-statement>CREATE QUOTA<a class=headerlink href=../amp/#create-quota-statement title="Permanent link"> </a></h2> <p>Crea un <a href=../../../../operations/access-rights/amp/#quotas-management>cuota</a> que se puede asignar a un usuario o a un rol.</p> <h3 id=create-quota-syntax>Sintaxis<a class=headerlink href=../amp/#create-quota-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=n>QUOTA</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=o>|</span> <span class=k>OR</span> <span class=k>REPLACE</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>KEYED</span> <span class=k>BY</span> <span class=err>{</span><span class=s1>'none'</span> <span class=o>|</span> <span class=s1>'user name'</span> <span class=o>|</span> <span class=s1>'ip address'</span> <span class=o>|</span> <span class=s1>'client key'</span> <span class=o>|</span> <span class=s1>'client key or user name'</span> <span class=o>|</span> <span class=s1>'client key or ip address'</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>FOR</span> <span class=p>[</span><span class=n>RANDOMIZED</span><span class=p>]</span> <span class=nb>INTERVAL</span> <span class=nb>number</span> <span class=err>{</span><span class=k>SECOND</span> <span class=o>|</span> <span class=k>MINUTE</span> <span class=o>|</span> <span class=n>HOUR</span> <span class=o>|</span> <span class=k>DAY</span> <span class=o>|</span> <span class=n>WEEK</span> <span class=o>|</span> <span class=k>MONTH</span> <span class=o>|</span> <span class=n>QUARTER</span> <span class=o>|</span> <span class=k>YEAR</span><span class=err>}</span>
        <span class=err>{</span><span class=k>MAX</span> <span class=err>{</span> <span class=err>{</span><span class=n>QUERIES</span> <span class=o>|</span> <span class=n>ERRORS</span> <span class=o>|</span> <span class=k>RESULT</span> <span class=k>ROWS</span> <span class=o>|</span> <span class=k>RESULT</span> <span class=n>BYTES</span> <span class=o>|</span> <span class=k>READ</span> <span class=k>ROWS</span> <span class=o>|</span> <span class=k>READ</span> <span class=n>BYTES</span> <span class=o>|</span> <span class=n>EXECUTION</span> <span class=n>TIME</span><span class=err>}</span> <span class=o>=</span> <span class=nb>number</span> <span class=err>}</span> <span class=p>[,...]</span> <span class=o>|</span>
         <span class=k>NO</span> <span class=n>LIMITS</span> <span class=o>|</span> <span class=n>TRACKING</span> <span class=k>ONLY</span><span class=err>}</span> <span class=p>[,...]]</span>
    <span class=p>[</span><span class=k>TO</span> <span class=err>{</span><span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span><span class=p>]</span>
</code></pre></div> <h3 id=create-quota-example>Ejemplo<a class=headerlink href=../amp/#create-quota-example title="Permanent link"> </a></h3> <p>Limite el número máximo de consultas para el usuario actual con 123 consultas en una restricción de 15 meses:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=n>QUOTA</span> <span class=n>qA</span> <span class=k>FOR</span> <span class=nb>INTERVAL</span> <span class=mi>15</span> <span class=k>MONTH</span> <span class=k>MAX</span> <span class=n>QUERIES</span> <span class=mi>123</span> <span class=k>TO</span> <span class=k>CURRENT_USER</span>
</code></pre></div> <h2 id=create-settings-profile-statement>CREATE SETTINGS PROFILE<a class=headerlink href=../amp/#create-settings-profile-statement title="Permanent link"> </a></h2> <p>Crea un <a href=../../../../operations/access-rights/amp/#settings-profiles-management>perfil de configuración</a> que se puede asignar a un usuario o a un rol.</p> <h3 id=create-settings-profile-syntax>Sintaxis<a class=headerlink href=../amp/#create-settings-profile-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=n>SETTINGS</span> <span class=n>PROFILE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=o>|</span> <span class=k>OR</span> <span class=k>REPLACE</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>INHERIT</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h1 id=create-settings-profile-syntax>Ejemplo<a class=headerlink href=../amp/#create-settings-profile-syntax title="Permanent link"> </a></h1> <p>Crear el <code class=syntax>max_memory_usage_profile</code> perfil de configuración con valor y restricciones para el <code class=syntax>max_memory_usage</code> configuración. Asignarlo a <code class=syntax>robin</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=n>SETTINGS</span> <span class=n>PROFILE</span> <span class=n>max_memory_usage_profile</span> <span class=n>SETTINGS</span> <span class=n>max_memory_usage</span> <span class=o>=</span> <span class=mi>100000001</span> <span class=k>MIN</span> <span class=mi>90000000</span> <span class=k>MAX</span> <span class=mi>110000000</span> <span class=k>TO</span> <span class=n>robin</span>
</code></pre></div> <p><a href=https://clickhouse.tech/docs/en/query_language/create/ target=_blank>Artículo Original</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/es/sql-reference/statements/create/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 