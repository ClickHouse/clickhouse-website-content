<!doctype html><html ⚡ lang=en> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>Dates and Times | ClickHouse Documentation</title><link href=https://clickhouse.tech/docs/en/sql-reference/functions/date-time-functions/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Dates and Times | ClickHouse Documentation",
"mainEntityOfPage": "https://clickhouse.tech/docs/en/sql-reference/functions/date-time-functions/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Dates and Times | ClickHouse Documentation",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}b,strong{font-weight:bolder}sub{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}th{text-align:inherit}input,select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}input{overflow:visible}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.custom-select.is-invalid{border-color:#dc3545;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}@media(min-width:576px){.form-inline .custom-select{width:auto}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning .alert-link{color:#533f03}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-warning{background-color:#ffc107}a.bg-warning:focus,a.bg-warning:hover{background-color:#d39e00}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.rounded{border-radius:.25rem}.rounded-right{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-bottom{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-lg{border-radius:.3rem}.rounded-0{border-radius:0}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.overflow-hidden{overflow:hidden}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.w-25{width:25%}.w-50{width:50%}.w-75{width:75%}.w-100{width:100%}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-warning{color:#ffc107}a.text-warning:focus,a.text-warning:hover{color:#ba8b00}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table td,.table th{background-color:#fff}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.w-15{width:15%}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content thead{background:#444451;color:#fff}#content td,#content th{padding:.75rem;vertical-align:top}#content td{border:1px solid #dee2e6}#content th{border:1px solid #444451}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media(max-width:768px){#search-form{width:50%}}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre,td,th,thead,tr{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content thead{background:#333}#content td{border:1px solid #444451}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .nb{color:#2f1e2e}.syntax .py{color:#2f1e2e}.syntax .w{color:#2f1e2e}.syntax .mi{color:#08f}.syntax .s2{color:#48b685}.syntax .s1{color:#080}.syntax .ss{color:#48b685}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .ss{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .nb{color:#f8f9fa}.syntax .py{color:#f8f9fa}.syntax .w{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <h1 id=functions-for-working-with-dates-and-times>Functions for Working with Dates and Times<a class=headerlink href=../amp/#functions-for-working-with-dates-and-times title="Permanent link"> </a></h1> <p>Support for time zones</p> <p>All functions for working with the date and time that have a logical use for the time zone can accept a second optional time zone argument. Example: Asia/Yekaterinburg. In this case, they use the specified time zone instead of the local (default) one.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2016-06-15 23:00:00'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time</span><span class=p>,</span>
    <span class=n>toDate</span><span class=p>(</span><span class=n>time</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_local</span><span class=p>,</span>
    <span class=n>toDate</span><span class=p>(</span><span class=n>time</span><span class=p>,</span> <span class=s1>'Asia/Yekaterinburg'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_yekat</span><span class=p>,</span>
    <span class=n>toString</span><span class=p>(</span><span class=n>time</span><span class=p>,</span> <span class=s1>'US/Samoa'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_samoa</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌────────────────time─┬─date_local─┬─date_yekat─┬─time_samoa──────────┐
│ 2016-06-15 23:00:00 │ 2016-06-15 │ 2016-06-16 │ 2016-06-15 09:00:00 │
└─────────────────────┴────────────┴────────────┴─────────────────────┘
</code></pre></div> <h2 id=totimezone>toTimeZone<a class=headerlink href=../amp/#totimezone title="Permanent link"> </a></h2> <p>Convert time or date and time to the specified time zone. The time zone is an attribute of the Date/DateTime types. The internal value (number of seconds) of the table field or of the resultset's column does not change, the column's type changes and its string representation changes accordingly.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2019-01-01 00:00:00'</span><span class=p>,</span> <span class=s1>'UTC'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_utc</span><span class=p>,</span>
    <span class=n>toTypeName</span><span class=p>(</span><span class=n>time_utc</span><span class=p>)</span> <span class=k>AS</span> <span class=n>type_utc</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=n>time_utc</span><span class=p>)</span> <span class=k>AS</span> <span class=n>int32utc</span><span class=p>,</span>
    <span class=n>toTimeZone</span><span class=p>(</span><span class=n>time_utc</span><span class=p>,</span> <span class=s1>'Asia/Yekaterinburg'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_yekat</span><span class=p>,</span>
    <span class=n>toTypeName</span><span class=p>(</span><span class=n>time_yekat</span><span class=p>)</span> <span class=k>AS</span> <span class=n>type_yekat</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=n>time_yekat</span><span class=p>)</span> <span class=k>AS</span> <span class=n>int32yekat</span><span class=p>,</span>
    <span class=n>toTimeZone</span><span class=p>(</span><span class=n>time_utc</span><span class=p>,</span> <span class=s1>'US/Samoa'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_samoa</span><span class=p>,</span>
    <span class=n>toTypeName</span><span class=p>(</span><span class=n>time_samoa</span><span class=p>)</span> <span class=k>AS</span> <span class=n>type_samoa</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=n>time_samoa</span><span class=p>)</span> <span class=k>AS</span> <span class=n>int32samoa</span>
<span class=n>FORMAT</span> <span class=n>Vertical</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
time_utc:   2019-01-01 00:00:00
type_utc:   DateTime('UTC')
int32utc:   1546300800
time_yekat: 2019-01-01 05:00:00
type_yekat: DateTime('Asia/Yekaterinburg')
int32yekat: 1546300800
time_samoa: 2018-12-31 13:00:00
type_samoa: DateTime('US/Samoa')
int32samoa: 1546300800
</code></pre></div> <p><code class=syntax>toTimeZone(time_utc, 'Asia/Yekaterinburg')</code> changes the <code class=syntax>DateTime('UTC')</code> type to <code class=syntax>DateTime('Asia/Yekaterinburg')</code>. The value (Unixtimestamp) 1546300800 stays the same, but the string representation (the result of the toString() function) changes from <code class=syntax>time_utc: 2019-01-01 00:00:00</code> to <code class=syntax>time_yekat: 2019-01-01 05:00:00</code>.</p> <h2 id=toyear>toYear<a class=headerlink href=../amp/#toyear title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt16 number containing the year number (AD).</p> <p>Alias: <code class=syntax>YEAR</code>.</p> <h2 id=toquarter>toQuarter<a class=headerlink href=../amp/#toquarter title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt8 number containing the quarter number.</p> <p>Alias: <code class=syntax>QUARTER</code>.</p> <h2 id=tomonth>toMonth<a class=headerlink href=../amp/#tomonth title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt8 number containing the month number (1-12).</p> <p>Alias: <code class=syntax>MONTH</code>.</p> <h2 id=todayofyear>toDayOfYear<a class=headerlink href=../amp/#todayofyear title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt16 number containing the number of the day of the year (1-366).</p> <p>Alias: <code class=syntax>DAYOFYEAR</code>.</p> <h2 id=todayofmonth>toDayOfMonth<a class=headerlink href=../amp/#todayofmonth title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt8 number containing the number of the day of the month (1-31).</p> <p>Aliases: <code class=syntax>DAYOFMONTH</code>, <code class=syntax>DAY</code>.</p> <h2 id=todayofweek>toDayOfWeek<a class=headerlink href=../amp/#todayofweek title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt8 number containing the number of the day of the week (Monday is 1, and Sunday is 7).</p> <p>Alias: <code class=syntax>DAYOFWEEK</code>.</p> <h2 id=tohour>toHour<a class=headerlink href=../amp/#tohour title="Permanent link"> </a></h2> <p>Converts a date with time to a UInt8 number containing the number of the hour in 24-hour time (0-23).<br> This function assumes that if clocks are moved ahead, it is by one hour and occurs at 2 a.m., and if clocks are moved back, it is by one hour and occurs at 3 a.m. (which is not always true – even in Moscow the clocks were twice changed at a different time).</p> <p>Alias: <code class=syntax>HOUR</code>.</p> <h2 id=tominute>toMinute<a class=headerlink href=../amp/#tominute title="Permanent link"> </a></h2> <p>Converts a date with time to a UInt8 number containing the number of the minute of the hour (0-59).</p> <p>Alias: <code class=syntax>MINUTE</code>.</p> <h2 id=tosecond>toSecond<a class=headerlink href=../amp/#tosecond title="Permanent link"> </a></h2> <p>Converts a date with time to a UInt8 number containing the number of the second in the minute (0-59).<br> Leap seconds are not accounted for.</p> <p>Alias: <code class=syntax>SECOND</code>.</p> <h2 id=to-unix-timestamp>toUnixTimestamp<a class=headerlink href=../amp/#to-unix-timestamp title="Permanent link"> </a></h2> <p>For DateTime argument: converts value to the number with type UInt32 -- Unix Timestamp (<a href=https://en.wikipedia.org/wiki/Unix_time target=_blank>https://en.wikipedia.org/wiki/Unix_time</a>).<br> For String argument: converts the input string to the datetime according to the timezone (optional second argument, server timezone is used by default) and returns the corresponding unix timestamp.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>datetime</span><span class=p>)</span>
<span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>str</span><span class=p>,</span> <span class=p>[</span><span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Returned value</strong></p> <ul> <li>Returns the unix timestamp.</li> </ul> <p>Type: <code class=syntax>UInt32</code>.</p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toUnixTimestamp</span><span class=p>(</span><span class=s1>'2017-11-05 08:07:47'</span><span class=p>,</span> <span class=s1>'Asia/Tokyo'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>unix_timestamp</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─unix_timestamp─┐
│     1509836867 │
└────────────────┘
</code></pre></div> <h2 id=tostartofyear>toStartOfYear<a class=headerlink href=../amp/#tostartofyear title="Permanent link"> </a></h2> <p>Rounds down a date or date with time to the first day of the year.<br> Returns the date.</p> <h2 id=tostartofisoyear>toStartOfISOYear<a class=headerlink href=../amp/#tostartofisoyear title="Permanent link"> </a></h2> <p>Rounds down a date or date with time to the first day of ISO year.<br> Returns the date.</p> <h2 id=tostartofquarter>toStartOfQuarter<a class=headerlink href=../amp/#tostartofquarter title="Permanent link"> </a></h2> <p>Rounds down a date or date with time to the first day of the quarter.<br> The first day of the quarter is either 1 January, 1 April, 1 July, or 1 October.<br> Returns the date.</p> <h2 id=tostartofmonth>toStartOfMonth<a class=headerlink href=../amp/#tostartofmonth title="Permanent link"> </a></h2> <p>Rounds down a date or date with time to the first day of the month.<br> Returns the date.</p> <div class="admonition attention alert pb-0 mb-4 alert-warning" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Attention</p> <p>The behavior of parsing incorrect dates is implementation specific. ClickHouse may return zero date, throw an exception or do “natural” overflow.</p> </div> <h2 id=tomonday>toMonday<a class=headerlink href=../amp/#tomonday title="Permanent link"> </a></h2> <p>Rounds down a date or date with time to the nearest Monday.<br> Returns the date.</p> <h2 id=tostartofweektmode>toStartOfWeek(t[,mode])<a class=headerlink href=../amp/#tostartofweektmode title="Permanent link"> </a></h2> <p>Rounds down a date or date with time to the nearest Sunday or Monday by mode.<br> Returns the date.<br> The mode argument works exactly like the mode argument to toWeek(). For the single-argument syntax, a mode value of 0 is used.</p> <h2 id=tostartofday>toStartOfDay<a class=headerlink href=../amp/#tostartofday title="Permanent link"> </a></h2> <p>Rounds down a date with time to the start of the day.</p> <h2 id=tostartofhour>toStartOfHour<a class=headerlink href=../amp/#tostartofhour title="Permanent link"> </a></h2> <p>Rounds down a date with time to the start of the hour.</p> <h2 id=tostartofminute>toStartOfMinute<a class=headerlink href=../amp/#tostartofminute title="Permanent link"> </a></h2> <p>Rounds down a date with time to the start of the minute.</p> <h2 id=tostartofsecond>toStartOfSecond<a class=headerlink href=../amp/#tostartofsecond title="Permanent link"> </a></h2> <p>Truncates sub-seconds.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toStartOfSecond</span><span class=p>(</span><span class=n>value</span><span class=p>[,</span> <span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>value</code> — Date and time. <a href=../../../data-types/datetime64/amp/ >DateTime64</a>.</li> <li><code class=syntax>timezone</code> — <a href=../../../../operations/server-configuration-parameters/settings/amp/#server_configuration_parameters-timezone>Timezone</a> for the returned value (optional). If not specified, the function uses the timezone of the <code class=syntax>value</code> parameter. <a href=../../../data-types/string/amp/ >String</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Input value without sub-seconds.</li> </ul> <p>Type: <a href=../../../data-types/datetime64/amp/ >DateTime64</a>.</p> <p><strong>Examples</strong></p> <p>Query without timezone:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span> <span class=n>toDateTime64</span><span class=p>(</span><span class=s1>'2020-01-01 10:20:30.999'</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=k>AS</span> <span class=n>dt64</span>
<span class=k>SELECT</span> <span class=n>toStartOfSecond</span><span class=p>(</span><span class=n>dt64</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───toStartOfSecond(dt64)─┐
│ 2020-01-01 10:20:30.000 │
└─────────────────────────┘
</code></pre></div> <p>Query with timezone:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span> <span class=n>toDateTime64</span><span class=p>(</span><span class=s1>'2020-01-01 10:20:30.999'</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=k>AS</span> <span class=n>dt64</span>
<span class=k>SELECT</span> <span class=n>toStartOfSecond</span><span class=p>(</span><span class=n>dt64</span><span class=p>,</span> <span class=s1>'Europe/Moscow'</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─toStartOfSecond(dt64, 'Europe/Moscow')─┐
│                2020-01-01 13:20:30.000 │
└────────────────────────────────────────┘
</code></pre></div> <p><strong>See also</strong></p> <ul> <li><a href=../../../../operations/server-configuration-parameters/settings/amp/#server_configuration_parameters-timezone>Timezone</a> server configuration parameter.</li> </ul> <h2 id=tostartoffiveminute>toStartOfFiveMinute<a class=headerlink href=../amp/#tostartoffiveminute title="Permanent link"> </a></h2> <p>Rounds down a date with time to the start of the five-minute interval.</p> <h2 id=tostartoftenminutes>toStartOfTenMinutes<a class=headerlink href=../amp/#tostartoftenminutes title="Permanent link"> </a></h2> <p>Rounds down a date with time to the start of the ten-minute interval.</p> <h2 id=tostartoffifteenminutes>toStartOfFifteenMinutes<a class=headerlink href=../amp/#tostartoffifteenminutes title="Permanent link"> </a></h2> <p>Rounds down the date with time to the start of the fifteen-minute interval.</p> <h2 id=tostartofintervaltime-or-data-interval-x-unit-time-zone>toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])<a class=headerlink href=../amp/#tostartofintervaltime-or-data-interval-x-unit-time-zone title="Permanent link"> </a></h2> <p>This is a generalization of other functions named <code class=syntax>toStartOf*</code>. For example,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 year)</code> returns the same as <code class=syntax>toStartOfYear(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 month)</code> returns the same as <code class=syntax>toStartOfMonth(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 day)</code> returns the same as <code class=syntax>toStartOfDay(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 15 minute)</code> returns the same as <code class=syntax>toStartOfFifteenMinutes(t)</code> etc.</p> <h2 id=totime>toTime<a class=headerlink href=../amp/#totime title="Permanent link"> </a></h2> <p>Converts a date with time to a certain fixed date, while preserving the time.</p> <h2 id=torelativeyearnum>toRelativeYearNum<a class=headerlink href=../amp/#torelativeyearnum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the year, starting from a certain fixed point in the past.</p> <h2 id=torelativequarternum>toRelativeQuarterNum<a class=headerlink href=../amp/#torelativequarternum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the quarter, starting from a certain fixed point in the past.</p> <h2 id=torelativemonthnum>toRelativeMonthNum<a class=headerlink href=../amp/#torelativemonthnum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the month, starting from a certain fixed point in the past.</p> <h2 id=torelativeweeknum>toRelativeWeekNum<a class=headerlink href=../amp/#torelativeweeknum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the week, starting from a certain fixed point in the past.</p> <h2 id=torelativedaynum>toRelativeDayNum<a class=headerlink href=../amp/#torelativedaynum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the day, starting from a certain fixed point in the past.</p> <h2 id=torelativehournum>toRelativeHourNum<a class=headerlink href=../amp/#torelativehournum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the hour, starting from a certain fixed point in the past.</p> <h2 id=torelativeminutenum>toRelativeMinuteNum<a class=headerlink href=../amp/#torelativeminutenum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the minute, starting from a certain fixed point in the past.</p> <h2 id=torelativesecondnum>toRelativeSecondNum<a class=headerlink href=../amp/#torelativesecondnum title="Permanent link"> </a></h2> <p>Converts a date with time or date to the number of the second, starting from a certain fixed point in the past.</p> <h2 id=toisoyear>toISOYear<a class=headerlink href=../amp/#toisoyear title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt16 number containing the ISO Year number.</p> <h2 id=toisoweek>toISOWeek<a class=headerlink href=../amp/#toisoweek title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt8 number containing the ISO Week number.</p> <h2 id=toweekdatemode>toWeek(date[,mode])<a class=headerlink href=../amp/#toweekdatemode title="Permanent link"> </a></h2> <p>This function returns the week number for date or datetime. The two-argument form of toWeek() enables you to specify whether the week starts on Sunday or Monday and whether the return value should be in the range from 0 to 53 or from 1 to 53. If the mode argument is omitted, the default mode is 0.<br> <code class=syntax>toISOWeek()</code>is a compatibility function that is equivalent to <code class=syntax>toWeek(date,3)</code>.<br> The following table describes how the mode argument works.</p> <table> <thead> <tr> <th>Mode</th> <th>First day of week</th> <th>Range</th> <th>Week 1 is the first week …</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>Sunday</td> <td>0-53</td> <td>with a Sunday in this year</td> </tr> <tr> <td>1</td> <td>Monday</td> <td>0-53</td> <td>with 4 or more days this year</td> </tr> <tr> <td>2</td> <td>Sunday</td> <td>1-53</td> <td>with a Sunday in this year</td> </tr> <tr> <td>3</td> <td>Monday</td> <td>1-53</td> <td>with 4 or more days this year</td> </tr> <tr> <td>4</td> <td>Sunday</td> <td>0-53</td> <td>with 4 or more days this year</td> </tr> <tr> <td>5</td> <td>Monday</td> <td>0-53</td> <td>with a Monday in this year</td> </tr> <tr> <td>6</td> <td>Sunday</td> <td>1-53</td> <td>with 4 or more days this year</td> </tr> <tr> <td>7</td> <td>Monday</td> <td>1-53</td> <td>with a Monday in this year</td> </tr> <tr> <td>8</td> <td>Sunday</td> <td>1-53</td> <td>contains January 1</td> </tr> <tr> <td>9</td> <td>Monday</td> <td>1-53</td> <td>contains January 1</td> </tr> </tbody> </table> <p>For mode values with a meaning of “with 4 or more days this year,” weeks are numbered according to ISO 8601:1988:</p> <ul> <li> <p>If the week containing January 1 has 4 or more days in the new year, it is week 1.</p> </li> <li> <p>Otherwise, it is the last week of the previous year, and the next week is week 1.</p> </li> </ul> <p>For mode values with a meaning of “contains January 1”, the week contains January 1 is week 1. It doesn’t matter how many days in the new year the week contained, even if it contained only one day.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=p>[,</span> <span class=k>mode</span><span class=p>][,</span> <span class=n>Timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>date</code> – Date or DateTime.</li> <li><code class=syntax>mode</code> – Optional parameter, Range of values is [0,9], default is 0.</li> <li><code class=syntax>Timezone</code> – Optional parameter, it behaves like any other conversion function.</li> </ul> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2016-12-27'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span> <span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span> <span class=k>AS</span> <span class=n>week0</span><span class=p>,</span> <span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>week1</span><span class=p>,</span> <span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>9</span><span class=p>)</span> <span class=k>AS</span> <span class=n>week9</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─week0─┬─week1─┬─week9─┐
│ 2016-12-27 │    52 │    52 │     1 │
└────────────┴───────┴───────┴───────┘
</code></pre></div> <h2 id=toyearweekdatemode>toYearWeek(date[,mode])<a class=headerlink href=../amp/#toyearweekdatemode title="Permanent link"> </a></h2> <p>Returns year and week for a date. The year in the result may be different from the year in the date argument for the first and the last week of the year.</p> <p>The mode argument works exactly like the mode argument to toWeek(). For the single-argument syntax, a mode value of 0 is used.</p> <p><code class=syntax>toISOYear()</code>is a compatibility function that is equivalent to <code class=syntax>intDiv(toYearWeek(date,3),100)</code>.</p> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2016-12-27'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span> <span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span> <span class=k>AS</span> <span class=n>yearWeek0</span><span class=p>,</span> <span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>yearWeek1</span><span class=p>,</span> <span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>9</span><span class=p>)</span> <span class=k>AS</span> <span class=n>yearWeek9</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─yearWeek0─┬─yearWeek1─┬─yearWeek9─┐
│ 2016-12-27 │    201652 │    201652 │    201701 │
└────────────┴───────────┴───────────┴───────────┘
</code></pre></div> <h2 id=date_trunc>date_trunc<a class=headerlink href=../amp/#date_trunc title="Permanent link"> </a></h2> <p>Truncates date and time data to the specified part of date.</p> <p><strong>Syntax</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_trunc</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>[,</span> <span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p>Alias: <code class=syntax>dateTrunc</code>. </p> <p><strong>Arguments</strong></p> <ul> <li> <p><code class=syntax>unit</code> — The type of interval to truncate the result. <a href=../../../syntax/amp/#syntax-string-literal>String Literal</a>.<br> Possible values:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>value</code> — Date and time. <a href=../../../data-types/datetime/amp/ >DateTime</a> or <a href=../../../data-types/datetime64/amp/ >DateTime64</a>.</p> </li> <li><code class=syntax>timezone</code> — <a href=../../../../operations/server-configuration-parameters/settings/amp/#server_configuration_parameters-timezone>Timezone name</a> for the returned value (optional). If not specified, the function uses the timezone of the <code class=syntax>value</code> parameter. <a href=../../../data-types/string/amp/ >String</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Value, truncated to the specified part of date.</li> </ul> <p>Type: <a href=../../../data-types/datetime/amp/ >Datetime</a>.</p> <p><strong>Example</strong></p> <p>Query without timezone:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>(),</span> <span class=n>date_trunc</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span> <span class=n>now</span><span class=p>());</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────────────now()─┬─date_trunc('hour', now())─┐
│ 2020-09-28 10:40:45 │       2020-09-28 10:00:00 │
└─────────────────────┴───────────────────────────┘
</code></pre></div> <p>Query with the specified timezone:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>(),</span> <span class=n>date_trunc</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span> <span class=n>now</span><span class=p>(),</span> <span class=s1>'Europe/Moscow'</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────────────now()─┬─date_trunc('hour', now(), 'Europe/Moscow')─┐
│ 2020-09-28 10:46:26 │                        2020-09-28 13:00:00 │
└─────────────────────┴────────────────────────────────────────────┘
</code></pre></div> <p><strong>See also</strong></p> <ul> <li><a href=../amp/#tostartofintervaltime-or-data-interval-x-unit-time-zone>toStartOfInterval</a></li> </ul> <h2 id=date_add>date_add<a class=headerlink href=../amp/#date_add title="Permanent link"> </a></h2> <p>Adds specified date/time interval to the provided date.</p> <p><strong>Syntax</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_add</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Aliases: <code class=syntax>dateAdd</code>, <code class=syntax>DATE_ADD</code>. </p> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>unit</code> — The type of interval to add. <a href=../../../data-types/string/amp/ >String</a>.<div class=codehilite><pre><span></span><code class=syntax><span class=err>Supported values: second, minute, hour, day, week, month, quarter, year.</span>
</code></pre></div> <ul> <li><code class=syntax>value</code> - Value in specified unit - <a href=../../../data-types/int-uint/amp/ >Int</a> </li> <li><code class=syntax>date</code> — <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</li> </ul> </li> </ul> <p><strong>Returned value</strong></p> <p>Returns Date or DateTime with <code class=syntax>value</code> expressed in <code class=syntax>unit</code> added to <code class=syntax>date</code>. </p> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>select</span> <span class=n>date_add</span><span class=p>(</span><span class=k>YEAR</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>));</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─plus(toDate('2018-01-01'), toIntervalYear(3))─┐
│                                    2021-01-01 │
└───────────────────────────────────────────────┘
</code></pre></div> <h2 id=date_diff>date_diff<a class=headerlink href=../amp/#date_diff title="Permanent link"> </a></h2> <p>Returns the difference between two Date or DateTime values.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_diff</span><span class=p>(</span><span class=s1>'unit'</span><span class=p>,</span> <span class=n>startdate</span><span class=p>,</span> <span class=n>enddate</span><span class=p>,</span> <span class=p>[</span><span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p>Aliases: <code class=syntax>dateDiff</code>, <code class=syntax>DATE_DIFF</code>. </p> <p><strong>Arguments</strong></p> <ul> <li> <p><code class=syntax>unit</code> — The type of interval for result <a href=../../../data-types/string/amp/ >String</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=err>Supported values: second, minute, hour, day, week, month, quarter, year.</span>
</code></pre></div> </li> <li> <p><code class=syntax>startdate</code> — The first time value to subtract (the subtrahend). <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</p> </li> <li> <p><code class=syntax>enddate</code> — The second time value to subtract from (the minuend). <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</p> </li> <li> <p><code class=syntax>timezone</code> — Optional parameter. If specified, it is applied to both <code class=syntax>startdate</code> and <code class=syntax>enddate</code>. If not specified, timezones of <code class=syntax>startdate</code> and <code class=syntax>enddate</code> are used. If they are not the same, the result is unspecified.</p> </li> </ul> <p><strong>Returned value</strong></p> <p>Difference between <code class=syntax>enddate</code> and <code class=syntax>startdate</code> expressed in <code class=syntax>unit</code>.</p> <p>Type: <code class=syntax>int</code>.</p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>dateDiff</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-01 22:00:00'</span><span class=p>),</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-02 23:00:00'</span><span class=p>));</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─dateDiff('hour', toDateTime('2018-01-01 22:00:00'), toDateTime('2018-01-02 23:00:00'))─┐
│                                                                                     25 │
└────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=date_sub>date_sub<a class=headerlink href=../amp/#date_sub title="Permanent link"> </a></h2> <p>Subtracts the time interval or date interval from the provided date or date with time.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_sub</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Aliases: <code class=syntax>dateSub</code>, <code class=syntax>DATE_SUB</code>.</p> <p><strong>Arguments</strong></p> <ul> <li> <p><code class=syntax>unit</code> — The type of interval to subtract. <a href=../../../data-types/string/amp/ >String</a>.<br> Possible values:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>value</code> — Value of interval to subtract. <a href=../../../data-types/int-uint/amp/ >Int</a>. </p> </li> <li><code class=syntax>date</code> — The date or date with time from which <code class=syntax>value</code> is subtracted. <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</li> </ul> <p><strong>Returned value</strong></p> <p>Returns the date or date with time obtained by subtracting <code class=syntax>value</code>, expressed in <code class=syntax>unit</code>, from <code class=syntax>date</code>.</p> <p>Type: <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>date_sub</span><span class=p>(</span><span class=k>YEAR</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>));</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─minus(toDate('2018-01-01'), toIntervalYear(3))─┐
│                                     2015-01-01 │
└────────────────────────────────────────────────┘
</code></pre></div> <h2 id=timestamp_add>timestamp_add<a class=headerlink href=../amp/#timestamp_add title="Permanent link"> </a></h2> <p>Adds the specified time value with the provided date or date time value.</p> <p><strong>Syntax</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timestamp_add</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=nb>INTERVAL</span> <span class=n>value</span> <span class=n>unit</span><span class=p>)</span>
</code></pre></div> <p>Aliases: <code class=syntax>timeStampAdd</code>, <code class=syntax>TIMESTAMP_ADD</code>. </p> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>date</code> — Date or Date with time - <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</li> <li><code class=syntax>value</code> - Value in specified unit - <a href=../../../data-types/int-uint/amp/ >Int</a></li> <li><code class=syntax>unit</code> — The type of interval to add. <a href=../../../data-types/string/amp/ >String</a>.<div class=codehilite><pre><span></span><code class=syntax><span class=err>Supported values: second, minute, hour, day, week, month, quarter, year.</span>
</code></pre></div> </li> </ul> <p><strong>Returned value</strong></p> <p>Returns Date or DateTime with the specified <code class=syntax>value</code> expressed in <code class=syntax>unit</code> added to <code class=syntax>date</code>. </p> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>select</span> <span class=n>timestamp_add</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>),</span> <span class=nb>INTERVAL</span> <span class=mi>3</span> <span class=k>MONTH</span><span class=p>);</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─plus(toDate('2018-01-01'), toIntervalMonth(3))─┐
│                                     2018-04-01 │
└────────────────────────────────────────────────┘
</code></pre></div> <h2 id=timestamp_sub>timestamp_sub<a class=headerlink href=../amp/#timestamp_sub title="Permanent link"> </a></h2> <p>Returns the difference between two dates in the specified unit.</p> <p><strong>Syntax</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timestamp_sub</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Aliases: <code class=syntax>timeStampSub</code>, <code class=syntax>TIMESTAMP_SUB</code>. </p> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>unit</code> — The type of interval to add. <a href=../../../data-types/string/amp/ >String</a>.<div class=codehilite><pre><span></span><code class=syntax><span class=err>Supported values: second, minute, hour, day, week, month, quarter, year.</span>
</code></pre></div> <ul> <li><code class=syntax>value</code> - Value in specified unit - <a href=../../../data-types/int-uint/amp/ >Int</a>. </li> <li><code class=syntax>date</code>- <a href=../../../data-types/date/amp/ >Date</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>.</li> </ul> </li> </ul> <p><strong>Returned value</strong></p> <p>Difference between <code class=syntax>date</code> and the specified <code class=syntax>value</code> expressed in <code class=syntax>unit</code>.</p> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>select</span> <span class=n>timestamp_sub</span><span class=p>(</span><span class=k>MONTH</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-12-18 01:02:03'</span><span class=p>));</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─minus(toDateTime('2018-12-18 01:02:03'), toIntervalMonth(5))─┐
│                                          2018-07-18 01:02:03 │
└──────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=now>now<a class=headerlink href=../amp/#now title="Permanent link"> </a></h2> <p>Returns the current date and time. </p> <p><strong>Syntax</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>now</span><span class=p>([</span><span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>timezone</code> — <a href=../../../../operations/server-configuration-parameters/settings/amp/#server_configuration_parameters-timezone>Timezone name</a> for the returned value (optional). <a href=../../../data-types/string/amp/ >String</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Current date and time.</li> </ul> <p>Type: <a href=../../../data-types/datetime/amp/ >Datetime</a>.</p> <p><strong>Example</strong></p> <p>Query without timezone:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>();</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────────────now()─┐
│ 2020-10-17 07:42:09 │
└─────────────────────┘
</code></pre></div> <p>Query with the specified timezone:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>(</span><span class=s1>'Europe/Moscow'</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─now('Europe/Moscow')─┐
│  2020-10-17 10:42:23 │
└──────────────────────┘
</code></pre></div> <h2 id=today>today<a class=headerlink href=../amp/#today title="Permanent link"> </a></h2> <p>Accepts zero arguments and returns the current date at one of the moments of request execution.<br> The same as ‘toDate(now())’.</p> <h2 id=yesterday>yesterday<a class=headerlink href=../amp/#yesterday title="Permanent link"> </a></h2> <p>Accepts zero arguments and returns yesterday’s date at one of the moments of request execution.<br> The same as ‘today() - 1’.</p> <h2 id=timeslot>timeSlot<a class=headerlink href=../amp/#timeslot title="Permanent link"> </a></h2> <p>Rounds the time to the half hour.<br> This function is specific to Yandex.Metrica, since half an hour is the minimum amount of time for breaking a session into two sessions if a tracking tag shows a single user’s consecutive pageviews that differ in time by strictly more than this amount. This means that tuples (the tag ID, user ID, and time slot) can be used to search for pageviews that are included in the corresponding session.</p> <h2 id=toyyyymm>toYYYYMM<a class=headerlink href=../amp/#toyyyymm title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt32 number containing the year and month number (YYYY * 100 + MM).</p> <h2 id=toyyyymmdd>toYYYYMMDD<a class=headerlink href=../amp/#toyyyymmdd title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt32 number containing the year and month number (YYYY * 10000 + MM * 100 + DD).</p> <h2 id=toyyyymmddhhmmss>toYYYYMMDDhhmmss<a class=headerlink href=../amp/#toyyyymmddhhmmss title="Permanent link"> </a></h2> <p>Converts a date or date with time to a UInt64 number containing the year and month number (YYYY * 10000000000 + MM * 100000000 + DD * 1000000 + hh * 10000 + mm * 100 + ss).</p> <h2 id=addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters>addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters<a class=headerlink href=../amp/#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters title="Permanent link"> </a></h2> <p>Function adds a Date/DateTime interval to a Date/DateTime and then return the Date/DateTime. For example:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span>
    <span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-01 00:00:00'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_time</span>
<span class=k>SELECT</span>
    <span class=n>addYears</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>add_years_with_date</span><span class=p>,</span>
    <span class=n>addYears</span><span class=p>(</span><span class=n>date_time</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>add_years_with_date_time</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─add_years_with_date─┬─add_years_with_date_time─┐
│          2019-01-01 │      2019-01-01 00:00:00 │
└─────────────────────┴──────────────────────────┘
</code></pre></div> <h2 id=subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters>subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters<a class=headerlink href=../amp/#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters title="Permanent link"> </a></h2> <p>Function subtract a Date/DateTime interval to a Date/DateTime and then return the Date/DateTime. For example:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span>
    <span class=n>toDate</span><span class=p>(</span><span class=s1>'2019-01-01'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2019-01-01 00:00:00'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_time</span>
<span class=k>SELECT</span>
    <span class=n>subtractYears</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>subtract_years_with_date</span><span class=p>,</span>
    <span class=n>subtractYears</span><span class=p>(</span><span class=n>date_time</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>subtract_years_with_date_time</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─subtract_years_with_date─┬─subtract_years_with_date_time─┐
│               2018-01-01 │           2018-01-01 00:00:00 │
└──────────────────────────┴───────────────────────────────┘
</code></pre></div> <h2 id=timeslotsstarttime-duration-size>timeSlots(StartTime, Duration,[, Size])<a class=headerlink href=../amp/#timeslotsstarttime-duration-size title="Permanent link"> </a></h2> <p>For a time interval starting at ‘StartTime’ and continuing for ‘Duration’ seconds, it returns an array of moments in time, consisting of points from this interval rounded down to the ‘Size’ in seconds. ‘Size’ is an optional parameter: a constant UInt32, set to 1800 by default.<br> For example, <code class=syntax>timeSlots(toDateTime('2012-01-01 12:20:00'), 600) = [toDateTime('2012-01-01 12:00:00'), toDateTime('2012-01-01 12:30:00')]</code>.<br> This is necessary for searching for pageviews in the corresponding session.</p> <h2 id=formatdatetime>formatDateTime<a class=headerlink href=../amp/#formatdatetime title="Permanent link"> </a></h2> <p>Formats a Time according to the given Format string. Format is a constant expression, so you cannot have multiple formats for a single result column.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>formatDateTime</span><span class=p>(</span><span class=n>Time</span><span class=p>,</span> <span class=n>Format</span><span class=err>\</span><span class=p>[,</span> <span class=n>Timezone</span><span class=err>\</span><span class=p>])</span>
</code></pre></div> <p><strong>Returned value(s)</strong></p> <p>Returnes time and date values according to the determined format.</p> <p><strong>Replacement fields</strong><br> Using replacement fields, you can define a pattern for the resulting string. “Example” column shows formatting result for <code class=syntax>2018-01-02 22:33:44</code>.</p> <table> <thead> <tr> <th>Placeholder</th> <th>Description</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td>%C</td> <td>year divided by 100 and truncated to integer (00-99)</td> <td>20</td> </tr> <tr> <td>%d</td> <td>day of the month, zero-padded (01-31)</td> <td>02</td> </tr> <tr> <td>%D</td> <td>Short MM/DD/YY date, equivalent to %m/%d/%y</td> <td>01/02/18</td> </tr> <tr> <td>%e</td> <td>day of the month, space-padded ( 1-31)</td> <td>2</td> </tr> <tr> <td>%F</td> <td>short YYYY-MM-DD date, equivalent to %Y-%m-%d</td> <td>2018-01-02</td> </tr> <tr> <td>%G</td> <td>four-digit year format for ISO week number, calculated from the week-based year <a href=https://en.wikipedia.org/wiki/ISO_8601#Week_dates rel="external nofollow noreferrer" target=_blank>defined by the ISO 8601</a> standard, normally useful only with %V</td> <td>2018</td> </tr> <tr> <td>%g</td> <td>two-digit year format, aligned to ISO 8601, abbreviated from four-digit notation</td> <td>18</td> </tr> <tr> <td>%H</td> <td>hour in 24h format (00-23)</td> <td>22</td> </tr> <tr> <td>%I</td> <td>hour in 12h format (01-12)</td> <td>10</td> </tr> <tr> <td>%j</td> <td>day of the year (001-366)</td> <td>002</td> </tr> <tr> <td>%m</td> <td>month as a decimal number (01-12)</td> <td>01</td> </tr> <tr> <td>%M</td> <td>minute (00-59)</td> <td>33</td> </tr> <tr> <td>%n</td> <td>new-line character (‘’)</td> <td></td> </tr> <tr> <td>%p</td> <td>AM or PM designation</td> <td>PM</td> </tr> <tr> <td>%Q</td> <td>Quarter (1-4)</td> <td>1</td> </tr> <tr> <td>%R</td> <td>24-hour HH:MM time, equivalent to %H:%M</td> <td>22:33</td> </tr> <tr> <td>%S</td> <td>second (00-59)</td> <td>44</td> </tr> <tr> <td>%t</td> <td>horizontal-tab character (’)</td> <td></td> </tr> <tr> <td>%T</td> <td>ISO 8601 time format (HH:MM:SS), equivalent to %H:%M:%S</td> <td>22:33:44</td> </tr> <tr> <td>%u</td> <td>ISO 8601 weekday as number with Monday as 1 (1-7)</td> <td>2</td> </tr> <tr> <td>%V</td> <td>ISO 8601 week number (01-53)</td> <td>01</td> </tr> <tr> <td>%w</td> <td>weekday as a decimal number with Sunday as 0 (0-6)</td> <td>2</td> </tr> <tr> <td>%y</td> <td>Year, last two digits (00-99)</td> <td>18</td> </tr> <tr> <td>%Y</td> <td>Year</td> <td>2018</td> </tr> <tr> <td>%%</td> <td>a % sign</td> <td>%</td> </tr> </tbody> </table> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>formatDateTime</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2010-01-04'</span><span class=p>),</span> <span class=s1>'%g'</span><span class=p>)</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=err>┌─formatDateTime(toDate('2010-01-04'), '%g')─┐</span>
<span class=err>│ 10                                         │</span>
<span class=err>└────────────────────────────────────────────┘</span>
</code></pre></div> <h2 id=fromunixfime>FROM_UNIXTIME<a class=headerlink href=../amp/#fromunixfime title="Permanent link"> </a></h2> <p>Function converts Unix timestamp to a calendar date and a time of a day. When there is only a single argument of <a href=../../../data-types/int-uint/amp/ >Integer</a> type, it acts in the same way as <a href=../../type-conversion-functions/amp/#todatetime>toDateTime</a> and return <a href=../../../data-types/datetime/amp/ >DateTime</a> type.</p> <p><strong>Example:</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>FROM_UNIXTIME</span><span class=p>(</span><span class=mi>423543535</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─FROM_UNIXTIME(423543535)─┐
│      1983-06-04 10:58:55 │
└──────────────────────────┘
</code></pre></div> <p>When there are two arguments: first is an <a href=../../../data-types/int-uint/amp/ >Integer</a> or <a href=../../../data-types/datetime/amp/ >DateTime</a>, second is a constant format string — it acts in the same way as <a href=../amp/#formatdatetime>formatDateTime</a> and return <a href=../../../data-types/string/amp/#string>String</a> type.</p> <p>For example:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>FROM_UNIXTIME</span><span class=p>(</span><span class=mi>1234334543</span><span class=p>,</span> <span class=s1>'%Y-%m-%d %R:%S'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>DateTime</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─DateTime────────────┐
│ 2009-02-11 14:42:23 │
└─────────────────────┘
</code></pre></div> <h2 id=tomodifiedjulianday>toModifiedJulianDay<a class=headerlink href=../amp/#tomodifiedjulianday title="Permanent link"> </a></h2> <p>Converts a <a href=https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar rel="external nofollow noreferrer" target=_blank>Proleptic Gregorian calendar</a> date in text form <code class=syntax>YYYY-MM-DD</code> to a <a href=https://en.wikipedia.org/wiki/Julian_day#Variants rel="external nofollow noreferrer" target=_blank>Modified Julian Day</a> number in Int32. This function supports date from <code class=syntax>0000-01-01</code> to <code class=syntax>9999-12-31</code>. It raises an exception if the argument cannot be parsed as a date, or the date is invalid.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toModifiedJulianDay</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>date</code> — Date in text form. <a href=../../../data-types/string/amp/ >String</a> or <a href=../../../data-types/fixedstring/amp/ >FixedString</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Modified Julian Day number.</li> </ul> <p>Type: <a href=../../../data-types/int-uint/amp/ >Int32</a>.</p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toModifiedJulianDay</span><span class=p>(</span><span class=s1>'2020-01-01'</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─toModifiedJulianDay('2020-01-01')─┐
│                             58849 │
└───────────────────────────────────┘
</code></pre></div> <h2 id=tomodifiedjuliandayornull>toModifiedJulianDayOrNull<a class=headerlink href=../amp/#tomodifiedjuliandayornull title="Permanent link"> </a></h2> <p>Similar to <a href=../amp/#tomodifiedjulianday>toModifiedJulianDay()</a>, but instead of raising exceptions it returns <code class=syntax>NULL</code>.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toModifiedJulianDayOrNull</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>date</code> — Date in text form. <a href=../../../data-types/string/amp/ >String</a> or <a href=../../../data-types/fixedstring/amp/ >FixedString</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Modified Julian Day number.</li> </ul> <p>Type: <a href=../../../data-types/int-uint/amp/ >Nullable(Int32)</a>.</p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toModifiedJulianDayOrNull</span><span class=p>(</span><span class=s1>'2020-01-01'</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─toModifiedJulianDayOrNull('2020-01-01')─┐
│                                   58849 │
└─────────────────────────────────────────┘
</code></pre></div> <h2 id=frommodifiedjulianday>fromModifiedJulianDay<a class=headerlink href=../amp/#frommodifiedjulianday title="Permanent link"> </a></h2> <p>Converts a <a href=https://en.wikipedia.org/wiki/Julian_day#Variants rel="external nofollow noreferrer" target=_blank>Modified Julian Day</a> number to a <a href=https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar rel="external nofollow noreferrer" target=_blank>Proleptic Gregorian calendar</a> date in text form <code class=syntax>YYYY-MM-DD</code>. This function supports day number from <code class=syntax>-678941</code> to <code class=syntax>2973119</code> (which represent 0000-01-01 and 9999-12-31 respectively). It raises an exception if the day number is outside of the supported range.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>fromModifiedJulianDay</span><span class=p>(</span><span class=k>day</span><span class=p>)</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>day</code> — Modified Julian Day number. <a href=../../../data-types/int-uint/amp/ >Any integral types</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Date in text form.</li> </ul> <p>Type: <a href=../../../data-types/string/amp/ >String</a></p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>fromModifiedJulianDay</span><span class=p>(</span><span class=mi>58849</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─fromModifiedJulianDay(58849)─┐
│ 2020-01-01                   │
└──────────────────────────────┘
</code></pre></div> <h2 id=frommodifiedjuliandayornull>fromModifiedJulianDayOrNull<a class=headerlink href=../amp/#frommodifiedjuliandayornull title="Permanent link"> </a></h2> <p>Similar to <a href=../amp/#frommodifiedjuliandayornull>fromModifiedJulianDayOrNull()</a>, but instead of raising exceptions it returns <code class=syntax>NULL</code>.</p> <p><strong>Syntax</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>fromModifiedJulianDayOrNull</span><span class=p>(</span><span class=k>day</span><span class=p>)</span>
</code></pre></div> <p><strong>Arguments</strong></p> <ul> <li><code class=syntax>day</code> — Modified Julian Day number. <a href=../../../data-types/int-uint/amp/ >Any integral types</a>.</li> </ul> <p><strong>Returned value</strong></p> <ul> <li>Date in text form.</li> </ul> <p>Type: <a href=../../../data-types/string/amp/ >Nullable(String)</a></p> <p><strong>Example</strong></p> <p>Query:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>fromModifiedJulianDayOrNull</span><span class=p>(</span><span class=mi>58849</span><span class=p>);</span>
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─fromModifiedJulianDayOrNull(58849)─┐
│ 2020-01-01                         │
└────────────────────────────────────┘
</code></pre></div> <p><a href=https://clickhouse.tech/docs/en/query_language/functions/date_time_functions/ target=_blank>Original article</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/en/sql-reference/functions/date-time-functions/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 