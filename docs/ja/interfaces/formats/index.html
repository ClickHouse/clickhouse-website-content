<!DOCTYPE html><html lang=ja data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>入力および出力フォーマット | ClickHouseドキュメント</title><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/images/logo-180x180.png><meta property=og:title content="入力および出力フォーマット | ClickHouseドキュメント"><meta property=og:description content="入出力データのフォーマット ClickHouse受け入れと返信データなフレームワークです。 入力用にサポートされている形式を使用して、指定されたデータを解析できます INSERTs、実行する SELECTファイル、URL、HDFSなどのファ"><meta property=og:type content=article><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta content=https://clickhouse.tech/docs/ja/interfaces/formats/ property=og:url><link href=https://clickhouse.tech/docs/ja/interfaces/formats/ rel=canonical><link href=https://clickhouse.tech/docs/ja/interfaces/formats/amp/ rel=amphtml><link rel=search href=/opensearch.xml title=ClickHouse type=application/opensearchdescription+xml><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "入力および出力フォーマット | ClickHouseドキュメント",
"mainEntityOfPage": "https://clickhouse.tech/docs/ja/interfaces/formats/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "入力および出力フォーマット | ClickHouseドキュメント",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><meta name=description content="入出力データのフォーマット ClickHouse受け入れと返信データなフレームワークです。 入力用にサポートされている形式を使用して、指定されたデータを解析できます INSERTs、実行する SELECTファイル、URL、HDFSなどのファ"><meta name=keywords content="ClickHouse, DBMS, OLAP, SQL, open-source, relational, analytics, analytical, Big Data, web-analytics"><link rel=alternate href=https://clickhouse.tech/docs/en/interfaces/formats/ hreflang=en><link rel=alternate href=https://clickhouse.tech/docs/zh/interfaces/formats/ hreflang=zh><link rel=alternate href=https://clickhouse.tech/docs/ru/interfaces/formats/ hreflang=ru><link rel=alternate href=https://clickhouse.tech/docs/ja/interfaces/formats/ hreflang=ja><link rel=alternate href=https://clickhouse.tech/docs/en/interfaces/formats/ hreflang=x-default><link href=/css/base.css?48d3d791 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> 入力および出力フォーマット </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li id=edit-wrapper class=nav-item> <a id=edit-link href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/interfaces/formats.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ja.svg alt=日本語 title=日本語 width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/interfaces/formats/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/interfaces/formats/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/ru/interfaces/formats/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/interfaces/formats/ class="dropdown-item disabled"> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=はじめに class="nav-link text-light dropdown-toggle px-0">はじめに</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../getting-started/install/ title=インストール class="nav-link text-light text-wrap d-inline-block w-100 px-0">インストール</a> <a href=../../getting-started/tutorial/ title=チュートリアル class="nav-link text-light text-wrap d-inline-block w-100 px-0">チュートリアル</a> <a href=#sidebar-sidebar-1-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1-5 title=データセット例 class="nav-link text-light dropdown-toggle px-0">データセット例</a> <div id=sidebar-sidebar-1-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting-started/example-datasets/ title=イントロダクション class="nav-link text-light text-wrap d-inline-block w-100 px-0">イントロダクション</a> <a href=../../getting-started/example-datasets/metrica/ title="Yandex.Metrica データ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica データ</a> <a href=../../getting-started/example-datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../getting-started/example-datasets/nyc-taxi/ title=ニューヨークタクシー class="nav-link text-light text-wrap d-inline-block w-100 px-0">ニューヨークタクシー</a> <a href=../../getting-started/example-datasets/amplab-benchmark/ title="AMPLab Big Data ベンチマーク" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data ベンチマーク</a> <a href=../../getting-started/example-datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../getting-started/example-datasets/criteo/ title="Criteo のテラバイトクリックログ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Criteo のテラバイトクリックログ</a> <a href=../../getting-started/example-datasets/star-schema/ title="スタースキーマ ベンチマーク" class="nav-link text-light text-wrap d-inline-block w-100 px-0">スタースキーマ ベンチマーク</a> </nav> </div> <a href=../../getting-started/playground/ title=Playground class="nav-link text-light text-wrap d-inline-block w-100 px-0">Playground</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title=インター class="nav-link text-light dropdown-toggle px-0">インター</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../interfaces/cli/ title=コマンド行クライアント class="nav-link text-light text-wrap d-inline-block w-100 px-0">コマンド行クライアント</a> <a href=../../interfaces/tcp/ title=ネイティブイ) class="nav-link text-light text-wrap d-inline-block w-100 px-0">ネイティブイ)</a> <a href=../../interfaces/http/ title=HTTPインターフェ class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTPインターフェ</a> <a href=../../interfaces/mysql/ title=MySQLインタ class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQLインタ</a> <a href=../../interfaces/formats/ title=入力および出力フォーマット class="nav-link text-white active text-wrap d-inline-block w-100 px-0">入力および出力フォーマット</a> <a href=../../interfaces/jdbc/ title=JDBCドライバ class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBCドライバ</a> <a href=../../interfaces/odbc/ title=ODBCドライバ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBCドライバ</a> <a href=../../interfaces/cpp/ title=C++クライアントライ class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++クライアントライ</a> <a href=#sidebar-sidebar-2-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-10 title=サードパーティ class="nav-link text-light dropdown-toggle px-0">サードパーティ</a> <div id=sidebar-sidebar-2-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/client-libraries/ title=クライアント class="nav-link text-light text-wrap d-inline-block w-100 px-0">クライアント</a> <a href=../../interfaces/third-party/integrations/ title=統合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">統合</a> <a href=../../interfaces/third-party/gui/ title=視界面 class="nav-link text-light text-wrap d-inline-block w-100 px-0">視界面</a> <a href=../../interfaces/third-party/proxy/ title=プロキシ class="nav-link text-light text-wrap d-inline-block w-100 px-0">プロキシ</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=エンジン class="nav-link text-light dropdown-toggle px-0">エンジン</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2 title=表エンジン class="nav-link text-light dropdown-toggle px-0">表エンジン</a> <div id=sidebar-sidebar-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=#sidebar-sidebar-3-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-2 title=メルゲツリー族 class="nav-link text-light dropdown-toggle px-0">メルゲツリー族</a> <div id=sidebar-sidebar-3-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/mergetree-family/mergetree/ title=メルゲツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">メルゲツリー</a> <a href=../../engines/table-engines/mergetree-family/replication/ title=データ複製 class="nav-link text-light text-wrap d-inline-block w-100 px-0">データ複製</a> <a href=../../engines/table-engines/mergetree-family/custom-partitioning-key/ title=カスタム分割キー class="nav-link text-light text-wrap d-inline-block w-100 px-0">カスタム分割キー</a> <a href=../../engines/table-engines/mergetree-family/replacingmergetree/ title=置換マージツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">置換マージツリー</a> <a href=../../engines/table-engines/mergetree-family/summingmergetree/ title=サミングマーゲツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">サミングマーゲツリー</a> <a href=../../engines/table-engines/mergetree-family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../engines/table-engines/mergetree-family/collapsingmergetree/ title=折りたたみマージツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">折りたたみマージツリー</a> <a href=../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/ title=バージョニングコラプシングマーゲットリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">バージョニングコラプシングマーゲットリー</a> <a href=../../engines/table-engines/mergetree-family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-3-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-3 title=ログファミリ class="nav-link text-light dropdown-toggle px-0">ログファミリ</a> <div id=sidebar-sidebar-3-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/log-family/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../engines/table-engines/log-family/stripelog/ title=ストリップログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ストリップログ</a> <a href=../../engines/table-engines/log-family/log/ title=ログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ログ</a> <a href=../../engines/table-engines/log-family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-3-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-4 title=統合 class="nav-link text-light dropdown-toggle px-0">統合</a> <div id=sidebar-sidebar-3-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/integrations/kafka/ title=カフカ class="nav-link text-light text-wrap d-inline-block w-100 px-0">カフカ</a> <a href=../../engines/table-engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/table-engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../engines/table-engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../engines/table-engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-3-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2-5 title=スペシャル class="nav-link text-light dropdown-toggle px-0">スペシャル</a> <div id=sidebar-sidebar-3-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/special/distributed/ title=分散 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分散</a> <a href=../../engines/table-engines/special/external-data/ title=外部データ class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部データ</a> <a href=../../engines/table-engines/special/dictionary/ title=辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書</a> <a href=../../engines/table-engines/special/merge/ title=マージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">マージ</a> <a href=../../engines/table-engines/special/file/ title=ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ファイル</a> <a href=../../engines/table-engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../engines/table-engines/special/set/ title=セット class="nav-link text-light text-wrap d-inline-block w-100 px-0">セット</a> <a href=../../engines/table-engines/special/join/ title=参加 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参加</a> <a href=../../engines/table-engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../engines/table-engines/special/view/ title=表示 class="nav-link text-light text-wrap d-inline-block w-100 px-0">表示</a> <a href=../../engines/table-engines/special/materializedview/ title=マテリアライズドビュー class="nav-link text-light text-wrap d-inline-block w-100 px-0">マテリアライズドビュー</a> <a href=../../engines/table-engines/special/memory/ title=メモリ class="nav-link text-light text-wrap d-inline-block w-100 px-0">メモリ</a> <a href=../../engines/table-engines/special/buffer/ title=バッファ class="nav-link text-light text-wrap d-inline-block w-100 px-0">バッファ</a> <a href=../../engines/table-engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title=データベース class="nav-link text-light dropdown-toggle px-0">データベース</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/database-engines/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../engines/database-engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/database-engines/lazy/ title=怠け者 class="nav-link text-light text-wrap d-inline-block w-100 px-0">怠け者</a> <a href=../../engines/database-engines/atomic/ title=Atomic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Atomic</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=SQLリファレンス class="nav-link text-light dropdown-toggle px-0">SQLリファレンス</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title=文 class="nav-link text-light dropdown-toggle px-0">文</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-2 title=SELECT class="nav-link text-light dropdown-toggle px-0">SELECT</a> <div id=sidebar-sidebar-4-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/statements/select/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../sql-reference/statements/select/array-join/ title="ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ARRAY JOIN</a> <a href=../../sql-reference/statements/select/distinct/ title=DISTINCT class="nav-link text-light text-wrap d-inline-block w-100 px-0">DISTINCT</a> <a href=../../sql-reference/statements/select/format/ title=FORMAT class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT</a> <a href=../../sql-reference/statements/select/from/ title=FROM class="nav-link text-light text-wrap d-inline-block w-100 px-0">FROM</a> <a href=../../sql-reference/statements/select/group-by/ title="GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GROUP BY</a> <a href=../../sql-reference/statements/select/having/ title=HAVING class="nav-link text-light text-wrap d-inline-block w-100 px-0">HAVING</a> <a href=../../sql-reference/statements/select/into-outfile/ title="INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INTO OUTFILE</a> <a href=../../sql-reference/statements/select/join/ title=JOIN class="nav-link text-light text-wrap d-inline-block w-100 px-0">JOIN</a> <a href=../../sql-reference/statements/select/limit/ title=LIMIT class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a> <a href=../../sql-reference/statements/select/limit-by/ title="LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT BY</a> <a href=../../sql-reference/statements/select/offset/ title=OFFSET class="nav-link text-light text-wrap d-inline-block w-100 px-0">OFFSET</a> <a href=../../sql-reference/statements/select/order-by/ title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a> <a href=../../sql-reference/statements/select/prewhere/ title=PREWHERE class="nav-link text-light text-wrap d-inline-block w-100 px-0">PREWHERE</a> <a href=../../sql-reference/statements/select/sample/ title=SAMPLE class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE</a> <a href=../../sql-reference/statements/select/where/ title=WHERE class="nav-link text-light text-wrap d-inline-block w-100 px-0">WHERE</a> <a href=../../sql-reference/statements/select/with/ title=WITH class="nav-link text-light text-wrap d-inline-block w-100 px-0">WITH</a> </nav> </div> <a href=../../sql-reference/statements/insert-into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../sql-reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../sql-reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../sql-reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../sql-reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../sql-reference/statements/grant/ title=GRANT class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a> <a href=../../sql-reference/statements/revoke/ title=REVOKE class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a> <a href=../../sql-reference/statements/misc/ title=その他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">その他</a> <a href=../../sql-reference/statements/optimize/ title=OPTIMIZE class="nav-link text-light text-wrap d-inline-block w-100 px-0">OPTIMIZE</a> </nav> </div> <a href=../../sql-reference/syntax/ title=構文 class="nav-link text-light text-wrap d-inline-block w-100 px-0">構文</a> <a href=#sidebar-sidebar-4-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-4 title=関数 class="nav-link text-light dropdown-toggle px-0">関数</a> <div id=sidebar-sidebar-4-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/functions/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../sql-reference/functions/arithmetic-functions/ title=算術 class="nav-link text-light text-wrap d-inline-block w-100 px-0">算術</a> <a href=../../sql-reference/functions/comparison-functions/ title=比較 class="nav-link text-light text-wrap d-inline-block w-100 px-0">比較</a> <a href=../../sql-reference/functions/logical-functions/ title=論理 class="nav-link text-light text-wrap d-inline-block w-100 px-0">論理</a> <a href=../../sql-reference/functions/type-conversion-functions/ title=タイプ変換 class="nav-link text-light text-wrap d-inline-block w-100 px-0">タイプ変換</a> <a href=../../sql-reference/functions/date-time-functions/ title=日付と時刻の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日付と時刻の操作</a> <a href=../../sql-reference/functions/string-functions/ title=文字列の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列の操作</a> <a href=../../sql-reference/functions/string-search-functions/ title=文字列を検索する場合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列を検索する場合</a> <a href=../../sql-reference/functions/string-replace-functions/ title=文字列で置換する場合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列で置換する場合</a> <a href=../../sql-reference/functions/conditional-functions/ title=条件付き class="nav-link text-light text-wrap d-inline-block w-100 px-0">条件付き</a> <a href=../../sql-reference/functions/math-functions/ title=数学 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数学</a> <a href=../../sql-reference/functions/rounding-functions/ title=丸め class="nav-link text-light text-wrap d-inline-block w-100 px-0">丸め</a> <a href=../../sql-reference/functions/array-functions/ title=配列の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配列の操作</a> <a href=../../sql-reference/functions/splitting-merging-functions/ title=文字列と配列の分割とマージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列と配列の分割とマージ</a> <a href=../../sql-reference/functions/bit-functions/ title=ビット class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビット</a> <a href=../../sql-reference/functions/bitmap-functions/ title=ビットマ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビットマ</a> <a href=../../sql-reference/functions/hash-functions/ title=ハッシュ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ハッシュ</a> <a href=../../sql-reference/functions/random-functions/ title=擬似乱数の生成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">擬似乱数の生成</a> <a href=../../sql-reference/functions/encoding-functions/ title=エンコード class="nav-link text-light text-wrap d-inline-block w-100 px-0">エンコード</a> <a href=../../sql-reference/functions/uuid-functions/ title=UUIDの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUIDの操作</a> <a href=../../sql-reference/functions/url-functions/ title=Urlの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Urlの操作</a> <a href=../../sql-reference/functions/ip-address-functions/ title=IPアドレスの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPアドレスの操作</a> <a href=../../sql-reference/functions/json-functions/ title=JSONでの作業 class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSONでの作業</a> <a href=../../sql-reference/functions/higher-order-functions/ title=高次 class="nav-link text-light text-wrap d-inline-block w-100 px-0">高次</a> <a href=../../sql-reference/functions/ext-dict-functions/ title=外部辞書の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部辞書の操作</a> <a href=../../sql-reference/functions/ym-dict-functions/ title=Yandexでの作業。メトリカ辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandexでの作業。メトリカ辞書</a> <a href=../../sql-reference/functions/in-functions/ title=IN演算子の実装 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN演算子の実装</a> <a href=../../sql-reference/functions/array-join/ title=アレイジョイン class="nav-link text-light text-wrap d-inline-block w-100 px-0">アレイジョイン</a> <a href=../../sql-reference/functions/geo/ title=地理座標の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">地理座標の操作</a> <a href=../../sql-reference/functions/functions-for-nulls/ title=Null許容引数の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null許容引数の操作</a> <a href=../../sql-reference/functions/machine-learning-functions/ title=機械学習機能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">機械学習機能</a> <a href=../../sql-reference/functions/introspection/ title=内省 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内省</a> <a href=../../sql-reference/functions/other-functions/ title=その他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">その他</a> </nav> </div> <a href=#sidebar-sidebar-4-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-5 title=集計関数 class="nav-link text-light dropdown-toggle px-0">集計関数</a> <div id=sidebar-sidebar-4-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/aggregate-functions/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../sql-reference/aggregate-functions/reference/ title=参照 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参照</a> <a href=../../sql-reference/aggregate-functions/combinators/ title=コンビネータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">コンビネータ</a> <a href=../../sql-reference/aggregate-functions/parametric-functions/ title=パラメトリック class="nav-link text-light text-wrap d-inline-block w-100 px-0">パラメトリック</a> </nav> </div> <a href=#sidebar-sidebar-4-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-6 title=テーブル関数 class="nav-link text-light dropdown-toggle px-0">テーブル関数</a> <div id=sidebar-sidebar-4-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/table-functions/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../sql-reference/table-functions/file/ title=ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ファイル</a> <a href=../../sql-reference/table-functions/merge/ title=マージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">マージ</a> <a href=../../sql-reference/table-functions/numbers/ title=数字 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数字</a> <a href=../../sql-reference/table-functions/remote/ title=リモート class="nav-link text-light text-wrap d-inline-block w-100 px-0">リモート</a> <a href=../../sql-reference/table-functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../sql-reference/table-functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../sql-reference/table-functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../sql-reference/table-functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../sql-reference/table-functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../sql-reference/table-functions/input/ title=入力 class="nav-link text-light text-wrap d-inline-block w-100 px-0">入力</a> <a href=../../sql-reference/table-functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-4-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-7 title=辞書 class="nav-link text-light dropdown-toggle px-0">辞書</a> <div id=sidebar-sidebar-4-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/dictionaries/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=#sidebar-sidebar-4-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-7-2 title=外部辞書 class="nav-link text-light dropdown-toggle px-0">外部辞書</a> <div id=sidebar-sidebar-4-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts/ title=一般的な説明 class="nav-link text-light text-wrap d-inline-block w-100 px-0">一般的な説明</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/ title=外部ディクショナリの構成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部ディクショナリの構成</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/ title=メモリへの辞書の格納 class="nav-link text-light text-wrap d-inline-block w-100 px-0">メモリへの辞書の格納</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/ title=辞書の更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書の更新</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/ title=外部辞書のソース class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部辞書のソース</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/ title=辞書キーとフィールド class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書キーとフィールド</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/ title=階層辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">階層辞書</a> </nav> </div> <a href=../../sql-reference/dictionaries/internal-dicts/ title=内部辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内部辞書</a> </nav> </div> <a href=#sidebar-sidebar-4-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8 title=データ型 class="nav-link text-light dropdown-toggle px-0">データ型</a> <div id=sidebar-sidebar-4-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../sql-reference/data-types/int-uint/ title=UInt8、UInt16、UInt32、UInt64、Int8、Int16、Int32、Int64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8、UInt16、UInt32、UInt64、Int8、Int16、Int32、Int64</a> <a href=../../sql-reference/data-types/float/ title=Float32、Float64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32、Float64</a> <a href=../../sql-reference/data-types/decimal/ title=小数点 class="nav-link text-light text-wrap d-inline-block w-100 px-0">小数点</a> <a href=../../sql-reference/data-types/boolean/ title=ブール値 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ブール値</a> <a href=../../sql-reference/data-types/string/ title=文字列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列</a> <a href=../../sql-reference/data-types/fixedstring/ title=固定文字列(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">固定文字列(N)</a> <a href=../../sql-reference/data-types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../sql-reference/data-types/date/ title=日付 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日付</a> <a href=../../sql-reference/data-types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../sql-reference/data-types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../sql-reference/data-types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../sql-reference/data-types/array/ title=配列(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">配列(T)</a> <a href=../../sql-reference/data-types/aggregatefunction/ title=AggregateFunction(名前,types_of_arguments...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(名前,types_of_arguments...)</a> <a href=../../sql-reference/data-types/tuple/ title=Tuple(T1,T2,...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1,T2,...)</a> <a href=../../sql-reference/data-types/nullable/ title=Null可能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null可能</a> <a href=#sidebar-sidebar-4-8-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8-17 title=入れ子データ構造 class="nav-link text-light dropdown-toggle px-0">入れ子データ構造</a> <div id=sidebar-sidebar-4-8-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/nested-data-structures/nested/ title=ネストされた(Name1Type1,Name2Type2,...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">ネストされた(Name1Type1,Name2Type2,...)</a> </nav> </div> <a href=#sidebar-sidebar-4-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8-18 title=特殊データ型 class="nav-link text-light dropdown-toggle px-0">特殊データ型</a> <div id=sidebar-sidebar-4-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/special-data-types/expression/ title=式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">式</a> <a href=../../sql-reference/data-types/special-data-types/set/ title=セット class="nav-link text-light text-wrap d-inline-block w-100 px-0">セット</a> <a href=../../sql-reference/data-types/special-data-types/nothing/ title=何もない class="nav-link text-light text-wrap d-inline-block w-100 px-0">何もない</a> <a href=../../sql-reference/data-types/special-data-types/interval/ title=間隔 class="nav-link text-light text-wrap d-inline-block w-100 px-0">間隔</a> </nav> </div> <a href=#sidebar-sidebar-4-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-8-19 title=ドメイン class="nav-link text-light dropdown-toggle px-0">ドメイン</a> <div id=sidebar-sidebar-4-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/domains/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../sql-reference/data-types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../sql-reference/data-types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../sql-reference/data-types/simpleaggregatefunction/ title=SimpleAggregateFunction class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a> </nav> </div> <a href=#sidebar-sidebar-4-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-9 title=演算子 class="nav-link text-light dropdown-toggle px-0">演算子</a> <div id=sidebar-sidebar-4-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/operators/ title=演算子 class="nav-link text-light text-wrap d-inline-block w-100 px-0">演算子</a> <a href=../../sql-reference/operators/in/ title="IN Operators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN Operators</a> </nav> </div> <a href=../../sql-reference/ansi/ title=ANSIの互換性 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSIの互換性</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=ガイド class="nav-link text-light dropdown-toggle px-0">ガイド</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../guides/apply-catboost-model/ title=CatBoostモデルの適用 class="nav-link text-light text-wrap d-inline-block w-100 px-0">CatBoostモデルの適用</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=操作 class="nav-link text-light dropdown-toggle px-0">操作</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../operations/requirements/ title=要件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">要件</a> <a href=../../operations/monitoring/ title=監視 class="nav-link text-light text-wrap d-inline-block w-100 px-0">監視</a> <a href=../../operations/troubleshooting/ title=トラブルシ class="nav-link text-light text-wrap d-inline-block w-100 px-0">トラブルシ</a> <a href=../../operations/update/ title=クリックハウスの更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウスの更新</a> <a href=../../operations/access-rights/ title=アクセス制御とアカウント管理 class="nav-link text-light text-wrap d-inline-block w-100 px-0">アクセス制御とアカウント管理</a> <a href=../../operations/backup/ title=データバックア class="nav-link text-light text-wrap d-inline-block w-100 px-0">データバックア</a> <a href=../../operations/configuration-files/ title=設定ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定ファイル</a> <a href=../../operations/quotas/ title=クォータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">クォータ</a> <a href=../../operations/system-tables/ title=システム表 class="nav-link text-light text-wrap d-inline-block w-100 px-0">システム表</a> <a href=#sidebar-sidebar-6-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-11 title=性能の最適化 class="nav-link text-light dropdown-toggle px-0">性能の最適化</a> <div id=sidebar-sidebar-6-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/optimizing-performance/sampling-query-profiler/ title=Queryプロファイリング class="nav-link text-light text-wrap d-inline-block w-100 px-0">Queryプロファイリング</a> </nav> </div> <a href=#sidebar-sidebar-6-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-12 title=サーバ構成パラメータ class="nav-link text-light dropdown-toggle px-0">サーバ構成パラメータ</a> <div id=sidebar-sidebar-6-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server-configuration-parameters/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../operations/server-configuration-parameters/settings/ title=サーバー設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">サーバー設定</a> </nav> </div> <a href=../../operations/performance-test/ title=ハードウェア試験 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ハードウェア試験</a> <a href=#sidebar-sidebar-6-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-14 title=設定 class="nav-link text-light dropdown-toggle px-0">設定</a> <div id=sidebar-sidebar-6-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=はじめに class="nav-link text-light text-wrap d-inline-block w-100 px-0">はじめに</a> <a href=../../operations/settings/permissions-for-queries/ title=クエリの権限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クエリの権限</a> <a href=../../operations/settings/query-complexity/ title=クエリの複雑さの制限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クエリの複雑さの制限</a> <a href=../../operations/settings/settings-profiles/ title=設定プロファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定プロファイル</a> <a href=../../operations/settings/constraints-on-settings/ title=設定の制約 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定の制約</a> <a href=../../operations/settings/settings-users/ title=ユーザー設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ユーザー設定</a> <a href=../../operations/settings/settings/ title=設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定</a> </nav> </div> <a href=#sidebar-sidebar-6-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-15 title=ユーティリ class="nav-link text-light dropdown-toggle px-0">ユーティリ</a> <div id=sidebar-sidebar-6-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utilities/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../operations/utilities/clickhouse-copier/ title=クリックハウス-複写機 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウス-複写機</a> <a href=../../operations/utilities/clickhouse-local/ title=ﾂつｨﾂ姪 ﾂ債ﾂつｹ&quot; class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂつｨﾂ姪"ﾂ債ﾂつｹ</a> <a href=../../operations/utilities/clickhouse-benchmark/ title=clickhouse-ベンチマーク class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-ベンチマーク</a> </nav> </div> <a href=../../operations/tips/ title=使用法の推奨事項 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用法の推奨事項</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=開発 class="nav-link text-light dropdown-toggle px-0">開発</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/developer-instruction/ title=初心者ClickHouse開発者の指示 class="nav-link text-light text-wrap d-inline-block w-100 px-0">初心者ClickHouse開発者の指示</a> <a href=../../development/architecture/ title=クリックハウス建築の概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウス建築の概要</a> <a href=../../development/browse-code/ title=ソースコードの参照 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ソースコードの参照</a> <a href=../../development/build/ title=Linux上でClickHouseを構築する方法 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Linux上でClickHouseを構築する方法</a> <a href=../../development/build-osx/ title="Mac OS XでClickHouseを構築する方法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mac OS XでClickHouseを構築する方法</a> <a href=../../development/build-cross-osx/ title="Mac OS X用のLinux上でClickHouseを構築する方法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mac OS X用のLinux上でClickHouseを構築する方法</a> <a href=../../development/build-cross-arm/ title=Aarch64用のLinux上でClickHouseを構築する方法(ARM64) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aarch64用のLinux上でClickHouseを構築する方法(ARM64)</a> <a href=../../development/style/ title=C++コードの書き方 class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++コードの書き方</a> <a href=../../development/tests/ title=Testing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing</a> <a href=../../development/contrib/ title=サードパーティ製ライブラリを使用 class="nav-link text-light text-wrap d-inline-block w-100 px-0">サードパーティ製ライブラリを使用</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=商業 class="nav-link text-light dropdown-toggle px-0">商業</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../commercial/cloud/ title=クラウド class="nav-link text-light text-wrap d-inline-block w-100 px-0">クラウド</a> <a href=../../commercial/support/ title=Support class="nav-link text-light text-wrap d-inline-block w-100 px-0">Support</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=新着情報 class="nav-link text-light dropdown-toggle px-0">新着情報</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-9-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9-2 title=Changelog class="nav-link text-light dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-9-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats-new/changelog/ title=2021 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2021</a> <a href=../../whats-new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../whats-new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../whats-new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../whats-new/roadmap/ title=ロード class="nav-link text-light text-wrap d-inline-block w-100 px-0">ロード</a> <a href=../../whats-new/security-changelog/ title=セキュリティ変更履歴 class="nav-link text-light text-wrap d-inline-block w-100 px-0">セキュリティ変更履歴</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=F.A.Q. class="nav-link text-light dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/general/ title=一般的な質問 class="nav-link text-light text-wrap d-inline-block w-100 px-0">一般的な質問</a> </nav> </div> <a href=../../single/clickhouse_ja.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-4"> <div id=content class=mt-md-n3> <nav class=text-muted aria-label=breadcrumb> <ol class="breadcrumb bg-transparent p-0"> <li class=breadcrumb-item><a href=../ class=text-reset>インター</a> </li> </ol> </nav> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/interfaces/formats/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/interfaces/formats.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=formats>入出力データのフォーマット<a class=headerlink href=#formats title="Permanent link"> </a></h1> <p>ClickHouse受け入れと返信データなフレームワークです。 入力用にサポートされている形式を使用して、指定されたデータを解析できます <code class=syntax>INSERT</code>s、実行する <code class=syntax>SELECT</code>ファイル、URL、HDFSなどのファイルバックアップテーブルから、または外部辞書を読み取ることができます。 出力でサポートされているフォーマットを使用して、<br> aの結果 <code class=syntax>SELECT</code>、および実行する <code class=syntax>INSERT</code>ファイルバックアップテーブルにs。</p> <p>のサポートされるフォーマットは:</p> <table> <thead> <tr> <th>形式</th> <th>入力</th> <th>出力</th> </tr> </thead> <tbody> <tr> <td><a href=#tabseparated>TabSeparated</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#tabseparatedraw>TabSeparatedRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#tabseparatedwithnames>TabSeparatedWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#format-template>テンプレー</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#templateignorespaces>TemplateIgnoreSpaces</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=#csv>CSV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#csvwithnames>CSVWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#format-customseparated>カスタム区切り</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#data-format-values>値</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#vertical>垂直</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#verticalraw>VerticalRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#json>JSON</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#jsoncompact>JSONCompact</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#jsoneachrow>JSONEachRow</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#tskv>TSKV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#pretty>プリティ</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettycompact>プリティコンパクト</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettycompactmonoblock>プリティコンパクトモノブロック</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettynoescapes>プリティノスケープ</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettyspace>PrettySpace</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#protobuf>プロトブフ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#data-format-avro>アヴロ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#data-format-avro-confluent>アブロコンフルエント</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=#data-format-parquet>寄木細工</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#data-format-orc>ORC</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=#rowbinary>ローバイナリ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#native>ネイティブ</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#null>Null</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#xml>XML</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#capnproto>CapnProto</a></td> <td>✔</td> <td>✗</td> </tr> </tbody> </table> <p>ClickHouse設定を使用して、いくつかの形式処理パラメータを制御できます。 詳細については、 <a href=../../operations/settings/settings/ >設定</a> セクション</p> <h2 id=tabseparated>TabSeparated<a class=headerlink href=#tabseparated title="Permanent link"> </a></h2> <p>TabSeparated形式では、データは行ごとに書き込まれます。 各行にはタブで区切られた値が含まれます。 各値の後にはタブが続きますが、行の最後の値の後には改行が続きます。 厳正なUnixラインフィードと仮定します。 最後の行には、最後に改行も含める必要があります。 値は、引用符を囲まずにテキスト形式で書き込まれ、特殊文字はエスケープされます。</p> <p>この形式は、名前でも使用できます <code class=syntax>TSV</code>.</p> <p>その <code class=syntax>TabSeparated</code> 形式は便利な加工データをカスタムプログラムやイントロダクションです。 これは、HTTPインターフェイスおよびコマンドラインクライアントのバッチモードで既定で使用されます。 この形式は、異なるDbms間でデータを転送することもできます。 たとえば、MySQLからダンプを取得してClickHouseにアップロードすることも、その逆も可能です。</p> <p>その <code class=syntax>TabSeparated</code> 書式では、合計値(合計と共に使用する場合)と極値(場合)の出力がサポートされます ‘extremes’ 1)に設定される。 このような場合、合計値と極値がメインデータの後に出力されます。 主な結果、合計値、および極値は、空の行で区切られます。 例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>TabSeparated</span><span class=o>``</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>2014-03-17      1406958
2014-03-18      1383658
2014-03-19      1405797
2014-03-20      1353623
2014-03-21      1245779
2014-03-22      1031592
2014-03-23      1046491

1970-01-01      8873898

2014-03-17      1031592
2014-03-23      1406958
</code></pre></div> <h3 id=data-formatting>データの書式設定<a class=headerlink href=#data-formatting title="Permanent link"> </a></h3> <p>整数は小数点形式で書かれています。 番号を含むことができ追加 “+” 先頭の文字(解析時は無視され、書式設定時は記録されません)。 負でない数値には負符号を含めることはできません。 読み取り時には、空の文字列をゼロとして解析するか、（符号付き型の場合）マイナス記号だけで構成される文字列をゼロとして解析することができ 対応するデータ型に適合しない数値は、エラーメッセージなしで別の数値として解析される可能性があります。</p> <p>浮動小数点数は小数点形式で記述されます。 ドットは小数点区切り記号として使用されます。 指数エントリがサポートされています。 ‘inf’, ‘+inf’, ‘-inf’,and ‘nan’. 浮動小数点数のエントリは、小数点で始まったり終わったりすることがあります。<br> 書式設定中に、浮動小数点数の精度が失われる可能性があります。<br> 解析中に、最も近いマシン表現可能な番号を読み取ることは厳密には必要ありません。</p> <p>日付はYYYY-MM-DD形式で記述され、同じ形式で解析されますが、区切り文字として任意の文字が使用されます。<br> 時刻付きの日付は、次の形式で記述されます <code class=syntax>YYYY-MM-DD hh:mm:ss</code> 同じ形式で解析されますが、区切り文字として任意の文字で解析されます。<br> これはすべて、クライアントまたはサーバーが起動したときのシステムタイムゾーンで発生します(データの形式に応じて)。 時刻のある日付の場合、夏時間は指定されません。 したがって、夏時間の間にダンプに時間がある場合、ダンプはデータと明確に一致しないため、解析は二回のいずれかを選択します。<br> 読み取り操作中に、エラーメッセージなしで、自然なオーバーフローまたはnullの日付と時刻として、不適切な日付と時刻を解析することができます。</p> <p>例外として、正確に10桁の数字で構成されている場合は、時刻を含む日付の解析もUnixタイムスタンプ形式でサポートされます。 結果はタイムゾーンに依存しません。 YYYY-MM-DD hh:mm:ssとNNNNNNNNNNの形式は自動的に区別されます。</p> <p>文字列はバックスラッシュでエスケープされた特殊文字で出力されます。 以下のエスケープシーケンスを使用出力: <code class=syntax>\b</code>, <code class=syntax>\f</code>, <code class=syntax>\r</code>, <code class=syntax>\n</code>, <code class=syntax>\t</code>, <code class=syntax>\0</code>, <code class=syntax>\'</code>, <code class=syntax>\\</code>. 解析にも対応し配列 <code class=syntax>\a</code>, <code class=syntax>\v</code>,and <code class=syntax>\xHH</code> (hexエスケープシーケンス)と <code class=syntax>\c</code> シーケンス <code class=syntax>c</code> は任意の文字です(これらのシーケンスは <code class=syntax>c</code>). このように、データを読み込む形式に対応し、改行して書き込み可能で <code class=syntax>\n</code> または <code class=syntax>\</code>、または改行として。 たとえば、文字列 <code class=syntax>Hello world</code> スペースの代わりに単語の間の改行を使用すると、次のいずれかのバリエーションで解析できます:</p> <div class=codehilite><pre><span></span><code class=syntax>Hello\nworld

Hello\
world
</code></pre></div> <p>の変異体でサポートしてMySQLで書く時にタブ区切り捨て場.</p> <p>TabSeparated形式でデータを渡すときにエスケープする必要がある最小文字セット:tab、改行(LF)、およびバックスラッシュ。</p> <p>のみの小さなセットの記号は自動的にエスケープされます。 あなたの端末が出力で台無しにする文字列値に簡単に遭遇することができます。</p> <p>配列は、角かっこで囲まれたコンマ区切りの値のリストとして記述されます。 配列内のNumber項目は、通常どおりに書式設定されます。 <code class=syntax>Date</code> と <code class=syntax>DateTime</code> 型は単一引quotesで記述されます。 文字列は、上記と同じエスケープ規則で一重引quotesで記述されます。</p> <p><a href=../../sql-reference/syntax/ >NULL</a> として書式設定される <code class=syntax>\N</code>.</p> <p>の各要素 <a href=../../sql-reference/data-types/nested-data-structures/nested/ >入れ子</a> 構造体は配列として表されます。</p> <p>例えば:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>nestedt</span>
<span class=p>(</span>
    <span class=o>`</span><span class=n>id</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=n>aux</span><span class=o>`</span> <span class=n>Nested</span><span class=p>(</span>
        <span class=n>a</span> <span class=n>UInt8</span><span class=p>,</span>
        <span class=n>b</span> <span class=n>String</span>
    <span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>nestedt</span> <span class=k>Values</span> <span class=p>(</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=s1>'a'</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>nestedt</span> <span class=n>FORMAT</span> <span class=n>TSV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>1  [1]    ['a']
</code></pre></div> <h2 id=tabseparatedraw>TabSeparatedRaw<a class=headerlink href=#tabseparatedraw title="Permanent link"> </a></h2> <p>とは異なる <code class=syntax>TabSeparated</code> 行がエスケープせずに書き込まれる形式。<br> この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <p>この形式は、名前でも使用できます <code class=syntax>TSVRaw</code>.</p> <h2 id=tabseparatedwithnames>TabSeparatedWithNames<a class=headerlink href=#tabseparatedwithnames title="Permanent link"> </a></h2> <p>とは異なる <code class=syntax>TabSeparated</code> 列名が最初の行に書き込まれる形式。<br> 解析中、最初の行は完全に無視されます。 列名を使用して位置を特定したり、列の正しさを確認したりすることはできません。<br> （ヘッダー行の解析のサポートは、将来的に追加される可能性があります。)</p> <p>この形式は、名前でも使用できます <code class=syntax>TSVWithNames</code>.</p> <h2 id=tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes<a class=headerlink href=#tabseparatedwithnamesandtypes title="Permanent link"> </a></h2> <p>とは異なる <code class=syntax>TabSeparated</code> 列名は最初の行に書き込まれ、列タイプは二番目の行に書き込まれます。<br> 解析中、第一行と第二行は完全に無視されます。</p> <p>この形式は、名前でも使用できます <code class=syntax>TSVWithNamesAndTypes</code>.</p> <h2 id=format-template>テンプレー<a class=headerlink href=#format-template title="Permanent link"> </a></h2> <p>このフォーマットで指定するカスタムフォーマット文字列とプレースホルダーのための値を指定して逃げます。</p> <p>設定を使用します <code class=syntax>format_template_resultset</code>, <code class=syntax>format_template_row</code>, <code class=syntax>format_template_rows_between_delimiter</code> and some settings of other formats (e.g. <code class=syntax>output_format_json_quote_64bit_integers</code> 使用する場合 <code class=syntax>JSON</code> エスケープ、さらに参照)</p> <p>設定 <code class=syntax>format_template_row</code> 次の構文で行の書式指定文字列を含むファイルへのパスを指定します:</p> <p><code class=syntax>delimiter_1${column_1:serializeAs_1}delimiter_2${column_2:serializeAs_2} ... delimiter_N</code>,</p> <p>どこに <code class=syntax>delimiter_i</code> 値の区切り文字です (<code class=syntax>$</code> シンボルでき逃してい <code class=syntax>$$</code>),<br> <code class=syntax>column_i</code> 値が選択または挿入される列の名前またはインデックスを指定します(空の場合、列はスキップされます),<br> <code class=syntax>serializeAs_i</code> 列値のエスケープ規則です。 以下の脱出ルールに対応:</p> <ul> <li><code class=syntax>CSV</code>, <code class=syntax>JSON</code>, <code class=syntax>XML</code> （同じ名前の形式と同様)</li> <li><code class=syntax>Escaped</code> （同様に <code class=syntax>TSV</code>)</li> <li><code class=syntax>Quoted</code> （同様に <code class=syntax>Values</code>)</li> <li><code class=syntax>Raw</code> （エスケープせずに、同様に <code class=syntax>TSVRaw</code>)</li> <li><code class=syntax>None</code> （エスケープルールなし、詳細を参照)</li> </ul> <p>エスケープ規則が省略された場合、 <code class=syntax>None</code> 使用されます。 <code class=syntax>XML</code> と <code class=syntax>Raw</code> 出力のためにだけ適しています。</p> <p>したがって、次の書式文字列の場合:</p> <div class=codehilite><pre><span></span><code class=syntax>  `Search phrase: <span class=cp>${</span><span class=n>SearchPhrase</span><span class=p>:</span><span class=n>Quoted</span><span class=cp>}</span>, count: <span class=cp>${</span><span class=n>c</span><span class=p>:</span><span class=n>Escaped</span><span class=cp>}</span>, ad price: $$${price:JSON};`
</code></pre></div> <p>の値 <code class=syntax>SearchPhrase</code>, <code class=syntax>c</code> と <code class=syntax>price</code> 列は、次のようにエスケープ <code class=syntax>Quoted</code>, <code class=syntax>Escaped</code> と <code class=syntax>JSON</code> その間に（選択のために）印刷されるか、または（挿入のために）期待されます <code class=syntax>Search phrase:</code>, <code class=syntax>, count:</code>, <code class=syntax>, ad price: $</code> と <code class=syntax>;</code> 区切り文字。 例えば:</p> <p><code class=syntax>Search phrase: 'bathroom interior design', count: 2166, ad price: $3;</code></p> <p>その <code class=syntax>format_template_rows_between_delimiter</code> これは、最後の行を除くすべての行の後に印刷されます（または期待されます）。 (<code class=syntax>\n</code> 既定では)</p> <p>設定 <code class=syntax>format_template_resultset</code> このパスには、resultsetの書式指定文字列が含まれます。 Resultsetの書式指定文字列は、行の書式指定文字列と同じ構文を持ち、接頭辞、接尾辞、および追加情報を出力する方法を指定できます。 列名の代わりに次のプレースホルダが含まれます:</p> <ul> <li><code class=syntax>data</code> はデータを含む行です <code class=syntax>format_template_row</code> で区切られた形式 <code class=syntax>format_template_rows_between_delimiter</code>. このプレースホルダーの最初のプレースホルダー形式の文字列になります。</li> <li><code class=syntax>totals</code> は、合計値を持つ行です。 <code class=syntax>format_template_row</code> 書式(合計で使用する場合)</li> <li><code class=syntax>min</code> は最小値を持つ行です。 <code class=syntax>format_template_row</code> 書式(極値が1に設定されている場合)</li> <li><code class=syntax>max</code> は最大値を持つ行です。 <code class=syntax>format_template_row</code> 書式(極値が1に設定されている場合)</li> <li><code class=syntax>rows</code> 出力行の合計数です</li> <li><code class=syntax>rows_before_limit</code> そこにあったであろう行の最小数は制限なしです。 出力の場合のみを含むクエリを制限します。 クエリにGROUP BYが含まれている場合、rows_before_limit_at_leastは制限なしで行われていた行の正確な数です。</li> <li><code class=syntax>time</code> リクエストの実行時間を秒単位で指定します</li> <li><code class=syntax>rows_read</code> 読み込まれた行数です</li> <li><code class=syntax>bytes_read</code> (圧縮されていない)読み込まれたバイト数です</li> </ul> <p>プレースホルダ <code class=syntax>data</code>, <code class=syntax>totals</code>, <code class=syntax>min</code> と <code class=syntax>max</code> エスケープルールを指定してはいけません <code class=syntax>None</code> 明示的に指定する必要があります)。 残りのプレースホルダはあるの脱出ルールを指定します。<br> もし <code class=syntax>format_template_resultset</code> 設定は空の文字列です, <code class=syntax>${data}</code> デフォルト値として使用されます。<br> Insertクエリ形式では、接頭辞または接尾辞の場合は、一部の列または一部のフィールドをスキップできます（例を参照）。</p> <p>例を選択:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>'\n    '</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>&lt;!DOCTYPE HTML&gt;
&lt;html&gt; &lt;head&gt; &lt;title&gt;Search phrases&lt;/title&gt; &lt;/head&gt;
 &lt;body&gt;
  &lt;table border="1"&gt; &lt;caption&gt;Search phrases&lt;/caption&gt;
    &lt;tr&gt; &lt;th&gt;Search phrase&lt;/th&gt; &lt;th&gt;Count&lt;/th&gt; &lt;/tr&gt;
    ${data}
  &lt;/table&gt;
  &lt;table border="1"&gt; &lt;caption&gt;Max&lt;/caption&gt;
    ${max}
  &lt;/table&gt;
  &lt;b&gt;Processed ${rows_read:XML} rows in ${time:XML} sec&lt;/b&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>&lt;tr&gt; &lt;td&gt;${0:XML}&lt;/td&gt; &lt;td&gt;${1:XML}&lt;/td&gt; &lt;/tr&gt;
</code></pre></div> <p>結果:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>&lt;!DOCTYPE HTML&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
 <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>"1"</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Search phrase<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Count<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8267016<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>bathroom interior design<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>2166<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>yandex<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1655<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>spring 2014 fashion<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1549<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>freeform photos<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1480<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>"1"</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Max<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8873898<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>b</span><span class=p>&gt;</span>Processed 3095973 rows in 0.1569913 sec<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
 <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>挿入例:</p> <div class=codehilite><pre><span></span><code class=syntax>Some header
Page views: 5, User id: 4324182021466249494, Useless field: hello, Duration: 146, Sign: -1
Page views: 6, User id: 4324182021466249494, Useless field: world, Duration: 185, Sign: 1
Total rows: 2
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>Some header\n${data}\nTotal rows: ${:CSV}\n
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>Page views: ${PageViews:CSV}, User id: ${UserID:CSV}, Useless field: ${:CSV}, Duration: ${Duration:CSV}, Sign: ${Sign:CSV}
</code></pre></div> <p><code class=syntax>PageViews</code>, <code class=syntax>UserID</code>, <code class=syntax>Duration</code> と <code class=syntax>Sign</code> 内部のプレースホルダーは、テーブル内の列の名前です。 後の値 <code class=syntax>Useless field</code> 行とその後 <code class=syntax>\nTotal rows:</code> in suffixは無視されます。<br> すべての区切り文字の入力データを厳密に等しい区切り文字で指定されたフォーマット文字列です。</p> <h2 id=templateignorespaces>TemplateIgnoreSpaces<a class=headerlink href=#templateignorespaces title="Permanent link"> </a></h2> <p>この形式は入力にのみ適しています。<br> に類似した <code class=syntax>Template</code> しかし、入力ストリーム内の区切り文字と値の間の空白文字をスキップします。 ただし、書式指定文字列に空白文字が含まれている場合、これらの文字は入力ストリーム内で使用されます。 でも指定空のプレースホルダー (<code class=syntax>${}</code> または <code class=syntax>${:None}</code>）区切り文字を別々の部分に分割して、それらの間のスペースを無視します。 などのプレースホルダを使用させていただきますの飛び空白文字です。<br> それは読むことが可能です <code class=syntax>JSON</code> 列の値がすべての行で同じ順序を持つ場合は、この形式を使用します。 たとえば、次のリクエストは、formatの出力例からデータを挿入するために使用できます <a href=#json>JSON</a>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=k>table_name</span> <span class=n>FORMAT</span> <span class=n>TemplateIgnoreSpaces</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>'/some/path/resultset.format'</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>'/some/path/row.format'</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>','</span>
</code></pre></div> <p><code class=syntax>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>{${}"meta"${}:${:JSON},${}"data"${}:${}[${data}]${},${}"totals"${}:${:JSON},${}"extremes"${}:${:JSON},${}"rows"${}:${:JSON},${}"rows_before_limit_at_least"${}:${:JSON}${}}
</code></pre></div> <p><code class=syntax>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>{${}"SearchPhrase"${}:${}${phrase:JSON}${},${}"c"${}:${}${cnt:JSON}${}}
</code></pre></div> <h2 id=tskv>TSKV<a class=headerlink href=#tskv title="Permanent link"> </a></h2> <p>TabSeparatedに似ていますが、name=value形式で値を出力します。 名前はTabSeparated形式と同じ方法でエスケープされ、=記号もエスケープされます。</p> <div class=codehilite><pre><span></span><code class=syntax>SearchPhrase=   count()=8267016
SearchPhrase=bathroom interior design    count()=2166
SearchPhrase=yandex     count()=1655
SearchPhrase=2014 spring fashion    count()=1549
SearchPhrase=freeform photos       count()=1480
SearchPhrase=angelina jolie    count()=1245
SearchPhrase=omsk       count()=1112
SearchPhrase=photos of dog breeds    count()=1091
SearchPhrase=curtain designs        count()=1064
SearchPhrase=baku       count()=1000
</code></pre></div> <p><a href=../../sql-reference/syntax/ >NULL</a> として書式設定される <code class=syntax>\N</code>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>TSKV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>x=1    y=\N
</code></pre></div> <p>小さな列が多数ある場合、この形式は無効であり、一般的に使用する理由はありません。 それにもかかわらず、それはJSONEachRowよりも悪くありません効率の面で。</p> <p>Both data output and parsing are supported in this format. For parsing, any order is supported for the values of different columns. It is acceptable for some values to be omitted – they are treated as equal to their default values. In this case, zeros and blank rows are used as default values. Complex values that could be specified in the table are not supported as defaults.</p> <p>構文解析できるの存在は、追加のフィールド <code class=syntax>tskv</code> 等号または値なし。 この項目は無視されます。</p> <h2 id=csv>CSV<a class=headerlink href=#csv title="Permanent link"> </a></h2> <p>カンマ区切りの値の形式 (<a href=https://tools.ietf.org/html/rfc4180 rel="external nofollow noreferrer" target=_blank>RFC</a>).</p> <p>書式設定の場合、行は二重引用符で囲まれます。 文字列内の二重引用符は、行の二重引用符として出力されます。 文字をエスケープするルールは他にありません。 Dateとdate-timeは二重引用符で囲みます。 数値は引用符なしで出力されます。 値は区切り文字で区切られます。 <code class=syntax>,</code> デフォルトでは。 区切り文字は設定で定義されています <a href=../../operations/settings/settings/#settings-format_csv_delimiter>format_csv_delimiter</a>. 行は、Unixラインフィード(LF)を使用して区切られます。 最初に、配列はTabSeparated形式のように文字列にシリアル化され、結果の文字列は二重引用符でCSVに出力されます。 CSV形式のタプルは、個別の列としてシリアル化されます(つまり、タプル内の入れ子は失われます)。</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --format_csv_delimiter<span class=o>=</span><span class=s2>"|"</span> --query<span class=o>=</span><span class=s2>"INSERT INTO test.csv FORMAT CSV"</span> &lt; data.csv
</code></pre></div> <p>*デフォルトでは、区切り文字は <code class=syntax>,</code>. を参照。 <a href=../../operations/settings/settings/#settings-format_csv_delimiter>format_csv_delimiter</a> より多くの情報のための設定。</p> <p>解析時には、すべての値を引用符の有無にかかわらず解析できます。 二重引用符と単一引quotesの両方がサポートされています。 行は引用符なしで配置することもできます。 この場合、区切り文字または改行（CRまたはLF）まで解析されます。 RFCに違反して、引用符なしで行を解析すると、先頭と末尾のスペースとタブは無視されます。 ラインフィードでは、Unix(LF)、Windows(CR LF)、およびMac OS Classic(CR LF)タイプがすべてサポートされています。</p> <p>空の引用符で囲まれていない入力値は、それぞれの列のデフォルト値に置き換えられます。<br> <a href=../../operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a><br> 有効です。</p> <p><code class=syntax>NULL</code> として書式設定される <code class=syntax>\N</code> または <code class=syntax>NULL</code> または空の引用符で囲まれていない文字列(設定を参照 <a href=../../operations/settings/settings/#settings-input_format_csv_unquoted_null_literal_as_null>input_format_csv_unquoted_null_literal_as_null</a> と <a href=../../operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a>).</p> <p>CSV形式では、合計と極値の出力は次のようにサポートされます <code class=syntax>TabSeparated</code>.</p> <h2 id=csvwithnames>CSVWithNames<a class=headerlink href=#csvwithnames title="Permanent link"> </a></h2> <p>また、次のようなヘッダー行も出力します <code class=syntax>TabSeparatedWithNames</code>.</p> <h2 id=format-customseparated>カスタム区切り<a class=headerlink href=#format-customseparated title="Permanent link"> </a></h2> <p>に類似した <a href=#format-template>テンプレー</a> ですが、版画を読み込みまたは全てのカラムを使用脱出ルールからの設定 <code class=syntax>format_custom_escaping_rule</code> 設定から区切り文字 <code class=syntax>format_custom_field_delimiter</code>, <code class=syntax>format_custom_row_before_delimiter</code>, <code class=syntax>format_custom_row_after_delimiter</code>, <code class=syntax>format_custom_row_between_delimiter</code>, <code class=syntax>format_custom_result_before_delimiter</code> と <code class=syntax>format_custom_result_after_delimiter</code> 書式指定文字列からではありません。<br> また <code class=syntax>CustomSeparatedIgnoreSpaces</code> 形式は次のようになります <code class=syntax>TemplateIgnoreSpaces</code>.</p> <h2 id=json>JSON<a class=headerlink href=#json title="Permanent link"> </a></h2> <p>JSON形式でデータを出力します。 データテーブルのほかに、列名と型、および出力行の合計数、制限がない場合に出力される可能性のある行の数などの追加情報も出力します。 例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=n>JSON</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
        <span class=nt>"meta"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"SearchPhrase"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"String"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"c"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"UInt64"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"data"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8267016"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"bathroom interior design"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"2166"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"yandex"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1655"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"spring 2014 fashion"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1549"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>"freeform photos"</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1480"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"totals"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8873898"</span>
        <span class=p>},</span>

        <span class=nt>"extremes"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"min"</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"1480"</span>
                <span class=p>},</span>
                <span class=nt>"max"</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>"SearchPhrase"</span><span class=p>:</span> <span class=s2>""</span><span class=p>,</span>
                        <span class=nt>"c"</span><span class=p>:</span> <span class=s2>"8267016"</span>
                <span class=p>}</span>
        <span class=p>},</span>

        <span class=nt>"rows"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>"rows_before_limit_at_least"</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>JSONはJavaScriptと互換性があります。 これを確実にするために、一部の文字は追加でエスケープされます。 <code class=syntax>/</code> としてエスケープ <code class=syntax>\/</code>;代替の改行 <code class=syntax>U+2028</code> と <code class=syntax>U+2029</code> ブラウザによってはエスケープされます <code class=syntax>\uXXXX</code>. ASCII制御文字はエスケープされます。 <code class=syntax>\b</code>, <code class=syntax>\f</code>, <code class=syntax>\n</code>, <code class=syntax>\r</code>, <code class=syntax>\t</code> を使用して、00-1F範囲の残りのバイトと同様に <code class=syntax>\uXXXX</code> sequences. Invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences. For compatibility with JavaScript, Int64 and UInt64 integers are enclosed in double-quotes by default. To remove the quotes, you can set the configuration parameter <a href=../../operations/settings/settings/#session_settings-output_format_json_quote_64bit_integers>output_format_json_quote_64bit_integers</a> 0にする。</p> <p><code class=syntax>rows</code> – The total number of output rows.</p> <p><code class=syntax>rows_before_limit_at_least</code> そこにある行の最小数は制限なしであったでしょう。 出力の場合のみを含むクエリを制限します。<br> クエリにGROUP BYが含まれている場合、rows_before_limit_at_leastは制限なしで行われていた行の正確な数です。</p> <p><code class=syntax>totals</code> – Total values (when using WITH TOTALS).</p> <p><code class=syntax>extremes</code> – Extreme values (when extremes are set to 1).</p> <p>この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <p>ClickHouseサポート <a href=../../sql-reference/syntax/ >NULL</a> として表示されます。 <code class=syntax>null</code> JSON出力で。</p> <p>も参照。 <a href=#jsoneachrow>JSONEachRow</a> 形式。</p> <h2 id=jsoncompact>JSONCompact<a class=headerlink href=#jsoncompact title="Permanent link"> </a></h2> <p>JSONとは異なるのは、データ行がオブジェクトではなく配列で出力される点だけです。</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
        <span class=nt>"meta"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"SearchPhrase"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"String"</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"c"</span><span class=p>,</span>
                        <span class=nt>"type"</span><span class=p>:</span> <span class=s2>"UInt64"</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>"data"</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>[</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"8267016"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"bathroom interior design"</span><span class=p>,</span> <span class=s2>"2166"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"yandex"</span><span class=p>,</span> <span class=s2>"1655"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"fashion trends spring 2014"</span><span class=p>,</span> <span class=s2>"1549"</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>"freeform photo"</span><span class=p>,</span> <span class=s2>"1480"</span><span class=p>]</span>
        <span class=p>],</span>

        <span class=nt>"totals"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"8873898"</span><span class=p>],</span>

        <span class=nt>"extremes"</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>"min"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"1480"</span><span class=p>],</span>
                <span class=nt>"max"</span><span class=p>:</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span><span class=s2>"8267016"</span><span class=p>]</span>
        <span class=p>},</span>

        <span class=nt>"rows"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>"rows_before_limit_at_least"</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。<br> も参照。 <code class=syntax>JSONEachRow</code> 形式。</p> <h2 id=jsoneachrow>JSONEachRow<a class=headerlink href=#jsoneachrow title="Permanent link"> </a></h2> <p>この形式を使用する場合、ClickHouseは行を区切り、改行区切りのJSONオブジェクトとして出力しますが、データ全体は有効なJSONではありません。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>"curtain designs"</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"1064"</span><span class=p>}</span>
<span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>"baku"</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"1000"</span><span class=p>}</span>
<span class=p>{</span><span class=nt>"SearchPhrase"</span><span class=p>:</span><span class=s2>""</span><span class=p>,</span><span class=nt>"count()"</span><span class=p>:</span><span class=s2>"8267016"</span><span class=p>}</span>
</code></pre></div> <p>データを挿入するときは、各行に個別のJSONオブジェクトを指定する必要があります。</p> <h3 id=inserting-data>データの挿入<a class=headerlink href=#inserting-data title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"PageViews"</span><span class=p>:</span><span class=mi>5</span><span class=p>,</span> <span class=ss>"UserID"</span><span class=p>:</span><span class=ss>"4324182021466249494"</span><span class=p>,</span> <span class=ss>"Duration"</span><span class=p>:</span><span class=mi>146</span><span class=p>,</span><span class=ss>"Sign"</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=err>}</span> <span class=err>{</span><span class=ss>"UserID"</span><span class=p>:</span><span class=ss>"4324182021466249494"</span><span class=p>,</span><span class=ss>"PageViews"</span><span class=p>:</span><span class=mi>6</span><span class=p>,</span><span class=ss>"Duration"</span><span class=p>:</span><span class=mi>185</span><span class=p>,</span><span class=ss>"Sign"</span><span class=p>:</span><span class=mi>1</span><span class=err>}</span>
</code></pre></div> <p>クリックハウス:</p> <ul> <li>オブジェクト内のキーと値のペアの任意の順序。</li> <li>いくつかの値を省略します。</li> </ul> <p>ClickHouseを無視した空間要素には、カンマの後にオブジェクト。 すべてのオブジェクトを一行で渡すことができます。 改行で区切る必要はありません。</p> <p><strong>省略された値の処理</strong></p> <p>ClickHouseは省略された値を対応するデフォルト値に置き換えます <a href=../../sql-reference/data-types/ >データ型</a>.</p> <p>もし <code class=syntax>DEFAULT expr</code> に応じて異なる置換規則を使用します。 <a href=../../operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a> 設定。</p> <p>次の表を考えます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>example_table</span>
<span class=p>(</span>
    <span class=n>x</span> <span class=n>UInt32</span><span class=p>,</span>
    <span class=n>a</span> <span class=k>DEFAULT</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>
</code></pre></div> <ul> <li>もし <code class=syntax>input_format_defaults_for_omitted_fields = 0</code> のデフォルト値 <code class=syntax>x</code> と <code class=syntax>a</code> 等しい <code class=syntax>0</code> のデフォルト値として <code class=syntax>UInt32</code> データ型）。</li> <li>もし <code class=syntax>input_format_defaults_for_omitted_fields = 1</code> のデフォルト値 <code class=syntax>x</code> 等しい <code class=syntax>0</code> しかし、デフォルト値は <code class=syntax>a</code> 等しい <code class=syntax>x * 2</code>.</li> </ul> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">警告</p> <p>データを挿入するとき <code class=syntax>insert_sample_with_metadata = 1</code>,ClickHouseは、挿入と比較して、より多くの計算リソースを消費します <code class=syntax>insert_sample_with_metadata = 0</code>.</p> </div> <h3 id=selecting-data>データの選択<a class=headerlink href=#selecting-data title="Permanent link"> </a></h3> <p>を考える <code class=syntax>UserActivity</code> 例としての表:</p> <div class=codehilite><pre><span></span><code class=syntax>┌──────────────UserID─┬─PageViews─┬─Duration─┬─Sign─┐
│ 4324182021466249494 │         5 │      146 │   -1 │
│ 4324182021466249494 │         6 │      185 │    1 │
└─────────────────────┴───────────┴──────────┴──────┘
</code></pre></div> <p>クエリ <code class=syntax>SELECT * FROM UserActivity FORMAT JSONEachRow</code> ﾂづｩﾂ。:</p> <div class=codehilite><pre><span></span><code class=syntax>{"UserID":"4324182021466249494","PageViews":5,"Duration":146,"Sign":-1}
{"UserID":"4324182021466249494","PageViews":6,"Duration":185,"Sign":1}
</code></pre></div> <p>とは異なり <a href=#json>JSON</a> 無効なUTF-8シーケンスの置換はありません。 値は、次の場合と同じ方法でエスケープされます <code class=syntax>JSON</code>.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">注</p> <p>任意のバイトセットを文字列に出力できます。 使用する <code class=syntax>JSONEachRow</code> テーブル内のデータが情報を失うことなくJSONとしてフォーマットできることが確実な場合は、format。</p> </div> <h3 id=jsoneachrow-nested>入れ子構造の使用<a class=headerlink href=#jsoneachrow-nested title="Permanent link"> </a></h3> <p>あなたがテーブルを持っている場合 <a href=../../sql-reference/data-types/nested-data-structures/nested/ >入れ子</a> データ型の列には、同じ構造でJSONデータを挿入することができます。 この機能を有効にするには <a href=../../operations/settings/settings/#settings-input_format_import_nested_json>input_format_import_nested_json</a> 設定。</p> <p>たとえば、次の表を考えてみましょう:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>json_each_row_nested</span> <span class=p>(</span><span class=n>n</span> <span class=n>Nested</span> <span class=p>(</span><span class=n>s</span> <span class=n>String</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span>
</code></pre></div> <p>で見ることができるように <code class=syntax>Nested</code> ClickHouseは、入れ子構造の各コンポーネントを個別の列として扱います (<code class=syntax>n.s</code> と <code class=syntax>n.i</code> 私達のテーブルのため）。 次の方法でデータを挿入できます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n.s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"n.i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}</span>
</code></pre></div> <p>挿入データとしての階層JSONオブジェクト <a href=../../operations/settings/settings/#settings-input_format_import_nested_json>input_format_import_nested_json=1</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=p>{</span>
    <span class=nt>"n"</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>"s"</span><span class=p>:</span> <span class=p>[</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>"def"</span><span class=p>],</span>
        <span class=nt>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>この設定がない場合、ClickHouseは例外をスローします。</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>'input_format_import_nested_json'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─name────────────────────────────┬─value─┐
│ input_format_import_nested_json │ 0     │
└─────────────────────────────────┴───────┘
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n"</span><span class=p>:</span> <span class=err>{</span><span class=ss>"s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Code: 117. DB::Exception: Unknown field found while parsing JSONEachRow format: n: (at row 1)
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SET</span> <span class=n>input_format_import_nested_json</span><span class=o>=</span><span class=mi>1</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>"n"</span><span class=p>:</span> <span class=err>{</span><span class=ss>"s"</span><span class=p>:</span> <span class=p>[</span><span class=ss>"abc"</span><span class=p>,</span> <span class=ss>"def"</span><span class=p>],</span> <span class=ss>"i"</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>json_each_row_nested</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─n.s───────────┬─n.i────┐
│ ['abc','def'] │ [1,23] │
└───────────────┴────────┘
</code></pre></div> <h2 id=native>ネイティブ<a class=headerlink href=#native title="Permanent link"> </a></h2> <p>最も効率的な形式。 データ書き込みおよび読み込みをブロックのバイナリ形式です。 ブロックごとに、このブロック内の行数、列数、列名と型、および列の一部が次々と記録されます。 つまり、この形式は “columnar” – it doesn't convert columns to rows. This is the format used in the native interface for interaction between servers, for using the command-line client, and for C++ clients.</p> <p>この形式を使用すると、ClickHouse DBMSでのみ読み取ることができるダンプをすばやく生成できます。 この形式で自分で作業するのは理にかなっていません。</p> <h2 id=null>Null<a class=headerlink href=#null title="Permanent link"> </a></h2> <p>何も出力されません。 ただし、クエリは処理され、コマンドラインクライアントを使用する場合、データはクライアントに送信されます。 この使用のための試験、性能試験をします。<br> 明らかに、この形式は出力にのみ適しており、解析には適していません。</p> <h2 id=pretty>プリティ<a class=headerlink href=#pretty title="Permanent link"> </a></h2> <p>出力データとしてのUnicodeトテーブルも用ANSI-エスケープシーケンス設定色の端子です。<br> テーブルの完全なグリッドが描画され、各行は、端末内の二つの行を占めています。<br> 各結果ブロックは、個別のテーブルとして出力されます。 これは、結果をバッファリングせずにブロックを出力できるようにするために必要です（すべての値の可視幅を事前に計算するためにはバッファ</p> <p><a href=../../sql-reference/syntax/ >NULL</a> として出力されます <code class=syntax>ᴺᵁᴸᴸ</code>.</p> <p>例（以下に示す <a href=#prettycompact>プリティコンパクト</a> 形式):</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─x─┬────y─┐
│ 1 │ ᴺᵁᴸᴸ │
└───┴──────┘
</code></pre></div> <p>行はきれいな*形式ではエスケープされません。 例はのために示されています <a href=#prettycompact>プリティコンパクト</a> 形式:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=s1>'String with \'</span><span class=n>quotes</span><span class=err>\</span><span class=s1>' and \t character'</span> <span class=k>AS</span> <span class=n>Escaping_test</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─Escaping_test────────────────────────┐
│ String with 'quotes' and      character │
└──────────────────────────────────────┘
</code></pre></div> <p>端末に大量のデータをダンプするのを避けるために、最初の10,000行だけが印刷されます。 行数が10,000以上の場合、メッセージ “Showed first 10 000” 印刷されます。<br> この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <p>Pretty形式は、合計値(合計と共に使用する場合)および極値(場合)の出力をサポートします ‘extremes’ 1)に設定される。 このような場合、合計値と極値は、メインデータの後に個別のテーブルで出力されます。 例（以下に示す <a href=#prettycompact>プリティコンパクト</a> 形式):</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>PrettyCompact</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1406958 │
│ 2014-03-18 │ 1383658 │
│ 2014-03-19 │ 1405797 │
│ 2014-03-20 │ 1353623 │
│ 2014-03-21 │ 1245779 │
│ 2014-03-22 │ 1031592 │
│ 2014-03-23 │ 1046491 │
└────────────┴─────────┘

Totals:
┌──EventDate─┬───────c─┐
│ 1970-01-01 │ 8873898 │
└────────────┴─────────┘

Extremes:
┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1031592 │
│ 2014-03-23 │ 1406958 │
└────────────┴─────────┘
</code></pre></div> <h2 id=prettycompact>プリティコンパクト<a class=headerlink href=#prettycompact title="Permanent link"> </a></h2> <p>とは異なる <a href=#pretty>プリティ</a> グリッドが行の間に描画され、結果がよりコンパクトになるという点で。<br> この形式は、対話モードのコマンドラインクライアントで既定で使用されます。</p> <h2 id=prettycompactmonoblock>プリティコンパクトモノブロック<a class=headerlink href=#prettycompactmonoblock title="Permanent link"> </a></h2> <p>とは異なる <a href=#prettycompact>プリティコンパクト</a> 最大10,000行がバッファリングされ、ブロックではなく単一のテーブルとして出力されます。</p> <h2 id=prettynoescapes>プリティノスケープ<a class=headerlink href=#prettynoescapes title="Permanent link"> </a></h2> <p>Ansiエスケープシーケンスが使用されない点でPrettyとは異なります。 これは、ブラウザでこの形式を表示するために必要です。 ‘watch’ コマンドライン</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax>$ watch -n1 <span class=s2>"clickhouse-client --query='SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes'"</span>
</code></pre></div> <p>HTTPインターフェイスを使用して、ブラウザーで表示できます。</p> <h3 id=prettycompactnoescapes>プリティコンパクトノスケープ<a class=headerlink href=#prettycompactnoescapes title="Permanent link"> </a></h3> <p>前の設定と同じです。</p> <h3 id=prettyspacenoescapes>プリティスパセノスケープス<a class=headerlink href=#prettyspacenoescapes title="Permanent link"> </a></h3> <p>前の設定と同じです。</p> <h2 id=prettyspace>PrettySpace<a class=headerlink href=#prettyspace title="Permanent link"> </a></h2> <p>とは異なる <a href=#prettycompact>プリティコンパクト</a> その中で、グリッドの代わりに空白（空白文字）が使用されます。</p> <h2 id=rowbinary>ローバイナリ<a class=headerlink href=#rowbinary title="Permanent link"> </a></h2> <p>バイナリ形式で行ごとにデータを書式設定および解析します。 行と値は、区切り文字なしで連続して表示されます。<br> この形式は行ベースであるため、ネイティブ形式よりも効率的ではありません。</p> <p>整数は固定長のリトルエンディアン表現を使用します。 たとえば、UInt64は8バイトを使用します。<br> DateTimeは、Unixタイムスタンプを値として含むUInt32として表されます。<br> Dateは、値として1970-01-01以降の日数を含むUInt16オブジェクトとして表されます。<br> 文字列はvarintの長さ(符号なし)で表されます <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>)の後に文字列のバイトが続きます。<br> FixedStringは、単にバイトのシーケンスとして表されます。</p> <p>配列はvarintの長さとして表されます(符号なし <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>)の後に、配列の連続する要素が続きます。</p> <p>のために <a href=../../sql-reference/syntax/#null-literal>NULL</a> 1または0を含む追加のバイトがそれぞれの前に追加されます <a href=../../sql-reference/data-types/nullable/ >Null可能</a> 値。 1の場合、値は <code class=syntax>NULL</code> このバイトは別の値として解釈されます。 0の場合、バイトの後の値は <code class=syntax>NULL</code>.</p> <h2 id=rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes<a class=headerlink href=#rowbinarywithnamesandtypes title="Permanent link"> </a></h2> <p>に類似した <a href=#rowbinary>ローバイナリ</a>,しかし、追加されたヘッダ:</p> <ul> <li><a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer" target=_blank>LEB128</a>-エンコードされた列数(N)</li> <li>N <code class=syntax>String</code>s列名の指定</li> <li>N <code class=syntax>String</code>s列タイプの指定</li> </ul> <h2 id=data-format-values>値<a class=headerlink href=#data-format-values title="Permanent link"> </a></h2> <p>すべての行をかっこで表示します。 行はカンマで区切られます。 最後の行の後にコンマはありません。 角かっこ内の値もコンマ区切りです。 数値は、引用符なしで小数点形式で出力されます。 配列は角かっこで出力されます。 文字列、日付、および時刻付きの日付は引用符で出力されます。 ルールのエスケープと解析は <a href=#tabseparated>TabSeparated</a> 形式。 フォーマット中に余分なスペースは挿入されませんが、解析中には許可され、スキップされます（配列値内のスペースは許可されません）。 <a href=../../sql-reference/syntax/ >NULL</a> と表される。 <code class=syntax>NULL</code>.</p> <p>The minimum set of characters that you need to escape when passing data in Values ​​format: single quotes and backslashes.</p> <p>これはで使用される形式です <code class=syntax>INSERT INTO t VALUES ...</code> ただし、クエリ結果の書式設定にも使用できます。</p> <p>も参照。: <a href=../../operations/settings/settings/#settings-input_format_values_interpret_expressions>input_format_values_interpret_expressions</a> と <a href=../../operations/settings/settings/#settings-input_format_values_deduce_templates_of_expressions>input_format_values_deduce_templates_of_expressions</a> 設定。</p> <h2 id=vertical>垂直<a class=headerlink href=#vertical title="Permanent link"> </a></h2> <p>列名を指定して、それぞれの値を別々の行に出力します。 この形式は、各行が多数の列で構成されている場合、一つまたは数つの行だけを印刷するのに便利です。</p> <p><a href=../../sql-reference/syntax/ >NULL</a> として出力されます <code class=syntax>ᴺᵁᴸᴸ</code>.</p> <p>例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
x: 1
y: ᴺᵁᴸᴸ
</code></pre></div> <p>行は縦書式でエスケープされません:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=s1>'string with \'</span><span class=n>quotes</span><span class=err>\</span><span class=s1>' and \t with some special \n characters'</span> <span class=k>AS</span> <span class=n>test</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
test: string with 'quotes' and      with some special
 characters
</code></pre></div> <p>この形式は、クエリ結果の出力にのみ適していますが、解析(テーブルに挿入するデータの取得)には適していません。</p> <h2 id=verticalraw>VerticalRaw<a class=headerlink href=#verticalraw title="Permanent link"> </a></h2> <p>に類似した <a href=#vertical>垂直</a> しかし、エスケープ無効で。 この形式は、クエリ結果の出力にのみ適しており、解析（データの受信とテーブルへの挿入）には適していません。</p> <h2 id=xml>XML<a class=headerlink href=#xml title="Permanent link"> </a></h2> <p>XML形式は出力にのみ適しており、解析には適していません。 例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;</span>
<span class=nt>&lt;result&gt;</span>
        <span class=nt>&lt;meta&gt;</span>
                <span class=nt>&lt;columns&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>SearchPhrase<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>String<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>count()<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>UInt64<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                <span class=nt>&lt;/columns&gt;</span>
        <span class=nt>&lt;/meta&gt;</span>
        <span class=nt>&lt;data&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>8267016<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>bathroom interior design<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>2166<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>yandex<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1655<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>2014 spring fashion<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1549<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>freeform photos<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1480<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>angelina jolie<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1245<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>omsk<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1112<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>photos of dog breeds<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1091<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>curtain designs<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1064<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>baku<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1000<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
        <span class=nt>&lt;/data&gt;</span>
        <span class=nt>&lt;rows&gt;</span>10<span class=nt>&lt;/rows&gt;</span>
        <span class=nt>&lt;rows_before_limit_at_least&gt;</span>141137<span class=nt>&lt;/rows_before_limit_at_least&gt;</span>
<span class=nt>&lt;/result&gt;</span>
</code></pre></div> <p>列名に許容可能な形式がない場合は、次のようにします ‘field’ 要素名として使用されます。 一般に、XML構造はJSON構造に従います。<br> Just as for JSON, invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences.</p> <p>文字列値では、文字 <code class=syntax>&lt;</code> と <code class=syntax>&amp;</code> としてエスケープ <code class=syntax>&lt;</code> と <code class=syntax>&amp;</code>.</p> <p>配列は次のように出力される <code class=syntax>&lt;array&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/array&gt;</code>、およびタプルとして <code class=syntax>&lt;tuple&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/tuple&gt;</code>.</p> <h2 id=capnproto>CapnProto<a class=headerlink href=#capnproto title="Permanent link"> </a></h2> <p>Cap'n Protoは、プロトコルバッファや倹約に似たバイナリメッセージ形式ですが、JSONやMessagePackのようなものではありません。</p> <p>Cap'n Protoメッセージは厳密に型指定され、自己記述ではないため、外部スキーマ記述が必要です。 スキーマはその場で適用され、クエリごとにキャッシュされます。</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat capnproto_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>"INSERT INTO test.hits FORMAT CapnProto SETTINGS format_schema='schema:Message'"</span>
</code></pre></div> <p>どこに <code class=syntax>schema.capnp</code> このように見えます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>struct</span> <span class=n>Message</span> {
  <span class=n>SearchPhrase</span> <span class=nd>@0</span> <span class=nc>:Text</span>;
  <span class=n>c</span> <span class=nd>@1</span> <span class=nc>:Uint64</span>;
}
</code></pre></div> <p>逆シリアル化は効果的であり、通常はシステム負荷を増加させません。</p> <p>も参照。 <a href=#formatschema>スキーマの書式</a>.</p> <h2 id=protobuf>プロトブフ<a class=headerlink href=#protobuf title="Permanent link"> </a></h2> <p>Protobufは-です <a href=https://developers.google.com/protocol-buffers/ rel="external nofollow noreferrer" target=_blank>プロトコル</a> 形式。</p> <p>この形式には、外部形式スキーマが必要です。 このスキーマをキャッシュ間のクエリ.<br> ClickHouseは両方をサポート <code class=syntax>proto2</code> と <code class=syntax>proto3</code> 構文。 繰り返/オプションに必要な分野に対応しています。</p> <p>使用例:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=k>table</span> <span class=n>FORMAT</span> <span class=n>Protobuf</span> <span class=n>SETTINGS</span> <span class=n>format_schema</span> <span class=o>=</span> <span class=s1>'schemafile:MessageType'</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>cat protobuf_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>"INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema='schemafile:MessageType'"</span>
</code></pre></div> <p>ここで、ファイル <code class=syntax>schemafile.proto</code> このように見えます:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>syntax</span> <span class=l>= "proto3"</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>string</span> <span class=n>name</span> <span class=l>= 1</span>;
  <span class=n>string</span> <span class=n>surname</span> <span class=l>= 2</span>;
  <span class=n>uint32</span> <span class=n>birthDate</span> <span class=l>= 3</span>;
  <span class=n>repeated</span> <span class=n>string</span> <span class=n>phoneNumbers</span> <span class=l>= 4</span>;
};
</code></pre></div> <p>の対応関係はテーブル列-分野のプロトコルバッファのメッセージタイプClickHouseを比較しつけられた名前が使われている。<br> この比較では、大文字と小文字は区別されません。 <code class=syntax>_</code> (アンダースコア)と <code class=syntax>.</code> （ドット）は等しいと見なされます。<br> 列の型とプロトコルバッファのメッセージのフィールドが異なる場合は、必要な変換が適用されます。</p> <p>ネストしたメッセージに対応します。 たとえば、フィールドの場合 <code class=syntax>z</code> 次のメッセージの種類</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>message</span> <span class=n>XType</span> {
    <span class=n>message</span> <span class=n>YType</span> {
      <span class=n>int32</span> <span class=n>z</span>;
    };
    <span class=n>repeated</span> <span class=n>YType</span> <span class=n>y</span>;
  };
  <span class=n>XType</span> <span class=n>x</span>;
};
</code></pre></div> <p>ClickHouseは、名前のある列を検索しようとします <code class=syntax>x.y.z</code> （または <code class=syntax>x_y_z</code> または <code class=syntax>X.y_Z</code> というように）。<br> 入れ子になったメッセージは、 <a href=../../sql-reference/data-types/nested-data-structures/nested/ >入れ子データ構造</a>.</p> <p>次のようにprotobufスキーマで定義されたデフォルト値</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>syntax</span> <span class=l>= "proto2"</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>optional</span> <span class=n>int32</span> <span class=n>result_per_page</span> <span class=l>= 3 [default = 10]</span>;
}
</code></pre></div> <p>は適用されない。 <a href=../../sql-reference/statements/create/#create-default-values>テーブルの既定値</a> それらの代わりに使用されます。</p> <p>ClickHouseの入力および出力protobufのメッセージ <code class=syntax>length-delimited</code> 形式。<br> これは、すべてのメッセージがその長さを書き込まれる前に <a href=https://developers.google.com/protocol-buffers/docs/encoding#varints rel="external nofollow noreferrer" target=_blank>varint</a>.<br> も参照。 <a href=https://cwiki.apache.org/confluence/display/GEODE/Delimiting+Protobuf+Messages rel="external nofollow noreferrer" target=_blank>一般的な言語で長さ区切りのprotobufメッセージを読み書きする方法</a>.</p> <h2 id=data-format-avro>アヴロ<a class=headerlink href=#data-format-avro title="Permanent link"> </a></h2> <p><a href=http://avro.apache.org/ rel="external nofollow noreferrer" target=_blank>Apache Avro</a> ApacheのHadoopプロジェクト内で開発された行指向のデータ直列化フレームワークです。</p> <p>ClickHouse Avro形式は読み書きをサポートします <a href=http://avro.apache.org/docs/current/spec.html#Object+Container+Files rel="external nofollow noreferrer" target=_blank>Avroデータファイル</a>.</p> <h3 id=data_types-matching>データ型の一致<a class=headerlink href=#data_types-matching title="Permanent link"> </a></h3> <p>次の表に、サポートされているデータ型とClickHouseとの一致を示します <a href=../../sql-reference/data-types/ >データ型</a> で <code class=syntax>INSERT</code> と <code class=syntax>SELECT</code> クエリ。</p> <table> <thead> <tr> <th>Avroデータ型 <code class=syntax>INSERT</code></th> <th>ClickHouseデータ型</th> <th>Avroデータ型 <code class=syntax>SELECT</code></th> </tr> </thead> <tbody> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int(8/16/32)</a>, <a href=../../sql-reference/data-types/int-uint/ >UInt(8/16/32)</a></td> <td><code class=syntax>int</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int64</a>, <a href=../../sql-reference/data-types/int-uint/ >UInt64</a></td> <td><code class=syntax>long</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../sql-reference/data-types/float/ >Float32</a></td> <td><code class=syntax>float</code></td> </tr> <tr> <td><code class=syntax>boolean</code>, <code class=syntax>int</code>, <code class=syntax>long</code>, <code class=syntax>float</code>, <code class=syntax>double</code></td> <td><a href=../../sql-reference/data-types/float/ >Float64</a></td> <td><code class=syntax>double</code></td> </tr> <tr> <td><code class=syntax>bytes</code>, <code class=syntax>string</code>, <code class=syntax>fixed</code>, <code class=syntax>enum</code></td> <td><a href=../../sql-reference/data-types/string/ >文字列</a></td> <td><code class=syntax>bytes</code></td> </tr> <tr> <td><code class=syntax>bytes</code>, <code class=syntax>string</code>, <code class=syntax>fixed</code></td> <td><a href=../../sql-reference/data-types/fixedstring/ >固定文字列(N)</a></td> <td><code class=syntax>fixed(N)</code></td> </tr> <tr> <td><code class=syntax>enum</code></td> <td><a href=../../sql-reference/data-types/enum/ >Enum（8月16日)</a></td> <td><code class=syntax>enum</code></td> </tr> <tr> <td><code class=syntax>array(T)</code></td> <td><a href=../../sql-reference/data-types/array/ >配列(T)</a></td> <td><code class=syntax>array(T)</code></td> </tr> <tr> <td><code class=syntax>union(null, T)</code>, <code class=syntax>union(T, null)</code></td> <td><a href=../../sql-reference/data-types/date/ >Nullable(T)</a></td> <td><code class=syntax>union(null, T)</code></td> </tr> <tr> <td><code class=syntax>null</code></td> <td><a href=../../sql-reference/data-types/special-data-types/nothing/ >Nullable(Nothing)</a></td> <td><code class=syntax>null</code></td> </tr> <tr> <td><code class=syntax>int (date)</code> *</td> <td><a href=../../sql-reference/data-types/date/ >日付</a></td> <td><code class=syntax>int (date)</code> *</td> </tr> <tr> <td><code class=syntax>long (timestamp-millis)</code> *</td> <td><a href=../../sql-reference/data-types/datetime/ >DateTime64(3)</a></td> <td><code class=syntax>long (timestamp-millis)</code> *</td> </tr> <tr> <td><code class=syntax>long (timestamp-micros)</code> *</td> <td><a href=../../sql-reference/data-types/datetime/ >DateTime64(6)</a></td> <td><code class=syntax>long (timestamp-micros)</code> *</td> </tr> </tbody> </table> <p>* <a href=http://avro.apache.org/docs/current/spec.html#Logical+Types rel="external nofollow noreferrer" target=_blank>Avro論理タイプ</a></p> <p>未サポートのAvroデータ型: <code class=syntax>record</code> （非ルート), <code class=syntax>map</code></p> <p>サポートされないAvro論理データ型: <code class=syntax>uuid</code>, <code class=syntax>time-millis</code>, <code class=syntax>time-micros</code>, <code class=syntax>duration</code></p> <h3 id=inserting-data-1>データの挿入<a class=headerlink href=#inserting-data-1 title="Permanent link"> </a></h3> <p>AvroファイルからClickHouseテーブルにデータを挿入するには:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat file.avro <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO {some_table} FORMAT Avro"</span>
</code></pre></div> <p>入力Avroファ <code class=syntax>record</code> タイプ。</p> <p>の対応関係はテーブル列分野のアブロスキーマClickHouseを比較しつけられた名前が使われている。 この比較では、大文字と小文字が区別されます。<br> 未使用の項目はスキップされます。</p> <p>データの種類ClickHouseテーブルの列ができ、対応する分野においてアブロのデータを挿入します。 データを挿入するとき、ClickHouseは上記の表に従ってデータ型を解釈し、次に <a href=../../sql-reference/functions/type-conversion-functions/#type_conversion_function-cast>キャスト</a> 対応する列タイプのデータ。</p> <h3 id=selecting-data-1>データの選択<a class=headerlink href=#selecting-data-1 title="Permanent link"> </a></h3> <p>ClickHouseテーブルからAvroファイルにデータを選択するには:</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --query<span class=o>=</span><span class=s2>"SELECT * FROM {some_table} FORMAT Avro"</span> &gt; file.avro
</code></pre></div> <p>列名は必須です:</p> <ul> <li>で始まる <code class=syntax>[A-Za-z_]</code></li> <li>その後のみ <code class=syntax>[A-Za-z0-9_]</code></li> </ul> <p>出力Avroファイルの圧縮および同期間隔は以下で設定できます <a href=../../operations/settings/settings/#settings-output_format_avro_codec>output_format_avro_codec</a> と <a href=../../operations/settings/settings/#settings-output_format_avro_sync_interval>output_format_avro_sync_interval</a> それぞれ。</p> <h2 id=data-format-avro-confluent>アブロコンフルエント<a class=headerlink href=#data-format-avro-confluent title="Permanent link"> </a></h2> <p>AvroConfluent支援復号単一のオブジェクトアブロのメッセージを使用する <a href=https://kafka.apache.org/ rel="external nofollow noreferrer" target=_blank>カフカ</a> と <a href=https://docs.confluent.io/current/schema-registry/index.html rel="external nofollow noreferrer" target=_blank>Confluentスキーマレジストリ</a>.</p> <p>各Avroメッセージには、スキーマレジストリを使用して実際のスキーマに解決できるスキーマidが埋め込まれます。</p> <p>スキーマがキャッシュ一度に解決されます。</p> <p>スキーマのレジストリのURLは設定され <a href=../../operations/settings/settings/#settings-format_avro_schema_registry_url>format_avro_schema_registry_url</a></p> <h3 id=data_types-matching-1>データ型の一致<a class=headerlink href=#data_types-matching-1 title="Permanent link"> </a></h3> <p>同じ <a href=#data-format-avro>アヴロ</a></p> <h3 id=usage>使用法<a class=headerlink href=#usage title="Permanent link"> </a></h3> <p>迅速な検証スキーマ分解能を使用でき <a href=https://github.com/edenhill/kafkacat rel="external nofollow noreferrer" target=_blank>kafkacat</a> と <a href=../../operations/utilities/clickhouse-local/ >ﾂつｨﾂ姪"ﾂ債ﾂつｹ</a>:</p> <div class=codehilite><pre><span></span><code class=syntax>$ kafkacat -b kafka-broker  -C -t topic1 -o beginning -f <span class=s1>'%s'</span> -c <span class=m>3</span> <span class=p>|</span> clickhouse-local   --input-format AvroConfluent --format_avro_schema_registry_url <span class=s1>'http://schema-registry'</span> -S <span class=s2>"field1 Int64, field2 String"</span>  -q <span class=s1>'select *  from table'</span>
<span class=m>1</span> a
<span class=m>2</span> b
<span class=m>3</span> c
</code></pre></div> <p>使用するには <code class=syntax>AvroConfluent</code> と <a href=../../engines/table-engines/integrations/kafka/ >カフカ</a>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>topic1_stream</span>
<span class=p>(</span>
    <span class=n>field1</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>field2</span> <span class=n>String</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Kafka</span><span class=p>()</span>
<span class=n>SETTINGS</span>
<span class=n>kafka_broker_list</span> <span class=o>=</span> <span class=s1>'kafka-broker'</span><span class=p>,</span>
<span class=n>kafka_topic_list</span> <span class=o>=</span> <span class=s1>'topic1'</span><span class=p>,</span>
<span class=n>kafka_group_name</span> <span class=o>=</span> <span class=s1>'group1'</span><span class=p>,</span>
<span class=n>kafka_format</span> <span class=o>=</span> <span class=s1>'AvroConfluent'</span><span class=p>;</span>

<span class=k>SET</span> <span class=n>format_avro_schema_registry_url</span> <span class=o>=</span> <span class=s1>'http://schema-registry'</span><span class=p>;</span>

<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>topic1_stream</span><span class=p>;</span>
</code></pre></div> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">警告</p> <p>設定 <code class=syntax>format_avro_schema_registry_url</code> で構成する必要があります <code class=syntax>users.xml</code> 再起動後にその値を維持する。</p> </div> <h2 id=data-format-parquet>寄木細工<a class=headerlink href=#data-format-parquet title="Permanent link"> </a></h2> <p><a href=http://parquet.apache.org/ rel="external nofollow noreferrer" target=_blank>アパッチの寄木細工</a> Hadoopエコシステムに広く普及している柱状ストレージ形式です。 ClickHouse支援を読み取りと書き込みの操作のためにこの形式です。</p> <h3 id=data_types-matching-2>データ型の一致<a class=headerlink href=#data_types-matching-2 title="Permanent link"> </a></h3> <p>次の表に、サポートされているデータ型とClickHouseとの一致を示します <a href=../../sql-reference/data-types/ >データ型</a> で <code class=syntax>INSERT</code> と <code class=syntax>SELECT</code> クエリ。</p> <table> <thead> <tr> <th>Parquetデータ型 (<code class=syntax>INSERT</code>)</th> <th>ClickHouseデータ型</th> <th>Parquetデータ型 (<code class=syntax>SELECT</code>)</th> </tr> </thead> <tbody> <tr> <td><code class=syntax>UINT8</code>, <code class=syntax>BOOL</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt8</a></td> <td><code class=syntax>UINT8</code></td> </tr> <tr> <td><code class=syntax>INT8</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int8</a></td> <td><code class=syntax>INT8</code></td> </tr> <tr> <td><code class=syntax>UINT16</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt16</a></td> <td><code class=syntax>UINT16</code></td> </tr> <tr> <td><code class=syntax>INT16</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int16</a></td> <td><code class=syntax>INT16</code></td> </tr> <tr> <td><code class=syntax>UINT32</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt32</a></td> <td><code class=syntax>UINT32</code></td> </tr> <tr> <td><code class=syntax>INT32</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int32</a></td> <td><code class=syntax>INT32</code></td> </tr> <tr> <td><code class=syntax>UINT64</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt64</a></td> <td><code class=syntax>UINT64</code></td> </tr> <tr> <td><code class=syntax>INT64</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int64</a></td> <td><code class=syntax>INT64</code></td> </tr> <tr> <td><code class=syntax>FLOAT</code>, <code class=syntax>HALF_FLOAT</code></td> <td><a href=../../sql-reference/data-types/float/ >Float32</a></td> <td><code class=syntax>FLOAT</code></td> </tr> <tr> <td><code class=syntax>DOUBLE</code></td> <td><a href=../../sql-reference/data-types/float/ >Float64</a></td> <td><code class=syntax>DOUBLE</code></td> </tr> <tr> <td><code class=syntax>DATE32</code></td> <td><a href=../../sql-reference/data-types/date/ >日付</a></td> <td><code class=syntax>UINT16</code></td> </tr> <tr> <td><code class=syntax>DATE64</code>, <code class=syntax>TIMESTAMP</code></td> <td><a href=../../sql-reference/data-types/datetime/ >DateTime</a></td> <td><code class=syntax>UINT32</code></td> </tr> <tr> <td><code class=syntax>STRING</code>, <code class=syntax>BINARY</code></td> <td><a href=../../sql-reference/data-types/string/ >文字列</a></td> <td><code class=syntax>STRING</code></td> </tr> <tr> <td>—</td> <td><a href=../../sql-reference/data-types/fixedstring/ >FixedString</a></td> <td><code class=syntax>STRING</code></td> </tr> <tr> <td><code class=syntax>DECIMAL</code></td> <td><a href=../../sql-reference/data-types/decimal/ >小数点</a></td> <td><code class=syntax>DECIMAL</code></td> </tr> </tbody> </table> <p>ClickHouseは構成可能の精密を支えます <code class=syntax>Decimal</code> タイプ。 その <code class=syntax>INSERT</code> クエリは、寄木細工を扱います <code class=syntax>DECIMAL</code> ClickHouseとして入力します <code class=syntax>Decimal128</code> タイプ。</p> <p>対応していな寄木細工のデータ種類: <code class=syntax>DATE32</code>, <code class=syntax>TIME32</code>, <code class=syntax>FIXED_SIZE_BINARY</code>, <code class=syntax>JSON</code>, <code class=syntax>UUID</code>, <code class=syntax>ENUM</code>.</p> <p>データの種類ClickHouseテーブルの列ができ、対応する分野の寄木細工のデータを挿入します。 データを挿入するとき、ClickHouseは上記の表に従ってデータ型を解釈し、次に <a href=../query_language/functions/type_conversion_functions/#type_conversion_function-cast>キャスト</a> ClickHouseテーブル列に設定されているそのデータ型のデータ。</p> <h3 id=inserting-and-selecting-data>データの挿入と選択<a class=headerlink href=#inserting-and-selecting-data title="Permanent link"> </a></h3> <p>次のコマンドで、ファイルからパーケットデータをClickHouseテーブルに挿入できます:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat <span class=o>{</span>filename<span class=o>}</span> <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO {some_table} FORMAT Parquet"</span>
</code></pre></div> <p>ClickHouseテーブルからデータを選択し、次のコマンドでParquet形式でファイルに保存できます:</p> <div class=codehilite><pre><span></span><code class=syntax>$ clickhouse-client --query<span class=o>=</span><span class=s2>"SELECT * FROM {some_table} FORMAT Parquet"</span> &gt; <span class=o>{</span>some_file.pq<span class=o>}</span>
</code></pre></div> <p>Hadoopとデータを交換するには、以下を使用できます <a href=../../engines/table-engines/integrations/hdfs/ >HDFSテーブルエンジン</a>.</p> <h2 id=data-format-orc>ORC<a class=headerlink href=#data-format-orc title="Permanent link"> </a></h2> <p><a href=https://orc.apache.org/ rel="external nofollow noreferrer" target=_blank>Apache ORC</a> Hadoopエコシステムに広く普及している柱状ストレージ形式です。 この形式のデータはClickHouseにのみ挿入できます。</p> <h3 id=data_types-matching-3>データ型の一致<a class=headerlink href=#data_types-matching-3 title="Permanent link"> </a></h3> <p>次の表に、サポートされているデータ型とClickHouseとの一致を示します <a href=../../sql-reference/data-types/ >データ型</a> で <code class=syntax>INSERT</code> クエリ。</p> <table> <thead> <tr> <th>ORCデータ型 (<code class=syntax>INSERT</code>)</th> <th>ClickHouseデータ型</th> </tr> </thead> <tbody> <tr> <td><code class=syntax>UINT8</code>, <code class=syntax>BOOL</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt8</a></td> </tr> <tr> <td><code class=syntax>INT8</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int8</a></td> </tr> <tr> <td><code class=syntax>UINT16</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt16</a></td> </tr> <tr> <td><code class=syntax>INT16</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int16</a></td> </tr> <tr> <td><code class=syntax>UINT32</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt32</a></td> </tr> <tr> <td><code class=syntax>INT32</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int32</a></td> </tr> <tr> <td><code class=syntax>UINT64</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >UInt64</a></td> </tr> <tr> <td><code class=syntax>INT64</code></td> <td><a href=../../sql-reference/data-types/int-uint/ >Int64</a></td> </tr> <tr> <td><code class=syntax>FLOAT</code>, <code class=syntax>HALF_FLOAT</code></td> <td><a href=../../sql-reference/data-types/float/ >Float32</a></td> </tr> <tr> <td><code class=syntax>DOUBLE</code></td> <td><a href=../../sql-reference/data-types/float/ >Float64</a></td> </tr> <tr> <td><code class=syntax>DATE32</code></td> <td><a href=../../sql-reference/data-types/date/ >日付</a></td> </tr> <tr> <td><code class=syntax>DATE64</code>, <code class=syntax>TIMESTAMP</code></td> <td><a href=../../sql-reference/data-types/datetime/ >DateTime</a></td> </tr> <tr> <td><code class=syntax>STRING</code>, <code class=syntax>BINARY</code></td> <td><a href=../../sql-reference/data-types/string/ >文字列</a></td> </tr> <tr> <td><code class=syntax>DECIMAL</code></td> <td><a href=../../sql-reference/data-types/decimal/ >小数点</a></td> </tr> </tbody> </table> <p>ClickHouseはの構成可能の精密を支えます <code class=syntax>Decimal</code> タイプ。 その <code class=syntax>INSERT</code> クエリはORCを扱います <code class=syntax>DECIMAL</code> ClickHouseとして入力します <code class=syntax>Decimal128</code> タイプ。</p> <p>未サポートのORCデータ型: <code class=syntax>DATE32</code>, <code class=syntax>TIME32</code>, <code class=syntax>FIXED_SIZE_BINARY</code>, <code class=syntax>JSON</code>, <code class=syntax>UUID</code>, <code class=syntax>ENUM</code>.</p> <p>ClickHouseテーブル列のデータ型は、対応するORCデータフィールドと一致する必要はありません。 データを挿入するとき、ClickHouseは上記の表に従ってデータ型を解釈し、次に <a href=../../sql-reference/functions/type-conversion-functions/#type_conversion_function-cast>キャスト</a> ClickHouseテーブル列のデータ型セットへのデータ。</p> <h3 id=inserting-data-2>データの挿入<a class=headerlink href=#inserting-data-2 title="Permanent link"> </a></h3> <p>次のコマンドで、ファイルからOrcデータをClickHouseテーブルに挿入できます:</p> <div class=codehilite><pre><span></span><code class=syntax>$ cat filename.orc <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>"INSERT INTO some_table FORMAT ORC"</span>
</code></pre></div> <p>Hadoopとデータを交換するには、以下を使用できます <a href=../../engines/table-engines/integrations/hdfs/ >HDFSテーブルエンジン</a>.</p> <h2 id=formatschema>スキーマの書式<a class=headerlink href=#formatschema title="Permanent link"> </a></h2> <p>形式スキーマを含むファイル名は、この設定によって設定されます <code class=syntax>format_schema</code>.<br> いずれかの形式を使用する場合は、この設定を設定する必要があります <code class=syntax>Cap'n Proto</code> と <code class=syntax>Protobuf</code>.<br> 形式スキーマは、ファイル名とこのファイル内のメッセージ型の名前の組み合わせで、コロンで区切られます,<br> e.g. <code class=syntax>schemafile.proto:MessageType</code>.<br> ファイルが形式の標準拡張子を持っている場合（たとえば, <code class=syntax>.proto</code> のために <code class=syntax>Protobuf</code>),<br> この場合、形式スキーマは次のようになります <code class=syntax>schemafile:MessageType</code>.</p> <p>を介してデータを入力または出力する場合 <a href=../cli/ >クライアン</a> で <a href=../cli/#cli_usage>対話モード</a>,形式スキーマで指定されたファイル名<br> を含むことができ、絶対パス名は相対パスを現在のディレクトリのクライアント<br> クライアントを使用する場合 <a href=../cli/#cli_usage>バッチモード</a> は、パスのスキーマ"相対的"に指定する必要があります。</p> <p>を介してデータを入力または出力する場合 <a href=../http/ >HTTPインターフェ</a> 形式スキーマで指定されたファイル名<br> 指定されたディレクトリにあるはずです。 <a href=../../operations/server-configuration-parameters/settings/#server_configuration_parameters-format_schema_path>format_schema_path</a><br> サーバー構成で。</p> <h2 id=skippingerrors>スキップエラー<a class=headerlink href=#skippingerrors title="Permanent link"> </a></h2> <p>次のような形式があります <code class=syntax>CSV</code>, <code class=syntax>TabSeparated</code>, <code class=syntax>TSKV</code>, <code class=syntax>JSONEachRow</code>, <code class=syntax>Template</code>, <code class=syntax>CustomSeparated</code> と <code class=syntax>Protobuf</code> 解析エラーが発生した場合に壊れた行をスキップし、次の行の先頭から解析を続行できます。 見る <a href=../../operations/settings/settings/#settings-input_format_allow_errors_num>input_format_allow_errors_num</a> と<br> <a href=../../operations/settings/settings/#settings-input_format_allow_errors_ratio>input_format_allow_errors_ratio</a> 設定。<br> 制限:<br> -解析エラーの場合 <code class=syntax>JSONEachRow</code> 新しい行(またはEOF)まですべてのデータをスキップします。 <code class=syntax>\n</code> エラーを正しく数える。<br> - <code class=syntax>Template</code> と <code class=syntax>CustomSeparated</code> 最後の列の後にdelimiterを使用し、行の間にdelimiterを使用すると、次の行の先頭を見つけることができます。</p> <p><a href=https://clickhouse.tech/docs/en/interfaces/formats/ target=_blank>元の記事</a> <!--hide--></p> </div> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Was this content helpful?</span> <div id=rating-stars class="display-6 mb-0" data-titles="['Unusable', 'Poor', 'OK', 'Good', 'Excellent']" data-documentation=documentation>RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2021 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/878a159538935028f2d2dce3eb3074d44eb191df rel="external nofollow noreferrer" target=_blank class=text-reset>878a159538</a> </div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#tabseparated title=TabSeparated class="nav-link text-wrap d-inline-block w-100"> TabSeparated </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#data-formatting title=データの書式設定 class="nav-link text-wrap d-inline-block w-100"> データの書式設定 </a> </nav> <a href=#tabseparatedraw title=TabSeparatedRaw class="nav-link text-wrap d-inline-block w-100"> TabSeparatedRaw </a> <a href=#tabseparatedwithnames title=TabSeparatedWithNames class="nav-link text-wrap d-inline-block w-100"> TabSeparatedWithNames </a> <a href=#tabseparatedwithnamesandtypes title=TabSeparatedWithNamesAndTypes class="nav-link text-wrap d-inline-block w-100"> TabSeparatedWithNamesAndTypes </a> <a href=#format-template title=テンプレー class="nav-link text-wrap d-inline-block w-100"> テンプレー </a> <a href=#templateignorespaces title=TemplateIgnoreSpaces class="nav-link text-wrap d-inline-block w-100"> TemplateIgnoreSpaces </a> <a href=#tskv title=TSKV class="nav-link text-wrap d-inline-block w-100"> TSKV </a> <a href=#csv title=CSV class="nav-link text-wrap d-inline-block w-100"> CSV </a> <a href=#csvwithnames title=CSVWithNames class="nav-link text-wrap d-inline-block w-100"> CSVWithNames </a> <a href=#format-customseparated title=カスタム区切り class="nav-link text-wrap d-inline-block w-100"> カスタム区切り </a> <a href=#json title=JSON class="nav-link text-wrap d-inline-block w-100"> JSON </a> <a href=#jsoncompact title=JSONCompact class="nav-link text-wrap d-inline-block w-100"> JSONCompact </a> <a href=#jsoneachrow title=JSONEachRow class="nav-link text-wrap d-inline-block w-100"> JSONEachRow </a> <nav id=toc-toc-13 class="nav flex-column pl-2"> <a href=#inserting-data title=データの挿入 class="nav-link text-wrap d-inline-block w-100"> データの挿入 </a> <a href=#selecting-data title=データの選択 class="nav-link text-wrap d-inline-block w-100"> データの選択 </a> <a href=#jsoneachrow-nested title=入れ子構造の使用 class="nav-link text-wrap d-inline-block w-100"> 入れ子構造の使用 </a> </nav> <a href=#native title=ネイティブ class="nav-link text-wrap d-inline-block w-100"> ネイティブ </a> <a href=#null title=Null class="nav-link text-wrap d-inline-block w-100"> Null </a> <a href=#pretty title=プリティ class="nav-link text-wrap d-inline-block w-100"> プリティ </a> <a href=#prettycompact title=プリティコンパクト class="nav-link text-wrap d-inline-block w-100"> プリティコンパクト </a> <a href=#prettycompactmonoblock title=プリティコンパクトモノブロック class="nav-link text-wrap d-inline-block w-100"> プリティコンパクトモノブロック </a> <a href=#prettynoescapes title=プリティノスケープ class="nav-link text-wrap d-inline-block w-100"> プリティノスケープ </a> <nav id=toc-toc-19 class="nav flex-column pl-2"> <a href=#prettycompactnoescapes title=プリティコンパクトノスケープ class="nav-link text-wrap d-inline-block w-100"> プリティコンパクトノスケープ </a> <a href=#prettyspacenoescapes title=プリティスパセノスケープス class="nav-link text-wrap d-inline-block w-100"> プリティスパセノスケープス </a> </nav> <a href=#prettyspace title=PrettySpace class="nav-link text-wrap d-inline-block w-100"> PrettySpace </a> <a href=#rowbinary title=ローバイナリ class="nav-link text-wrap d-inline-block w-100"> ローバイナリ </a> <a href=#rowbinarywithnamesandtypes title=RowBinaryWithNamesAndTypes class="nav-link text-wrap d-inline-block w-100"> RowBinaryWithNamesAndTypes </a> <a href=#data-format-values title=値 class="nav-link text-wrap d-inline-block w-100"> 値 </a> <a href=#vertical title=垂直 class="nav-link text-wrap d-inline-block w-100"> 垂直 </a> <a href=#verticalraw title=VerticalRaw class="nav-link text-wrap d-inline-block w-100"> VerticalRaw </a> <a href=#xml title=XML class="nav-link text-wrap d-inline-block w-100"> XML </a> <a href=#capnproto title=CapnProto class="nav-link text-wrap d-inline-block w-100"> CapnProto </a> <a href=#protobuf title=プロトブフ class="nav-link text-wrap d-inline-block w-100"> プロトブフ </a> <a href=#data-format-avro title=アヴロ class="nav-link text-wrap d-inline-block w-100"> アヴロ </a> <nav id=toc-toc-29 class="nav flex-column pl-2"> <a href=#data_types-matching title=データ型の一致 class="nav-link text-wrap d-inline-block w-100"> データ型の一致 </a> <a href=#inserting-data-1 title=データの挿入 class="nav-link text-wrap d-inline-block w-100"> データの挿入 </a> <a href=#selecting-data-1 title=データの選択 class="nav-link text-wrap d-inline-block w-100"> データの選択 </a> </nav> <a href=#data-format-avro-confluent title=アブロコンフルエント class="nav-link text-wrap d-inline-block w-100"> アブロコンフルエント </a> <nav id=toc-toc-30 class="nav flex-column pl-2"> <a href=#data_types-matching-1 title=データ型の一致 class="nav-link text-wrap d-inline-block w-100"> データ型の一致 </a> <a href=#usage title=使用法 class="nav-link text-wrap d-inline-block w-100"> 使用法 </a> </nav> <a href=#data-format-parquet title=寄木細工 class="nav-link text-wrap d-inline-block w-100"> 寄木細工 </a> <nav id=toc-toc-31 class="nav flex-column pl-2"> <a href=#data_types-matching-2 title=データ型の一致 class="nav-link text-wrap d-inline-block w-100"> データ型の一致 </a> <a href=#inserting-and-selecting-data title=データの挿入と選択 class="nav-link text-wrap d-inline-block w-100"> データの挿入と選択 </a> </nav> <a href=#data-format-orc title=ORC class="nav-link text-wrap d-inline-block w-100"> ORC </a> <nav id=toc-toc-32 class="nav flex-column pl-2"> <a href=#data_types-matching-3 title=データ型の一致 class="nav-link text-wrap d-inline-block w-100"> データ型の一致 </a> <a href=#inserting-data-2 title=データの挿入 class="nav-link text-wrap d-inline-block w-100"> データの挿入 </a> </nav> <a href=#formatschema title=スキーマの書式 class="nav-link text-wrap d-inline-block w-100"> スキーマの書式 </a> <a href=#skippingerrors title=スキップエラー class="nav-link text-wrap d-inline-block w-100"> スキップエラー </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?da3fd50d></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>