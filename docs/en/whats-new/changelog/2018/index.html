










    



    



    



    
    






    
        
        
    
    <!DOCTYPE html>
<html lang="en" data-version="master" data-single-page="false">
<head>
    
<meta charset="utf-8" />
<META http-equiv="Content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>2018 | ClickHouse Documentation</title>

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180x180.png" />

<meta property="og:title" content="2018 | ClickHouse Documentation"/>
<meta property="og:description" content="ClickHouse Release 18.16 ClickHouse Release 18.16.1, 2018-12-21 Bug Fixes: Fixed an error that led to problems with upda" />
<meta property="og:type" content="article" />

<meta property="og:image" content="https://clickhouse.tech/images/logo.png" />

<meta property="og:url" content="https://clickhouse.com/docs/en/whats-new/changelog/2018/"/>
<link rel="canonical" href="https://clickhouse.com/docs/en/whats-new/changelog/2018/" />

<link rel="amphtml" href="https://clickhouse.com/docs/en/whats-new/changelog/2018/amp/" />

<link rel="search" href="/opensearch.xml" title="ClickHouse" type="application/opensearchdescription+xml" />

<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "2018 | ClickHouse Documentation",
"mainEntityOfPage": "https://clickhouse.com/docs/en/whats-new/changelog/2018/",




"image": "https://clickhouse.com/images/clickhouse-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "ClickHouse, Inc.",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.com/images/logo-400x240.png",
    "width": 400,
    "height": 240
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "2018 | ClickHouse Documentation",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>


<meta name="description" content="ClickHouse Release 18.16 ClickHouse Release 18.16.1, 2018-12-21 Bug Fixes: Fixed an error that led to problems with upda" />

<meta name="keywords"
      content="ClickHouse, DBMS, OLAP, SQL, open-source, relational, analytics, analytical, Big Data, web-analytics" />




    
    <link rel="alternate" hreflang="en" href="https://clickhouse.com/docs/en/whats-new/changelog/2018/" />
    
    <link rel="alternate" hreflang="zh" href="https://clickhouse.com/docs/zh/whats-new/changelog/2018/" />
    
    <link rel="alternate" hreflang="ru" href="https://clickhouse.com/docs/ru/whats-new/changelog/2018/" />
    
    <link rel="alternate" hreflang="ja" href="https://clickhouse.com/docs/ja/whats-new/changelog/2018/" />
    
    <link rel="alternate" hreflang="x-default" href="https://clickhouse.com/docs/en/whats-new/changelog/2018/" />





    
    <link href="/css/base.css?css_digest" media="all" rel="stylesheet" />


</head>
<body dir="ltr" data-spy="scroll" data-target="#toc" data-offset="80">
    
    <div class="page">
        
    
        <nav id="top-nav" class="navbar py-1 navbar-dark navbar-expand-md bg-dark-alt text-white fixed-top">
    <div class="container-fluid justify-content-between">
        <a class="d-block navbar-brand mr-3" href="/">
            <img id="docs-logo-icon" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"/>
        </a>
        <div class="w-100 navbar-text text-left d-none d-md-block">
            <h1 class="h3 m-0 p-0 d-inline">
                <a href="#" class="text-white text-decoration-none">
                    
                        2018
                    
                </a>
            </h1>
        </div>

        <div class="d-none d-md-block">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end">
                
                    
                
                
                <li id="edit-wrapper" class="nav-item">
                    <a id="edit-link" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/en/whats-new/changelog/2018.md" title="Edit this article" class="nav-link" rel="external nofollow noreferrer" target="_blank"><img src="/images/mkdocs/edit.svg" alt="Edit this article" height="60" /></a>
                </li>
                
                <li class="nav-item">
                     <a class="nav-link" href="https://github.com/ClickHouse/ClickHouse" rel="external nofollow noreferrer">
                        <img src="/images/index/github.svg" alt="GitHub repository" title="Go to GitHub" height="72" />
                    </a>
                </li>
                <li id="languages-wrapper" class="nav-item dropdown mr-3">
                    <div id="languages-dropdown">
                        <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href="#" id="lang-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="/images/flags/en.svg" alt="English" title="English" width="60" class="d-inline-block mt-n1" />
                        </a>
                        <div class="dropdown-menu bg-dark" aria-labelledby="lang-dropdown">
                            
                            <a class="dropdown-item disabled"
                               href="/docs/en/whats-new/changelog/2018/">
                                <img src="/images/flags/en.svg" alt="" title="" width="32" class="d-inline-block mr-2" />English
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/zh/whats-new/changelog/2018/">
                                <img src="/images/flags/zh.svg" alt="" title="" width="32" class="d-inline-block mr-2" />中文
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ru/whats-new/changelog/2018/">
                                <img src="/images/flags/ru.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Русский
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ja/whats-new/changelog/2018/">
                                <img src="/images/flags/ja.svg" alt="" title="" width="32" class="d-inline-block mr-2" />日本語
                            </a>
                            
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <form id="search-form" class="form-inline m-0">
            <div class="input-group">
                <div class="input-group-prepend w-100">
                    <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id="search-icon">
                        <img src="/images/mkdocs/search.svg" />
                    </span>
                    <input id="docsearch-input" class="form-control bg-secondary-alt text-muted border-0 pl-1" type="search" placeholder="Search" aria-label="Search">
                </div>
            </div>
        </form>

        <button id="navbar-toggler" class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
        <div class="docs container-fluid mt-3">
            <div class="row justify-content-end justify-content-xl-center">
                <div id="sidebar" class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto">
    <div class="overflow-auto">
        <div id="single-page-switch" class="btn-group mb-2 float-right" role="group" aria-label="Multi-page or single-page">
            <a href="../../.." role="button" class="btn btn-dark active" aria-pressed="true">
                <img src="/images/mkdocs/multi.svg" alt="Multi-page version" title="Multi-page version" />
            </a>
            <a href="../../../single/" role="button" class="btn btn-dark-alt active" aria-pressed="true">
                <img src="/images/mkdocs/single.svg" alt="Single-page version" title="Single-page version" />
            </a>
        </div>
        
        <nav id="sidebar-nav" class="nav flex-column mb-5">
            
                
                
                


<a href="#sidebar-sidebar-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-1" title="Introduction" class="nav-link text-light dropdown-toggle px-0">Introduction</a>
<div id="sidebar-sidebar-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../" title="Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a>


    
        
        
        

    
        
        
        


<a href="../../../introduction/distinctive-features/" title="Distinctive Features" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distinctive Features</a>


    
        
        
        


<a href="../../../introduction/performance/" title="Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a>


    
        
        
        


<a href="../../../introduction/history/" title="History" class="nav-link text-light text-wrap d-inline-block w-100 px-0">History</a>


    
        
        
        


<a href="../../../introduction/adopters/" title="Adopters" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adopters</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2" title="Getting Started" class="nav-link text-light dropdown-toggle px-0">Getting Started</a>
<div id="sidebar-sidebar-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-2" title="Example Datasets" class="nav-link text-light dropdown-toggle px-0">Example Datasets</a>
<div id="sidebar-sidebar-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../getting-started/example-datasets/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/github-events/" title="GitHub Events" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GitHub Events</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/metrica/" title="Yandex.Metrica Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica Data</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/recipes/" title="Recipes Dataset" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recipes Dataset</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/star-schema/" title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/wikistat/" title="WikiStat" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/criteo/" title="Terabyte Click Logs from Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Terabyte Click Logs from Criteo</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/amplab-benchmark/" title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/brown-benchmark/" title="Brown University Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Brown University Benchmark</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/nyc-taxi/" title="New York Taxi Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">New York Taxi Data</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/opensky/" title="OpenSky" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OpenSky</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/uk-price-paid/" title="UK Property Price Paid" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UK Property Price Paid</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/cell-towers/" title="Cell Towers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cell Towers</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/menus/" title="Menus" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Menus</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/ontime/" title="OnTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../getting-started/install/" title="Installation" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Installation</a>


    
        
        
        


<a href="../../../getting-started/tutorial/" title="Tutorial" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a>


    
        
        
        


<a href="../../../getting-started/playground/" title="Playground" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Playground</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3" title="Interfaces" class="nav-link text-light dropdown-toggle px-0">Interfaces</a>
<div id="sidebar-sidebar-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../interfaces/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../interfaces/cli/" title="Command-Line Client" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Command-Line Client</a>


    
        
        
        


<a href="../../../interfaces/tcp/" title="Native Interface (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Native Interface (TCP)</a>


    
        
        
        


<a href="../../../interfaces/http/" title="HTTP Interface" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP Interface</a>


    
        
        
        


<a href="../../../interfaces/mysql/" title="MySQL Interface" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL Interface</a>


    
        
        
        


<a href="../../../interfaces/formats/" title="Input and Output Formats" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Input and Output Formats</a>


    
        
        
        


<a href="../../../interfaces/jdbc/" title="JDBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC Driver</a>


    
        
        
        


<a href="../../../interfaces/odbc/" title="ODBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC Driver</a>


    
        
        
        


<a href="../../../interfaces/cpp/" title="C++ Client Library" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ Client Library</a>


    
        
        
        


<a href="#sidebar-sidebar-3-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-10" title="Third-Party" class="nav-link text-light dropdown-toggle px-0">Third-Party</a>
<div id="sidebar-sidebar-3-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../interfaces/third-party/" title="Third-Party Interfaces" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party Interfaces</a>


    
        
        
        


<a href="../../../interfaces/third-party/client-libraries/" title="Client Libraries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Client Libraries</a>


    
        
        
        


<a href="../../../interfaces/third-party/integrations/" title="Integrations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a>


    
        
        
        


<a href="../../../interfaces/third-party/gui/" title="Visual Interfaces" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Visual Interfaces</a>


    
        
        
        


<a href="../../../interfaces/third-party/proxy/" title="Proxies" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxies</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4" title="Engines" class="nav-link text-light dropdown-toggle px-0">Engines</a>
<div id="sidebar-sidebar-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-4-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2" title="Table Engines" class="nav-link text-light dropdown-toggle px-0">Table Engines</a>
<div id="sidebar-sidebar-4-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-4-2-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-1" title="Integrations" class="nav-link text-light dropdown-toggle px-0">Integrations</a>
<div id="sidebar-sidebar-4-2-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/table-engines/integrations/" title="Table Engines for Integrations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Table Engines for Integrations</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/odbc/" title="ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/jdbc/" title="JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/mongodb/" title="MongoDB" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MongoDB</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/hdfs/" title="HDFS" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/s3/" title="S3" class="nav-link text-light text-wrap d-inline-block w-100 px-0">S3</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/sqlite/" title="SQLite" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SQLite</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/kafka/" title="Kafka" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/embedded-rocksdb/" title="EmbeddedRocksDB" class="nav-link text-light text-wrap d-inline-block w-100 px-0">EmbeddedRocksDB</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/rabbitmq/" title="RabbitMQ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">RabbitMQ</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/postgresql/" title="PostgreSQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PostgreSQL</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/ExternalDistributed/" title="ExternalDistributed" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ExternalDistributed</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/materialized-postgresql/" title="MaterializedPostgreSQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedPostgreSQL</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../engines/table-engines/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="#sidebar-sidebar-4-2-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-3" title="MergeTree Family" class="nav-link text-light dropdown-toggle px-0">MergeTree Family</a>
<div id="sidebar-sidebar-4-2-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/mergetree/" title="MergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/replication/" title="Data Replication" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Replication</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/custom-partitioning-key/" title="Custom Partitioning Key" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Custom Partitioning Key</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/replacingmergetree/" title="ReplacingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/summingmergetree/" title="SummingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/aggregatingmergetree/" title="AggregatingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/collapsingmergetree/" title="CollapsingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/" title="VersionedCollapsingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/graphitemergetree/" title="GraphiteMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-2-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-4" title="Log Family" class="nav-link text-light dropdown-toggle px-0">Log Family</a>
<div id="sidebar-sidebar-4-2-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/table-engines/log-family/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../engines/table-engines/log-family/stripelog/" title="StripeLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a>


    
        
        
        


<a href="../../../engines/table-engines/log-family/log/" title="Log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a>


    
        
        
        


<a href="../../../engines/table-engines/log-family/tinylog/" title="TinyLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-2-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-5" title="Special" class="nav-link text-light dropdown-toggle px-0">Special</a>
<div id="sidebar-sidebar-4-2-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/table-engines/special/" title="Special Table Engines" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special Table Engines</a>


    
        
        
        


<a href="../../../engines/table-engines/special/distributed/" title="Distributed" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a>


    
        
        
        


<a href="../../../engines/table-engines/special/dictionary/" title="Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a>


    
        
        
        


<a href="../../../engines/table-engines/special/merge/" title="Merge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a>


    
        
        
        


<a href="../../../engines/table-engines/special/file/" title="File" class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a>


    
        
        
        


<a href="../../../engines/table-engines/special/null/" title="Null" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a>


    
        
        
        


<a href="../../../engines/table-engines/special/set/" title="Set" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a>


    
        
        
        


<a href="../../../engines/table-engines/special/join/" title="Join" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a>


    
        
        
        


<a href="../../../engines/table-engines/special/url/" title="URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a>


    
        
        
        


<a href="../../../engines/table-engines/special/view/" title="View" class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a>


    
        
        
        


<a href="../../../engines/table-engines/special/materializedview/" title="MaterializedView" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a>


    
        
        
        


<a href="../../../engines/table-engines/special/memory/" title="Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a>


    
        
        
        


<a href="../../../engines/table-engines/special/buffer/" title="Buffer" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a>


    
        
        
        


<a href="../../../engines/table-engines/special/external-data/" title="External Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Data</a>


    
        
        
        


<a href="../../../engines/table-engines/special/generate/" title="GenerateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a>


    
    </nav>
</div>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3" title="Database Engines" class="nav-link text-light dropdown-toggle px-0">Database Engines</a>
<div id="sidebar-sidebar-4-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/database-engines/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../engines/database-engines/materialized-mysql/" title="MaterializedMySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedMySQL</a>


    
        
        
        


<a href="../../../engines/database-engines/materialized-postgresql/" title="MaterializedPostgreSQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedPostgreSQL</a>


    
        
        
        


<a href="../../../engines/database-engines/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../../engines/database-engines/lazy/" title="Lazy" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a>


    
        
        
        


<a href="../../../engines/database-engines/atomic/" title="Atomic" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Atomic</a>


    
        
        
        


<a href="../../../engines/database-engines/sqlite/" title="SQLite" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SQLite</a>


    
        
        
        


<a href="../../../engines/database-engines/postgresql/" title="PostgreSQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PostgreSQL</a>


    
        
        
        


<a href="../../../engines/database-engines/replicated/" title="Replicated" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Replicated</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5" title="SQL Reference" class="nav-link text-light dropdown-toggle px-0">SQL Reference</a>
<div id="sidebar-sidebar-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2" title="Statements" class="nav-link text-light dropdown-toggle px-0">Statements</a>
<div id="sidebar-sidebar-5-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2-2" title="SELECT" class="nav-link text-light dropdown-toggle px-0">SELECT</a>
<div id="sidebar-sidebar-5-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/statements/select/" title="Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/all/" title="ALL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALL</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/array-join/" title="ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ARRAY JOIN</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/distinct/" title="DISTINCT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DISTINCT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/format/" title="FORMAT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/from/" title="FROM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FROM</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/group-by/" title="GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GROUP BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/having/" title="HAVING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HAVING</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/into-outfile/" title="INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INTO OUTFILE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/join/" title="JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JOIN</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/limit/" title="LIMIT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/limit-by/" title="LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/offset/" title="OFFSET" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OFFSET</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/order-by/" title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/prewhere/" title="PREWHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PREWHERE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/sample/" title="SAMPLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/union/" title="UNION" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UNION</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/where/" title="WHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WHERE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/with/" title="WITH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WITH</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/statements/insert-into/" title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a>


    
        
        
        


<a href="#sidebar-sidebar-5-2-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2-4" title="CREATE" class="nav-link text-light dropdown-toggle px-0">CREATE</a>
<div id="sidebar-sidebar-5-2-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/statements/create/" title="Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/database/" title="DATABASE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DATABASE</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/table/" title="TABLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TABLE</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/view/" title="VIEW" class="nav-link text-light text-wrap d-inline-block w-100 px-0">VIEW</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/dictionary/" title="DICTIONARY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DICTIONARY</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/function/" title="FUNCTION" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FUNCTION</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/user/" title="USER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">USER</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/role/" title="ROLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ROLE</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/row-policy/" title="ROW POLICY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ROW POLICY</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/quota/" title="QUOTA" class="nav-link text-light text-wrap d-inline-block w-100 px-0">QUOTA</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/settings-profile/" title="SETTINGS PROFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SETTINGS PROFILE</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-2-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2-5" title="ALTER" class="nav-link text-light dropdown-toggle px-0">ALTER</a>
<div id="sidebar-sidebar-5-2-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/statements/alter/" title="ALTER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/column/" title="COLUMN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">COLUMN</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/partition/" title="PARTITION" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PARTITION</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/setting/" title="SETTING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SETTING</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/delete/" title="DELETE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DELETE</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/update/" title="UPDATE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UPDATE</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/order-by/" title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/sample-by/" title="SAMPLE BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/index/" title="INDEX" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INDEX</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/constraint/" title="CONSTRAINT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CONSTRAINT</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/ttl/" title="TTL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TTL</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/user/" title="USER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">USER</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/quota/" title="QUOTA" class="nav-link text-light text-wrap d-inline-block w-100 px-0">QUOTA</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/role/" title="ROLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ROLE</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/row-policy/" title="ROW POLICY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ROW POLICY</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/settings-profile/" title="SETTINGS PROFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SETTINGS PROFILE</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/projection/" title="PROJECTION" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PROJECTION</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/view/" title="VIEW" class="nav-link text-light text-wrap d-inline-block w-100 px-0">VIEW</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/statements/system/" title="SYSTEM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a>


    
        
        
        


<a href="../../../sql-reference/statements/show/" title="SHOW" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a>


    
        
        
        


<a href="../../../sql-reference/statements/grant/" title="GRANT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a>


    
        
        
        


<a href="../../../sql-reference/statements/explain/" title="EXPLAIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">EXPLAIN</a>


    
        
        
        


<a href="../../../sql-reference/statements/revoke/" title="REVOKE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a>


    
        
        
        


<a href="../../../sql-reference/statements/attach/" title="ATTACH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ATTACH</a>


    
        
        
        


<a href="../../../sql-reference/statements/check-table/" title="CHECK" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CHECK</a>


    
        
        
        

    
        
        
        


<a href="../../../sql-reference/statements/describe-table/" title="DESCRIBE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DESCRIBE</a>


    
        
        
        


<a href="../../../sql-reference/statements/detach/" title="DETACH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DETACH</a>


    
        
        
        


<a href="../../../sql-reference/statements/drop/" title="DROP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DROP</a>


    
        
        
        


<a href="../../../sql-reference/statements/exists/" title="EXISTS" class="nav-link text-light text-wrap d-inline-block w-100 px-0">EXISTS</a>


    
        
        
        


<a href="../../../sql-reference/statements/kill/" title="KILL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">KILL</a>


    
        
        
        


<a href="../../../sql-reference/statements/optimize/" title="OPTIMIZE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OPTIMIZE</a>


    
        
        
        


<a href="../../../sql-reference/statements/rename/" title="RENAME" class="nav-link text-light text-wrap d-inline-block w-100 px-0">RENAME</a>


    
        
        
        


<a href="../../../sql-reference/statements/exchange/" title="EXCHANGE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">EXCHANGE</a>


    
        
        
        


<a href="../../../sql-reference/statements/set/" title="SET" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SET</a>


    
        
        
        


<a href="../../../sql-reference/statements/set-role/" title="SET ROLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SET ROLE</a>


    
        
        
        


<a href="../../../sql-reference/statements/truncate/" title="TRUNCATE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TRUNCATE</a>


    
        
        
        


<a href="../../../sql-reference/statements/use/" title="USE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">USE</a>


    
        
        
        


<a href="../../../sql-reference/statements/watch/" title="WATCH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WATCH</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/syntax/" title="Syntax" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Syntax</a>


    
        
        
        


<a href="../../../sql-reference/distributed-ddl/" title="Distributed DDL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed DDL</a>


    
        
        
        


<a href="#sidebar-sidebar-5-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5" title="Functions" class="nav-link text-light dropdown-toggle px-0">Functions</a>
<div id="sidebar-sidebar-5-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/functions/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../sql-reference/functions/arithmetic-functions/" title="Arithmetic" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arithmetic</a>


    
        
        
        


<a href="../../../sql-reference/functions/array-functions/" title="Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arrays</a>


    
        
        
        


<a href="../../../sql-reference/functions/comparison-functions/" title="Comparison" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparison</a>


    
        
        
        


<a href="../../../sql-reference/functions/logical-functions/" title="Logical" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Logical</a>


    
        
        
        


<a href="../../../sql-reference/functions/type-conversion-functions/" title="Type Conversion" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Type Conversion</a>


    
        
        
        


<a href="../../../sql-reference/functions/date-time-functions/" title="Dates and Times" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dates and Times</a>


    
        
        
        


<a href="../../../sql-reference/functions/string-functions/" title="Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Strings</a>


    
        
        
        


<a href="../../../sql-reference/functions/string-search-functions/" title="For Searching in Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Searching in Strings</a>


    
        
        
        


<a href="../../../sql-reference/functions/string-replace-functions/" title="For Replacing in Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Replacing in Strings</a>


    
        
        
        


<a href="../../../sql-reference/functions/conditional-functions/" title="Conditional" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conditional</a>


    
        
        
        


<a href="../../../sql-reference/functions/files/" title="Files" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Files</a>


    
        
        
        


<a href="../../../sql-reference/functions/math-functions/" title="Mathematical" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mathematical</a>


    
        
        
        


<a href="../../../sql-reference/functions/rounding-functions/" title="Rounding" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rounding</a>


    
        
        
        


<a href="../../../sql-reference/functions/tuple-map-functions/" title="Working with maps" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with maps</a>


    
        
        
        


<a href="../../../sql-reference/functions/splitting-merging-functions/" title="Splitting and Merging Strings and Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Splitting and Merging Strings and Arrays</a>


    
        
        
        


<a href="../../../sql-reference/functions/bit-functions/" title="Bit" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bit</a>


    
        
        
        


<a href="../../../sql-reference/functions/bitmap-functions/" title="Bitmap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a>


    
        
        
        


<a href="../../../sql-reference/functions/hash-functions/" title="Hash" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a>


    
        
        
        


<a href="../../../sql-reference/functions/random-functions/" title="Pseudo-Random Numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pseudo-Random Numbers</a>


    
        
        
        


<a href="../../../sql-reference/functions/encoding-functions/" title="Encoding" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encoding</a>


    
        
        
        


<a href="../../../sql-reference/functions/uuid-functions/" title="UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a>


    
        
        
        


<a href="../../../sql-reference/functions/url-functions/" title="URLs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URLs</a>


    
        
        
        


<a href="../../../sql-reference/functions/ip-address-functions/" title="IP Addresses" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IP Addresses</a>


    
        
        
        


<a href="../../../sql-reference/functions/json-functions/" title="JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSON</a>


    
        
        
        


<a href="../../../sql-reference/functions/ext-dict-functions/" title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a>


    
        
        
        


<a href="../../../sql-reference/functions/ym-dict-functions/" title="Yandex.Metrica Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica Dictionaries</a>


    
        
        
        


<a href="../../../sql-reference/functions/in-functions/" title="IN Operator" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN Operator</a>


    
        
        
        


<a href="../../../sql-reference/functions/array-join/" title="arrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a>


    
        
        
        


<a href="#sidebar-sidebar-5-5-30" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-30" title="Geo" class="nav-link text-light dropdown-toggle px-0">Geo</a>
<div id="sidebar-sidebar-5-5-30" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/functions/geo/coordinates/" title="Geographical Coordinates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Geographical Coordinates</a>


    
        
        
        

    
        
        
        


<a href="../../../sql-reference/functions/geo/geohash/" title="Geohash" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Geohash</a>


    
        
        
        


<a href="../../../sql-reference/functions/geo/h3/" title="H3 Indexes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">H3 Indexes</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/functions/functions-for-nulls/" title="Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a>


    
        
        
        


<a href="../../../sql-reference/functions/machine-learning-functions/" title="Machine Learning" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Machine Learning</a>


    
        
        
        


<a href="../../../sql-reference/functions/introspection/" title="Introspection" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspection</a>


    
        
        
        


<a href="../../../sql-reference/functions/tuple-functions/" title="Tuples" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuples</a>


    
        
        
        


<a href="../../../sql-reference/functions/encryption-functions/" title="Encryption" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encryption</a>


    
        
        
        


<a href="../../../sql-reference/functions/nlp-functions/" title="NLP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">NLP</a>


    
        
        
        


<a href="../../../sql-reference/functions/other-functions/" title="Other" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-6" title="Aggregate Functions" class="nav-link text-light dropdown-toggle px-0">Aggregate Functions</a>
<div id="sidebar-sidebar-5-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/aggregate-functions/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="#sidebar-sidebar-5-6-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-6-2" title="Reference" class="nav-link text-light dropdown-toggle px-0">Reference</a>
<div id="sidebar-sidebar-5-6-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/count/" title="count" class="nav-link text-light text-wrap d-inline-block w-100 px-0">count</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/min/" title="min" class="nav-link text-light text-wrap d-inline-block w-100 px-0">min</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/max/" title="max" class="nav-link text-light text-wrap d-inline-block w-100 px-0">max</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/sum/" title="sum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sum</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/avg/" title="avg" class="nav-link text-light text-wrap d-inline-block w-100 px-0">avg</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/any/" title="any" class="nav-link text-light text-wrap d-inline-block w-100 px-0">any</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/stddevpop/" title="stddevPop" class="nav-link text-light text-wrap d-inline-block w-100 px-0">stddevPop</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/stddevsamp/" title="stddevSamp" class="nav-link text-light text-wrap d-inline-block w-100 px-0">stddevSamp</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/varpop/" title="varPop(x)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">varPop(x)</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/varsamp/" title="varSamp" class="nav-link text-light text-wrap d-inline-block w-100 px-0">varSamp</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/covarpop/" title="covarPop" class="nav-link text-light text-wrap d-inline-block w-100 px-0">covarPop</a>


    
        
        
        

    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/covarsamp/" title="covarSamp" class="nav-link text-light text-wrap d-inline-block w-100 px-0">covarSamp</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/anyheavy/" title="anyHeavy" class="nav-link text-light text-wrap d-inline-block w-100 px-0">anyHeavy</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/anylast/" title="anyLast" class="nav-link text-light text-wrap d-inline-block w-100 px-0">anyLast</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/argmin/" title="argMin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">argMin</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/argmax/" title="argMax" class="nav-link text-light text-wrap d-inline-block w-100 px-0">argMax</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/avgweighted/" title="avgWeighted" class="nav-link text-light text-wrap d-inline-block w-100 px-0">avgWeighted</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/corr/" title="corr" class="nav-link text-light text-wrap d-inline-block w-100 px-0">corr</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/topk/" title="topK" class="nav-link text-light text-wrap d-inline-block w-100 px-0">topK</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/topkweighted/" title="topKWeighted" class="nav-link text-light text-wrap d-inline-block w-100 px-0">topKWeighted</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/grouparray/" title="groupArray" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArray</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupuniqarray/" title="groupUniqArray" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupUniqArray</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/grouparrayinsertat/" title="groupArrayInsertAt" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArrayInsertAt</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/grouparraymovingsum/" title="groupArrayMovingSum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArrayMovingSum</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/grouparraymovingavg/" title="groupArrayMovingAvg" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArrayMovingAvg</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/grouparraysample/" title="groupArraySample" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArraySample</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitand/" title="groupBitAnd" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitAnd</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitor/" title="groupBitOr" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitOr</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitxor/" title="groupBitXor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitXor</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitmap/" title="groupBitmap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitmap</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitmapand/" title="groupBitmapAnd" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitmapAnd</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitmapor/" title="groupBitmapOr" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitmapOr</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/groupbitmapxor/" title="groupBitmapXor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitmapXor</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/sumwithoverflow/" title="sumWithOverflow" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumWithOverflow</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/deltasum/" title="deltaSum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">deltaSum</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/deltasumtimestamp/" title="deltaSumTimestamp" class="nav-link text-light text-wrap d-inline-block w-100 px-0">deltaSumTimestamp</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/summap/" title="sumMap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumMap</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/minmap/" title="minMap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">minMap</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/maxmap/" title="maxMap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">maxMap</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/sumcount/" title="sumCount" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumCount</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/rankCorr/" title="rankCorr" class="nav-link text-light text-wrap d-inline-block w-100 px-0">rankCorr</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/sumkahan/" title="sumKahan" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumKahan</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/intervalLengthSum/" title="intervalLengthSum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">intervalLengthSum</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/skewpop/" title="skewPop" class="nav-link text-light text-wrap d-inline-block w-100 px-0">skewPop</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/skewsamp/" title="skewSamp" class="nav-link text-light text-wrap d-inline-block w-100 px-0">skewSamp</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/kurtpop/" title="kurtPop" class="nav-link text-light text-wrap d-inline-block w-100 px-0">kurtPop</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/kurtsamp/" title="kurtSamp" class="nav-link text-light text-wrap d-inline-block w-100 px-0">kurtSamp</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/uniq/" title="uniq" class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniq</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/uniqexact/" title="uniqExact" class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqExact</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/uniqcombined/" title="uniqCombined" class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqCombined</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/uniqcombined64/" title="uniqCombined64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqCombined64</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/uniqhll12/" title="uniqHLL12" class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqHLL12</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/uniqthetasketch/" title="uniqTheta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqTheta</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantile/" title="quantile" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantile</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantiles/" title="quantiles Functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantiles Functions</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantileexact/" title="quantileExact Functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileExact Functions</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantileexactweighted/" title="quantileExactWeighted" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileExactWeighted</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantiletiming/" title="quantileTiming" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTiming</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantiletimingweighted/" title="quantileTimingWeighted" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTimingWeighted</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantiledeterministic/" title="quantileDeterministic" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileDeterministic</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantiletdigest/" title="quantileTDigest" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTDigest</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantiletdigestweighted/" title="quantileTDigestWeighted" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTDigestWeighted</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/quantilebfloat16/" title="quantileBFloat16" class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileBFloat16</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/median/" title="median" class="nav-link text-light text-wrap d-inline-block w-100 px-0">median</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/simplelinearregression/" title="simpleLinearRegression" class="nav-link text-light text-wrap d-inline-block w-100 px-0">simpleLinearRegression</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/stochasticlinearregression/" title="stochasticLinearRegression" class="nav-link text-light text-wrap d-inline-block w-100 px-0">stochasticLinearRegression</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/stochasticlogisticregression/" title="stochasticLogisticRegression" class="nav-link text-light text-wrap d-inline-block w-100 px-0">stochasticLogisticRegression</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/categoricalinformationvalue/" title="categoricalInformationValue" class="nav-link text-light text-wrap d-inline-block w-100 px-0">categoricalInformationValue</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/studentttest/" title="studentTTest" class="nav-link text-light text-wrap d-inline-block w-100 px-0">studentTTest</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/welchttest/" title="welchTTest" class="nav-link text-light text-wrap d-inline-block w-100 px-0">welchTTest</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/mannwhitneyutest/" title="mannWhitneyUTest" class="nav-link text-light text-wrap d-inline-block w-100 px-0">mannWhitneyUTest</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/combinators/" title="Combinators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinators</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/parametric-functions/" title="Parametric" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Parametric</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-7" title="Table Functions" class="nav-link text-light dropdown-toggle px-0">Table Functions</a>
<div id="sidebar-sidebar-5-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/table-functions/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/file/" title="file" class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/merge/" title="merge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/numbers/" title="numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/remote/" title="remote" class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/url/" title="url" class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/mysql/" title="mysql" class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/postgresql/" title="postgresql" class="nav-link text-light text-wrap d-inline-block w-100 px-0">postgresql</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/jdbc/" title="jdbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/odbc/" title="odbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/hdfs/" title="hdfs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/s3/" title="s3" class="nav-link text-light text-wrap d-inline-block w-100 px-0">s3</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/input/" title="input" class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/generate/" title="generateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/cluster/" title="cluster" class="nav-link text-light text-wrap d-inline-block w-100 px-0">cluster</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/view/" title="view" class="nav-link text-light text-wrap d-inline-block w-100 px-0">view</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/null/" title="null function" class="nav-link text-light text-wrap d-inline-block w-100 px-0">null function</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/dictionary/" title="dictionary function" class="nav-link text-light text-wrap d-inline-block w-100 px-0">dictionary function</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/s3Cluster/" title="s3Cluster" class="nav-link text-light text-wrap d-inline-block w-100 px-0">s3Cluster</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/sqlite/" title="sqlite" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sqlite</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8" title="Dictionaries" class="nav-link text-light dropdown-toggle px-0">Dictionaries</a>
<div id="sidebar-sidebar-5-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/dictionaries/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="#sidebar-sidebar-5-8-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8-2" title="External Dictionaries" class="nav-link text-light dropdown-toggle px-0">External Dictionaries</a>
<div id="sidebar-sidebar-5-8-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts/" title="General Description" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Description</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/" title="Configuring an External Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuring an External Dictionary</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/" title="Storing Dictionaries in Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Storing Dictionaries in Memory</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/" title="Dictionary Updates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Updates</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/" title="Sources of External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sources of External Dictionaries</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/" title="Dictionary Key and Fields" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Key and Fields</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/" title="Hierarchical dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hierarchical dictionaries</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-polygon/" title="Polygon Dictionaries With Grids" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Polygon Dictionaries With Grids</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/dictionaries/internal-dicts/" title="Internal Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Internal Dictionaries</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9" title="Data Types" class="nav-link text-light dropdown-toggle px-0">Data Types</a>
<div id="sidebar-sidebar-5-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/data-types/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../sql-reference/data-types/int-uint/" title="UInt8, UInt16, UInt32, UInt64, UInt256, Int8, Int16, Int32, Int64, Int128, Int256" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, UInt256, Int8, Int16, Int32, Int64, Int128, Int256</a>


    
        
        
        


<a href="../../../sql-reference/data-types/float/" title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a>


    
        
        
        


<a href="../../../sql-reference/data-types/decimal/" title="Decimal" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a>


    
        
        
        


<a href="../../../sql-reference/data-types/boolean/" title="Boolean" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Boolean</a>


    
        
        
        


<a href="../../../sql-reference/data-types/string/" title="String" class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a>


    
        
        
        


<a href="../../../sql-reference/data-types/fixedstring/" title="FixedString(N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/uuid/" title="UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a>


    
        
        
        


<a href="../../../sql-reference/data-types/date/" title="Date" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a>


    
        
        
        


<a href="../../../sql-reference/data-types/date32/" title="Date32" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date32</a>


    
        
        
        


<a href="../../../sql-reference/data-types/datetime/" title="DateTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a>


    
        
        
        


<a href="../../../sql-reference/data-types/datetime64/" title="DateTime64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a>


    
        
        
        


<a href="../../../sql-reference/data-types/enum/" title="Enum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a>


    
        
        
        


<a href="../../../sql-reference/data-types/lowcardinality/" title="LowCardinality" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LowCardinality</a>


    
        
        
        


<a href="../../../sql-reference/data-types/array/" title="Array(T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/aggregatefunction/" title="AggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction</a>


    
        
        
        


<a href="#sidebar-sidebar-5-9-17" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9-17" title="Nested Data Structures" class="nav-link text-light dropdown-toggle px-0">Nested Data Structures</a>
<div id="sidebar-sidebar-5-9-17" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../sql-reference/data-types/nested-data-structures/nested/" title="Nested(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, ...)</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/data-types/tuple/" title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/nullable/" title="Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a>


    
        
        
        


<a href="#sidebar-sidebar-5-9-20" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9-20" title="Special Data Types" class="nav-link text-light dropdown-toggle px-0">Special Data Types</a>
<div id="sidebar-sidebar-5-9-20" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/expression/" title="Expression" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/set/" title="Set" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/nothing/" title="Nothing" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/interval/" title="Interval" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-9-21" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9-21" title="Domains" class="nav-link text-light dropdown-toggle px-0">Domains</a>
<div id="sidebar-sidebar-5-9-21" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/data-types/domains/" title="Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a>


    
        
        
        


<a href="../../../sql-reference/data-types/domains/ipv4/" title="IPv4" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a>


    
        
        
        


<a href="../../../sql-reference/data-types/domains/ipv6/" title="IPv6" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/data-types/multiword-types/" title="Multiword Type Names" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Multiword Type Names</a>


    
        
        
        


<a href="../../../sql-reference/data-types/geo/" title="Geo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Geo</a>


    
        
        
        


<a href="../../../sql-reference/data-types/map/" title="Map(key, value)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Map(key, value)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/simpleaggregatefunction/" title="SimpleAggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-10" title="Operators" class="nav-link text-light dropdown-toggle px-0">Operators</a>
<div id="sidebar-sidebar-5-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/operators/" title="Operators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operators</a>


    
        
        
        


<a href="../../../sql-reference/operators/in/" title="IN Operators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN Operators</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/ansi/" title="ANSI Compatibility" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSI Compatibility</a>


    
        
        
        


<a href="#sidebar-sidebar-5-12" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-12" title="Window Functions" class="nav-link text-light dropdown-toggle px-0">Window Functions</a>
<div id="sidebar-sidebar-5-12" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/window-functions/" title="Window Functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Window Functions</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-6" title="Guides" class="nav-link text-light dropdown-toggle px-0">Guides</a>
<div id="sidebar-sidebar-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../guides/" title="Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a>


    
        
        
        


<a href="../../../guides/apply-catboost-model/" title="Applying CatBoost Models" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Applying CatBoost Models</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7" title="Operations" class="nav-link text-light dropdown-toggle px-0">Operations</a>
<div id="sidebar-sidebar-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../operations/requirements/" title="Requirements" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requirements</a>


    
        
        
        


<a href="../../../operations/monitoring/" title="Monitoring" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoring</a>


    
        
        
        


<a href="../../../operations/troubleshooting/" title="Troubleshooting" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Troubleshooting</a>


    
        
        
        


<a href="../../../operations/update/" title="ClickHouse Upgrade" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Upgrade</a>


    
        
        
        


<a href="../../../operations/access-rights/" title="Access Control and Account Management" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Access Control and Account Management</a>


    
        
        
        


<a href="#sidebar-sidebar-7-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-7" title="External User Authenticators and Directories" class="nav-link text-light dropdown-toggle px-0">External User Authenticators and Directories</a>
<div id="sidebar-sidebar-7-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/external-authenticators/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../operations/external-authenticators/kerberos/" title="Kerberos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kerberos</a>


    
        
        
        


<a href="../../../operations/external-authenticators/ldap/" title="LDAP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LDAP</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../operations/backup/" title="Data Backup" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Backup</a>


    
        
        
        


<a href="../../../operations/configuration-files/" title="Configuration Files" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuration Files</a>


    
        
        
        


<a href="../../../operations/quotas/" title="Quotas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Quotas</a>


    
        
        
        


<a href="#sidebar-sidebar-7-11" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-11" title="Optimizing Performance" class="nav-link text-light dropdown-toggle px-0">Optimizing Performance</a>
<div id="sidebar-sidebar-7-11" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../operations/optimizing-performance/sampling-query-profiler/" title="Query Profiling" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Query Profiling</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-12" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-12" title="System Tables" class="nav-link text-light dropdown-toggle px-0">System Tables</a>
<div id="sidebar-sidebar-7-12" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/system-tables/" title="System Tables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">System Tables</a>


    
        
        
        


<a href="../../../operations/system-tables/asynchronous_metric_log/" title="system.asynchronous_metric_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.asynchronous_metric_log</a>


    
        
        
        


<a href="../../../operations/system-tables/asynchronous_metrics/" title="system.asynchronous_metrics" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.asynchronous_metrics</a>


    
        
        
        


<a href="../../../operations/system-tables/clusters/" title="system.clusters" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.clusters</a>


    
        
        
        


<a href="../../../operations/system-tables/columns/" title="system.columns" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.columns</a>


    
        
        
        


<a href="../../../operations/system-tables/contributors/" title="system.contributors" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.contributors</a>


    
        
        
        


<a href="../../../operations/system-tables/crash-log/" title="system.crash_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.crash_log</a>


    
        
        
        


<a href="../../../operations/system-tables/current-roles/" title="system.current_roles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.current_roles</a>


    
        
        
        


<a href="../../../operations/system-tables/data_skipping_indices/" title="system.data_skipping_indices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.data_skipping_indices</a>


    
        
        
        


<a href="../../../operations/system-tables/data_type_families/" title="system.data_type_families" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.data_type_families</a>


    
        
        
        


<a href="../../../operations/system-tables/databases/" title="system.databases" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.databases</a>


    
        
        
        


<a href="../../../operations/system-tables/detached_parts/" title="system.detached_parts" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.detached_parts</a>


    
        
        
        


<a href="../../../operations/system-tables/dictionaries/" title="system.dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.dictionaries</a>


    
        
        
        


<a href="../../../operations/system-tables/disks/" title="system.disks" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.disks</a>


    
        
        
        


<a href="../../../operations/system-tables/distributed_ddl_queue/" title="system.distributed_ddl_queue" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.distributed_ddl_queue</a>


    
        
        
        


<a href="../../../operations/system-tables/distribution_queue/" title="system.distribution_queue" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.distribution_queue</a>


    
        
        
        


<a href="../../../operations/system-tables/enabled-roles/" title="system.enabled_roles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.enabled_roles</a>


    
        
        
        


<a href="../../../operations/system-tables/errors/" title="system.errors" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.errors</a>


    
        
        
        


<a href="../../../operations/system-tables/events/" title="system.events" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.events</a>


    
        
        
        


<a href="../../../operations/system-tables/functions/" title="system.functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.functions</a>


    
        
        
        


<a href="../../../operations/system-tables/grants/" title="system.grants" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.grants</a>


    
        
        
        


<a href="../../../operations/system-tables/graphite_retentions/" title="system.graphite_retentions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.graphite_retentions</a>


    
        
        
        


<a href="../../../operations/system-tables/licenses/" title="system.licenses" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.licenses</a>


    
        
        
        


<a href="../../../operations/system-tables/merge_tree_settings/" title="system.merge_tree_settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.merge_tree_settings</a>


    
        
        
        


<a href="../../../operations/system-tables/merges/" title="system.merges" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.merges</a>


    
        
        
        


<a href="../../../operations/system-tables/metric_log/" title="system.metric_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.metric_log</a>


    
        
        
        


<a href="../../../operations/system-tables/metrics/" title="system.metrics" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.metrics</a>


    
        
        
        


<a href="../../../operations/system-tables/mutations/" title="system.mutations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.mutations</a>


    
        
        
        


<a href="../../../operations/system-tables/numbers/" title="system.numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.numbers</a>


    
        
        
        


<a href="../../../operations/system-tables/numbers_mt/" title="system.numbers_mt" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.numbers_mt</a>


    
        
        
        


<a href="../../../operations/system-tables/one/" title="system.one" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.one</a>


    
        
        
        


<a href="../../../operations/system-tables/opentelemetry_span_log/" title="system.opentelemetry_span_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.opentelemetry_span_log</a>


    
        
        
        


<a href="../../../operations/system-tables/part_log/" title="system.part_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.part_log</a>


    
        
        
        


<a href="../../../operations/system-tables/parts/" title="system.parts" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.parts</a>


    
        
        
        


<a href="../../../operations/system-tables/parts_columns/" title="system.parts_columns" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.parts_columns</a>


    
        
        
        


<a href="../../../operations/system-tables/processes/" title="system.processes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.processes</a>


    
        
        
        


<a href="../../../operations/system-tables/query_log/" title="system.query_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.query_log</a>


    
        
        
        


<a href="../../../operations/system-tables/query_thread_log/" title="system.query_thread_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.query_thread_log</a>


    
        
        
        


<a href="../../../operations/system-tables/query_views_log/" title="system.query_views_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.query_views_log</a>


    
        
        
        


<a href="../../../operations/system-tables/quota_limits/" title="system.quota_limits" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quota_limits</a>


    
        
        
        


<a href="../../../operations/system-tables/quota_usage/" title="system.quota_usage" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quota_usage</a>


    
        
        
        


<a href="../../../operations/system-tables/quotas/" title="system.quotas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quotas</a>


    
        
        
        


<a href="../../../operations/system-tables/quotas_usage/" title="system.quotas_usage" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quotas_usage</a>


    
        
        
        


<a href="../../../operations/system-tables/replicas/" title="system.replicas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.replicas</a>


    
        
        
        


<a href="../../../operations/system-tables/replicated_fetches/" title="system.replicated_fetches" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.replicated_fetches</a>


    
        
        
        


<a href="../../../operations/system-tables/replication_queue/" title="system.replication_queue" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.replication_queue</a>


    
        
        
        


<a href="../../../operations/system-tables/role-grants/" title="system.role_grants" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.role_grants</a>


    
        
        
        


<a href="../../../operations/system-tables/roles/" title="system.roles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.roles</a>


    
        
        
        


<a href="../../../operations/system-tables/row_policies/" title="system.row_policies" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.row_policies</a>


    
        
        
        


<a href="../../../operations/system-tables/settings/" title="system.settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.settings</a>


    
        
        
        


<a href="../../../operations/system-tables/settings_profile_elements/" title="system.settings_profile_elements" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.settings_profile_elements</a>


    
        
        
        


<a href="../../../operations/system-tables/settings_profiles/" title="system.settings_profiles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.settings_profiles</a>


    
        
        
        


<a href="../../../operations/system-tables/stack_trace/" title="system.stack_trace" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.stack_trace</a>


    
        
        
        


<a href="../../../operations/system-tables/storage_policies/" title="system.storage_policies" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.storage_policies</a>


    
        
        
        


<a href="../../../operations/system-tables/table_engines/" title="system.table_engines" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.table_engines</a>


    
        
        
        


<a href="../../../operations/system-tables/tables/" title="system.tables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.tables</a>


    
        
        
        


<a href="../../../operations/system-tables/text_log/" title="system.text_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.text_log</a>


    
        
        
        


<a href="../../../operations/system-tables/time_zones/" title="system.time_zones" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.time_zones</a>


    
        
        
        


<a href="../../../operations/system-tables/trace_log/" title="system.trace_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.trace_log</a>


    
        
        
        


<a href="../../../operations/system-tables/users/" title="system.users" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.users</a>


    
        
        
        


<a href="../../../operations/system-tables/zookeeper/" title="system.zookeeper" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.zookeeper</a>


    
        
        
        


<a href="../../../operations/system-tables/zookeeper_log/" title="system.zookeeper_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.zookeeper_log</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-13" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-13" title="Server Configuration Parameters" class="nav-link text-light dropdown-toggle px-0">Server Configuration Parameters</a>
<div id="sidebar-sidebar-7-13" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/server-configuration-parameters/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../operations/server-configuration-parameters/settings/" title="Server Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Server Settings</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../operations/performance-test/" title="Testing Hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing Hardware</a>


    
        
        
        


<a href="#sidebar-sidebar-7-15" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-15" title="Settings" class="nav-link text-light dropdown-toggle px-0">Settings</a>
<div id="sidebar-sidebar-7-15" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/settings/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
        
        
        


<a href="../../../operations/settings/permissions-for-queries/" title="Permissions for Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permissions for Queries</a>


    
        
        
        


<a href="../../../operations/settings/query-complexity/" title="Restrictions on Query Complexity" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restrictions on Query Complexity</a>


    
        
        
        


<a href="../../../operations/settings/settings-profiles/" title="Settings Profiles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings Profiles</a>


    
        
        
        


<a href="../../../operations/settings/constraints-on-settings/" title="Constraints on Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Constraints on Settings</a>


    
        
        
        


<a href="../../../operations/settings/settings-users/" title="User Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">User Settings</a>


    
        
        
        


<a href="../../../operations/settings/merge-tree-settings/" title="MergeTree tables settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree tables settings</a>


    
        
        
        


<a href="../../../operations/settings/settings/" title="Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-16" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-16" title="Utilities" class="nav-link text-light dropdown-toggle px-0">Utilities</a>
<div id="sidebar-sidebar-7-16" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/utilities/" title="Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-copier/" title="clickhouse-copier" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-local/" title="clickhouse-local" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-benchmark/" title="clickhouse-benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-format/" title="clickhouse-format" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-format</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-compressor/" title="ClickHouse compressor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse compressor</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-obfuscator/" title="ClickHouse obfuscator" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse obfuscator</a>


    
        
        
        


<a href="../../../operations/utilities/odbc-bridge/" title="clickhouse-odbc-bridge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-odbc-bridge</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../operations/tips/" title="Usage Recommendations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Usage Recommendations</a>


    
        
        
        


<a href="../../../operations/opentelemetry/" title="OpenTelemetry Support" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OpenTelemetry Support</a>


    
        
        
        


<a href="../../../operations/caches/" title="Caches" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Caches</a>


    
        
        
        


<a href="../../../operations/clickhouse-keeper/" title="ClickHouse Keeper" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Keeper</a>


    
        
        
        


<a href="../../../operations/storing-data/" title="External Disks for Storing Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Disks for Storing Data</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-8" title="Development" class="nav-link text-light dropdown-toggle px-0">Development</a>
<div id="sidebar-sidebar-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../development/developer-instruction/" title="For Beginners" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Beginners</a>


    
        
        
        


<a href="../../../development/architecture/" title="Architecture Overview" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Architecture Overview</a>


    
        
        
        


<a href="../../../development/continuous-integration/" title="Continuous Integration Checks" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Continuous Integration Checks</a>


    
        
        
        


<a href="../../../development/build/" title="Build on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Linux</a>


    
        
        
        


<a href="../../../development/build-osx/" title="Build on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Mac OS X</a>


    
        
        
        


<a href="../../../development/build-cross-osx/" title="Build on Linux for Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Linux for Mac OS X</a>


    
        
        
        


<a href="../../../development/build-cross-arm/" title="Build on Linux for AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Linux for AARCH64 (ARM64)</a>


    
        
        
        


<a href="../../../development/style/" title="C++ Guide" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ Guide</a>


    
        
        
        


<a href="../../../development/tests/" title="Testing" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing</a>


    
        
        
        


<a href="../../../development/contrib/" title="Third-Party Libraries Used" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party Libraries Used</a>


    
        
        
        


<a href="../../../development/browse-code/" title="Source Code Browser" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Source Code Browser</a>


    
        
        
        


<a href="../../../development/cmake-in-clickhouse/" title="CMake in ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CMake in ClickHouse</a>


    
        
        
        


<a href="../../../development/adding_test_queries/" title="How to add test queries to ClickHouse CI" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to add test queries to ClickHouse CI</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-9" title="Commercial" class="nav-link text-light dropdown-toggle px-0">Commercial</a>
<div id="sidebar-sidebar-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../commercial/cloud/" title="Cloud" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cloud</a>


    
        
        
        


<a href="../../../commercial/support/" title="Support" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Support</a>


    
        
        
        


<a href="../../../commercial/" title="Introduction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10" title="F.A.Q." class="nav-link text-light dropdown-toggle px-0">F.A.Q.</a>
<div id="sidebar-sidebar-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../faq/general/" title="General" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General</a>


    
        
        
        


<a href="../../../faq/use-cases/" title="Use Cases" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Use Cases</a>


    
        
        
        


<a href="../../../faq/operations/" title="Operations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operations</a>


    
        
        
        


<a href="../../../faq/integration/" title="Integration" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integration</a>


    
        
        
        

    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-11" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-11" title="What's New" class="nav-link text-light dropdown-toggle px-0">What's New</a>
<div id="sidebar-sidebar-11" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-11-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-11-1" title="Changelog" class="nav-link text-light dropdown-toggle px-0">Changelog</a>
<div id="sidebar-sidebar-11-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../whats-new/changelog/" title="2021" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2021</a>


    
        
        
        


<a href="../../../whats-new/changelog/2020/" title="2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a>


    
        
        
        


<a href="../../../whats-new/changelog/2019/" title="2019" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a>


    
        
        
        


<a href="../../../whats-new/changelog/2018/" title="2018" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">2018</a>


    
        
        
        


<a href="../../../whats-new/changelog/2017/" title="2017" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../whats-new/roadmap/" title="Roadmap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a>


    
        
        
        


<a href="../../../whats-new/security-changelog/" title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a>


    
        
        
        


<a href="../../../whats-new/" title="What’s New in ClickHouse?" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What’s New in ClickHouse?</a>


    
    </nav>
</div>


            
            <a href="../../../single/clickhouse_en.pdf" class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light">
                <img src="/images/mkdocs/pdf.svg" alt="PDF version" title="PDF version" height="24" class="d-block mr-1 float-left" /><div>PDF version</div>
            </a>
        </nav>
        
    </div>
</div>
                <div id="content-wrapper" class="col-md-8 mt-5 p-2 p-md-4">
    <div id="content">
        
            
            
            
                
                <nav class="text-muted" aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0">
                        
                        
                        
                        <li class="breadcrumb-item"><a href="../../" class="text-reset">What's New</a>
                            
                        </li>
                       
                        
                        
                        <li class="breadcrumb-item"><a href="../" class="text-reset">Changelog</a>
                            
                        </li>
                       
                    </ol>
                </nav>
            

            
            <h2 id="clickhouse-release-18-16">ClickHouse Release 18.16<a class="headerlink" href="#clickhouse-release-18-16" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-16-1-2018-12-21">ClickHouse Release 18.16.1, 2018-12-21<a class="headerlink" href="#clickhouse-release-18-16-1-2018-12-21" title="Permanent link"> </a></h3>
<h4 id="bug-fixes">Bug Fixes:<a class="headerlink" href="#bug-fixes" title="Permanent link"> </a></h4>
<ul>
<li>Fixed an error that led to problems with updating dictionaries with the ODBC source. <a href="https://github.com/ClickHouse/ClickHouse/issues/3825" rel="external nofollow noreferrer" target="_blank">#3825</a>, <a href="https://github.com/ClickHouse/ClickHouse/issues/3829" rel="external nofollow noreferrer" target="_blank">#3829</a></li>
<li>JIT compilation of aggregate functions now works with LowCardinality columns. <a href="https://github.com/ClickHouse/ClickHouse/issues/3838" rel="external nofollow noreferrer" target="_blank">#3838</a></li>
</ul>
<h4 id="improvements">Improvements:<a class="headerlink" href="#improvements" title="Permanent link"> </a></h4>
<ul>
<li>Added the <code class="syntax">low_cardinality_allow_in_native_format</code> setting (enabled by default). When disabled, LowCardinality columns will be converted to ordinary columns for SELECT queries and ordinary columns will be expected for INSERT queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3879" rel="external nofollow noreferrer" target="_blank">#3879</a></li>
</ul>
<h4 id="build-improvements">Build Improvements:<a class="headerlink" href="#build-improvements" title="Permanent link"> </a></h4>
<ul>
<li>Fixes for builds on macOS and ARM.</li>
</ul>
<h3 id="clickhouse-release-18-16-0-2018-12-14">ClickHouse Release 18.16.0, 2018-12-14<a class="headerlink" href="#clickhouse-release-18-16-0-2018-12-14" title="Permanent link"> </a></h3>
<h4 id="new-features">New Features:<a class="headerlink" href="#new-features" title="Permanent link"> </a></h4>
<ul>
<li><code class="syntax">DEFAULT</code> expressions are evaluated for missing fields when loading data in semi-structured input formats (<code class="syntax">JSONEachRow</code>, <code class="syntax">TSKV</code>). The feature is enabled with the <code class="syntax">insert_sample_with_metadata</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3555" rel="external nofollow noreferrer" target="_blank">#3555</a></li>
<li>The <code class="syntax">ALTER TABLE</code> query now has the <code class="syntax">MODIFY ORDER BY</code> action for changing the sorting key when adding or removing a table column. This is useful for tables in the <code class="syntax">MergeTree</code> family that perform additional tasks when merging based on this sorting key, such as <code class="syntax">SummingMergeTree</code>, <code class="syntax">AggregatingMergeTree</code>, and so on. <a href="https://github.com/ClickHouse/ClickHouse/pull/3581" rel="external nofollow noreferrer" target="_blank">#3581</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3755" rel="external nofollow noreferrer" target="_blank">#3755</a></li>
<li>For tables in the <code class="syntax">MergeTree</code> family, now you can specify a different sorting key (<code class="syntax">ORDER BY</code>) and index (<code class="syntax">PRIMARY KEY</code>). The sorting key can be longer than the index. <a href="https://github.com/ClickHouse/ClickHouse/pull/3581" rel="external nofollow noreferrer" target="_blank">#3581</a></li>
<li>Added the <code class="syntax">hdfs</code> table function and the <code class="syntax">HDFS</code> table engine for importing and exporting data to HDFS. <a href="https://github.com/ClickHouse/ClickHouse/pull/3617" rel="external nofollow noreferrer" target="_blank">chenxing-xc</a></li>
<li>Added functions for working with base64: <code class="syntax">base64Encode</code>, <code class="syntax">base64Decode</code>, <code class="syntax">tryBase64Decode</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3350" rel="external nofollow noreferrer" target="_blank">Alexander Krasheninnikov</a></li>
<li>Now you can use a parameter to configure the precision of the <code class="syntax">uniqCombined</code> aggregate function (select the number of HyperLogLog cells). <a href="https://github.com/ClickHouse/ClickHouse/pull/3406" rel="external nofollow noreferrer" target="_blank">#3406</a></li>
<li>Added the <code class="syntax">system.contributors</code> table that contains the names of everyone who made commits in ClickHouse. <a href="https://github.com/ClickHouse/ClickHouse/pull/3452" rel="external nofollow noreferrer" target="_blank">#3452</a></li>
<li>Added the ability to omit the partition for the <code class="syntax">ALTER TABLE ... FREEZE</code> query in order to back up all partitions at once. <a href="https://github.com/ClickHouse/ClickHouse/pull/3514" rel="external nofollow noreferrer" target="_blank">#3514</a></li>
<li>Added <code class="syntax">dictGet</code> and <code class="syntax">dictGetOrDefault</code> functions that do not require specifying the type of return value. The type is determined automatically from the dictionary description. <a href="https://github.com/ClickHouse/ClickHouse/pull/3564" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Now you can specify comments for a column in the table description and change it using <code class="syntax">ALTER</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3377" rel="external nofollow noreferrer" target="_blank">#3377</a></li>
<li>Reading is supported for <code class="syntax">Join</code> type tables with simple keys. <a href="https://github.com/ClickHouse/ClickHouse/pull/3728" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Now you can specify the options <code class="syntax">join_use_nulls</code>, <code class="syntax">max_rows_in_join</code>, <code class="syntax">max_bytes_in_join</code>, and <code class="syntax">join_overflow_mode</code> when creating a <code class="syntax">Join</code> type table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3728" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Added the <code class="syntax">joinGet</code> function that allows you to use a <code class="syntax">Join</code> type table like a dictionary. <a href="https://github.com/ClickHouse/ClickHouse/pull/3728" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Added the <code class="syntax">partition_key</code>, <code class="syntax">sorting_key</code>, <code class="syntax">primary_key</code>, and <code class="syntax">sampling_key</code> columns to the <code class="syntax">system.tables</code> table in order to provide information about table keys. <a href="https://github.com/ClickHouse/ClickHouse/pull/3609" rel="external nofollow noreferrer" target="_blank">#3609</a></li>
<li>Added the <code class="syntax">is_in_partition_key</code>, <code class="syntax">is_in_sorting_key</code>, <code class="syntax">is_in_primary_key</code>, and <code class="syntax">is_in_sampling_key</code> columns to the <code class="syntax">system.columns</code> table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3609" rel="external nofollow noreferrer" target="_blank">#3609</a></li>
<li>Added the <code class="syntax">min_time</code> and <code class="syntax">max_time</code> columns to the <code class="syntax">system.parts</code> table. These columns are populated when the partitioning key is an expression consisting of <code class="syntax">DateTime</code> columns. <a href="https://github.com/ClickHouse/ClickHouse/pull/3800" rel="external nofollow noreferrer" target="_blank">Emmanuel Donin de Rosière</a></li>
</ul>
<h4 id="bug-fixes-1">Bug Fixes:<a class="headerlink" href="#bug-fixes-1" title="Permanent link"> </a></h4>
<ul>
<li>Fixes and performance improvements for the <code class="syntax">LowCardinality</code> data type. <code class="syntax">GROUP BY</code> using <code class="syntax">LowCardinality(Nullable(...))</code>. Getting the values of <code class="syntax">extremes</code>. Processing high-order functions. <code class="syntax">LEFT ARRAY JOIN</code>. Distributed <code class="syntax">GROUP BY</code>. Functions that return <code class="syntax">Array</code>. Execution of <code class="syntax">ORDER BY</code>. Writing to <code class="syntax">Distributed</code> tables (nicelulu). Backward compatibility for <code class="syntax">INSERT</code> queries from old clients that implement the <code class="syntax">Native</code> protocol. Support for <code class="syntax">LowCardinality</code> for <code class="syntax">JOIN</code>. Improved performance when working in a single stream. <a href="https://github.com/ClickHouse/ClickHouse/pull/3823" rel="external nofollow noreferrer" target="_blank">#3823</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3803" rel="external nofollow noreferrer" target="_blank">#3803</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3799" rel="external nofollow noreferrer" target="_blank">#3799</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3769" rel="external nofollow noreferrer" target="_blank">#3769</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3744" rel="external nofollow noreferrer" target="_blank">#3744</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3681" rel="external nofollow noreferrer" target="_blank">#3681</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3651" rel="external nofollow noreferrer" target="_blank">#3651</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3649" rel="external nofollow noreferrer" target="_blank">#3649</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3641" rel="external nofollow noreferrer" target="_blank">#3641</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3632" rel="external nofollow noreferrer" target="_blank">#3632</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3568" rel="external nofollow noreferrer" target="_blank">#3568</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3523" rel="external nofollow noreferrer" target="_blank">#3523</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3518" rel="external nofollow noreferrer" target="_blank">#3518</a></li>
<li>Fixed how the <code class="syntax">select_sequential_consistency</code> option works. Previously, when this setting was enabled, an incomplete result was sometimes returned after beginning to write to a new partition. <a href="https://github.com/ClickHouse/ClickHouse/pull/2863" rel="external nofollow noreferrer" target="_blank">#2863</a></li>
<li>Databases are correctly specified when executing DDL <code class="syntax">ON CLUSTER</code> queries and <code class="syntax">ALTER UPDATE/DELETE</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3772" rel="external nofollow noreferrer" target="_blank">#3772</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3460" rel="external nofollow noreferrer" target="_blank">#3460</a></li>
<li>Databases are correctly specified for subqueries inside a VIEW. <a href="https://github.com/ClickHouse/ClickHouse/pull/3521" rel="external nofollow noreferrer" target="_blank">#3521</a></li>
<li>Fixed a bug in <code class="syntax">PREWHERE</code> with <code class="syntax">FINAL</code> for <code class="syntax">VersionedCollapsingMergeTree</code>. <a href="https://github.com/ClickHouse/ClickHouse/commit/7167bfd7b365538f7a91c4307ad77e552ab4e8c1" rel="external nofollow noreferrer" target="_blank">7167bfd7</a></li>
<li>Now you can use <code class="syntax">KILL QUERY</code> to cancel queries that have not started yet because they are waiting for the table to be locked. <a href="https://github.com/ClickHouse/ClickHouse/pull/3517" rel="external nofollow noreferrer" target="_blank">#3517</a></li>
<li>Corrected date and time calculations if the clocks were moved back at midnight (this happens in Iran, and happened in Moscow from 1981 to 1983). Previously, this led to the time being reset a day earlier than necessary, and also caused incorrect formatting of the date and time in text format. <a href="https://github.com/ClickHouse/ClickHouse/pull/3819" rel="external nofollow noreferrer" target="_blank">#3819</a></li>
<li>Fixed bugs in some cases of <code class="syntax">VIEW</code> and subqueries that omit the database. <a href="https://github.com/ClickHouse/ClickHouse/pull/3521" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed a race condition when simultaneously reading from a <code class="syntax">MATERIALIZED VIEW</code> and deleting a <code class="syntax">MATERIALIZED VIEW</code> due to not locking the internal <code class="syntax">MATERIALIZED VIEW</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3404" rel="external nofollow noreferrer" target="_blank">#3404</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3694" rel="external nofollow noreferrer" target="_blank">#3694</a></li>
<li>Fixed the error <code class="syntax">Lock handler cannot be nullptr.</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/3689" rel="external nofollow noreferrer" target="_blank">#3689</a></li>
<li>Fixed query processing when the <code class="syntax">compile_expressions</code> option is enabled (it’s enabled by default). Nondeterministic constant expressions like the <code class="syntax">now</code> function are no longer unfolded. <a href="https://github.com/ClickHouse/ClickHouse/pull/3457" rel="external nofollow noreferrer" target="_blank">#3457</a></li>
<li>Fixed a crash when specifying a non-constant scale argument in <code class="syntax">toDecimal32/64/128</code> functions.</li>
<li>Fixed an error when trying to insert an array with <code class="syntax">NULL</code> elements in the <code class="syntax">Values</code> format into a column of type <code class="syntax">Array</code> without <code class="syntax">Nullable</code> (if <code class="syntax">input_format_values_interpret_expressions</code> = 1). <a href="https://github.com/ClickHouse/ClickHouse/pull/3487" rel="external nofollow noreferrer" target="_blank">#3487</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3503" rel="external nofollow noreferrer" target="_blank">#3503</a></li>
<li>Fixed continuous error logging in <code class="syntax">DDLWorker</code> if ZooKeeper is not available. <a href="https://github.com/ClickHouse/ClickHouse/commit/8f50c620334988b28018213ec0092fe6423847e2" rel="external nofollow noreferrer" target="_blank">8f50c620</a></li>
<li>Fixed the return type for <code class="syntax">quantile*</code> functions from <code class="syntax">Date</code> and <code class="syntax">DateTime</code> types of arguments. <a href="https://github.com/ClickHouse/ClickHouse/pull/3580" rel="external nofollow noreferrer" target="_blank">#3580</a></li>
<li>Fixed the <code class="syntax">WITH</code> clause if it specifies a simple alias without expressions. <a href="https://github.com/ClickHouse/ClickHouse/pull/3570" rel="external nofollow noreferrer" target="_blank">#3570</a></li>
<li>Fixed processing of queries with named sub-queries and qualified column names when <code class="syntax">enable_optimize_predicate_expression</code> is enabled. <a href="https://github.com/ClickHouse/ClickHouse/pull/3588" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed the error <code class="syntax">Attempt to attach to nullptr thread group</code> when working with materialized views. <a href="https://github.com/ClickHouse/ClickHouse/pull/3623" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a></li>
<li>Fixed a crash when passing certain incorrect arguments to the <code class="syntax">arrayReverse</code> function. <a href="https://github.com/ClickHouse/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871" rel="external nofollow noreferrer" target="_blank">73e3a7b6</a></li>
<li>Fixed the buffer overflow in the <code class="syntax">extractURLParameter</code> function. Improved performance. Added correct processing of strings containing zero bytes. <a href="https://github.com/ClickHouse/ClickHouse/commit/141e9799e49201d84ea8e951d1bed4fb6d3dacb5" rel="external nofollow noreferrer" target="_blank">141e9799</a></li>
<li>Fixed buffer overflow in the <code class="syntax">lowerUTF8</code> and <code class="syntax">upperUTF8</code> functions. Removed the ability to execute these functions over <code class="syntax">FixedString</code> type arguments. <a href="https://github.com/ClickHouse/ClickHouse/pull/3662" rel="external nofollow noreferrer" target="_blank">#3662</a></li>
<li>Fixed a rare race condition when deleting <code class="syntax">MergeTree</code> tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3680" rel="external nofollow noreferrer" target="_blank">#3680</a></li>
<li>Fixed a race condition when reading from <code class="syntax">Buffer</code> tables and simultaneously performing <code class="syntax">ALTER</code> or <code class="syntax">DROP</code> on the target tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3719" rel="external nofollow noreferrer" target="_blank">#3719</a></li>
<li>Fixed a segfault if the <code class="syntax">max_temporary_non_const_columns</code> limit was exceeded. <a href="https://github.com/ClickHouse/ClickHouse/pull/3788" rel="external nofollow noreferrer" target="_blank">#3788</a></li>
</ul>
<h4 id="improvements-1">Improvements:<a class="headerlink" href="#improvements-1" title="Permanent link"> </a></h4>
<ul>
<li>The server does not write the processed configuration files to the <code class="syntax">/etc/clickhouse-server/</code> directory. Instead, it saves them in the <code class="syntax">preprocessed_configs</code> directory inside <code class="syntax">path</code>. This means that the <code class="syntax">/etc/clickhouse-server/</code> directory does not have write access for the <code class="syntax">clickhouse</code> user, which improves security. <a href="https://github.com/ClickHouse/ClickHouse/pull/2443" rel="external nofollow noreferrer" target="_blank">#2443</a></li>
<li>The <code class="syntax">min_merge_bytes_to_use_direct_io</code> option is set to 10 GiB by default. A merge that forms large parts of tables from the MergeTree family will be performed in <code class="syntax">O_DIRECT</code> mode, which prevents excessive page cache eviction. <a href="https://github.com/ClickHouse/ClickHouse/pull/3504" rel="external nofollow noreferrer" target="_blank">#3504</a></li>
<li>Accelerated server start when there is a very large number of tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3398" rel="external nofollow noreferrer" target="_blank">#3398</a></li>
<li>Added a connection pool and HTTP <code class="syntax">Keep-Alive</code> for connections between replicas. <a href="https://github.com/ClickHouse/ClickHouse/pull/3594" rel="external nofollow noreferrer" target="_blank">#3594</a></li>
<li>If the query syntax is invalid, the <code class="syntax">400 Bad Request</code> code is returned in the <code class="syntax">HTTP</code> interface (500 was returned previously). <a href="https://github.com/ClickHouse/ClickHouse/commit/31bc680ac5f4bb1d0360a8ba4696fa84bb47d6ab" rel="external nofollow noreferrer" target="_blank">31bc680a</a></li>
<li>The <code class="syntax">join_default_strictness</code> option is set to <code class="syntax">ALL</code> by default for compatibility. <a href="https://github.com/ClickHouse/ClickHouse/commit/120e2cbe2ff4fbad626c28042d9b28781c805afe" rel="external nofollow noreferrer" target="_blank">120e2cbe</a></li>
<li>Removed logging to <code class="syntax">stderr</code> from the <code class="syntax">re2</code> library for invalid or complex regular expressions. <a href="https://github.com/ClickHouse/ClickHouse/pull/3723" rel="external nofollow noreferrer" target="_blank">#3723</a></li>
<li>Added for the <code class="syntax">Kafka</code> table engine: checks for subscriptions before beginning to read from Kafka; the kafka_max_block_size setting for the table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3396" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a></li>
<li>The <code class="syntax">cityHash64</code>, <code class="syntax">farmHash64</code>, <code class="syntax">metroHash64</code>, <code class="syntax">sipHash64</code>, <code class="syntax">halfMD5</code>, <code class="syntax">murmurHash2_32</code>, <code class="syntax">murmurHash2_64</code>, <code class="syntax">murmurHash3_32</code>, and <code class="syntax">murmurHash3_64</code> functions now work for any number of arguments and for arguments in the form of tuples. <a href="https://github.com/ClickHouse/ClickHouse/pull/3451" rel="external nofollow noreferrer" target="_blank">#3451</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3519" rel="external nofollow noreferrer" target="_blank">#3519</a></li>
<li>The <code class="syntax">arrayReverse</code> function now works with any types of arrays. <a href="https://github.com/ClickHouse/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871" rel="external nofollow noreferrer" target="_blank">73e3a7b6</a></li>
<li>Added an optional parameter: the slot size for the <code class="syntax">timeSlots</code> function. <a href="https://github.com/ClickHouse/ClickHouse/pull/3724" rel="external nofollow noreferrer" target="_blank">Kirill Shvakov</a></li>
<li>For <code class="syntax">FULL</code> and <code class="syntax">RIGHT JOIN</code>, the <code class="syntax">max_block_size</code> setting is used for a stream of non-joined data from the right table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3699" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Added the <code class="syntax">--secure</code> command line parameter in <code class="syntax">clickhouse-benchmark</code> and <code class="syntax">clickhouse-performance-test</code> to enable TLS. <a href="https://github.com/ClickHouse/ClickHouse/pull/3688" rel="external nofollow noreferrer" target="_blank">#3688</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3690" rel="external nofollow noreferrer" target="_blank">#3690</a></li>
<li>Type conversion when the structure of a <code class="syntax">Buffer</code> type table does not match the structure of the destination table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3603" rel="external nofollow noreferrer" target="_blank">Vitaly Baranov</a></li>
<li>Added the <code class="syntax">tcp_keep_alive_timeout</code> option to enable keep-alive packets after inactivity for the specified time interval. <a href="https://github.com/ClickHouse/ClickHouse/pull/3441" rel="external nofollow noreferrer" target="_blank">#3441</a></li>
<li>Removed unnecessary quoting of values for the partition key in the <code class="syntax">system.parts</code> table if it consists of a single column. <a href="https://github.com/ClickHouse/ClickHouse/pull/3652" rel="external nofollow noreferrer" target="_blank">#3652</a></li>
<li>The modulo function works for <code class="syntax">Date</code> and <code class="syntax">DateTime</code> data types. <a href="https://github.com/ClickHouse/ClickHouse/pull/3385" rel="external nofollow noreferrer" target="_blank">#3385</a></li>
<li>Added synonyms for the <code class="syntax">POWER</code>, <code class="syntax">LN</code>, <code class="syntax">LCASE</code>, <code class="syntax">UCASE</code>, <code class="syntax">REPLACE</code>, <code class="syntax">LOCATE</code>, <code class="syntax">SUBSTR</code>, and <code class="syntax">MID</code> functions. <a href="https://github.com/ClickHouse/ClickHouse/pull/3774" rel="external nofollow noreferrer" target="_blank">#3774</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3763" rel="external nofollow noreferrer" target="_blank">#3763</a> Some function names are case-insensitive for compatibility with the SQL standard. Added syntactic sugar <code class="syntax">SUBSTRING(expr FROM start FOR length)</code> for compatibility with SQL. <a href="https://github.com/ClickHouse/ClickHouse/pull/3804" rel="external nofollow noreferrer" target="_blank">#3804</a></li>
<li>Added the ability to <code class="syntax">mlock</code> memory pages corresponding to <code class="syntax">clickhouse-server</code> executable code to prevent it from being forced out of memory. This feature is disabled by default. <a href="https://github.com/ClickHouse/ClickHouse/pull/3553" rel="external nofollow noreferrer" target="_blank">#3553</a></li>
<li>Improved performance when reading from <code class="syntax">O_DIRECT</code> (with the <code class="syntax">min_bytes_to_use_direct_io</code> option enabled). <a href="https://github.com/ClickHouse/ClickHouse/pull/3405" rel="external nofollow noreferrer" target="_blank">#3405</a></li>
<li>Improved performance of the <code class="syntax">dictGet...OrDefault</code> function for a constant key argument and a non-constant default argument. <a href="https://github.com/ClickHouse/ClickHouse/pull/3563" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>The <code class="syntax">firstSignificantSubdomain</code> function now processes the domains <code class="syntax">gov</code>, <code class="syntax">mil</code>, and <code class="syntax">edu</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3601" rel="external nofollow noreferrer" target="_blank">Igor Hatarist</a> Improved performance. <a href="https://github.com/ClickHouse/ClickHouse/pull/3628" rel="external nofollow noreferrer" target="_blank">#3628</a></li>
<li>Ability to specify custom environment variables for starting <code class="syntax">clickhouse-server</code> using the <code class="syntax">SYS-V init.d</code> script by defining <code class="syntax">CLICKHOUSE_PROGRAM_ENV</code> in <code class="syntax">/etc/default/clickhouse</code>.<br/>
<a href="https://github.com/ClickHouse/ClickHouse/pull/3612" rel="external nofollow noreferrer" target="_blank">Pavlo Bashynskyi</a></li>
<li>Correct return code for the clickhouse-server init script. <a href="https://github.com/ClickHouse/ClickHouse/pull/3516" rel="external nofollow noreferrer" target="_blank">#3516</a></li>
<li>The <code class="syntax">system.metrics</code> table now has the <code class="syntax">VersionInteger</code> metric, and <code class="syntax">system.build_options</code> has the added line <code class="syntax">VERSION_INTEGER</code>, which contains the numeric form of the ClickHouse version, such as <code class="syntax">18016000</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3644" rel="external nofollow noreferrer" target="_blank">#3644</a></li>
<li>Removed the ability to compare the <code class="syntax">Date</code> type with a number to avoid potential errors like <code class="syntax">date = 2018-12-17</code>, where quotes around the date are omitted by mistake. <a href="https://github.com/ClickHouse/ClickHouse/pull/3687" rel="external nofollow noreferrer" target="_blank">#3687</a></li>
<li>Fixed the behavior of stateful functions like <code class="syntax">rowNumberInAllBlocks</code>. They previously output a result that was one number larger due to starting during query analysis. <a href="https://github.com/ClickHouse/ClickHouse/pull/3729" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>If the <code class="syntax">force_restore_data</code> file can’t be deleted, an error message is displayed. <a href="https://github.com/ClickHouse/ClickHouse/pull/3794" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
</ul>
<h4 id="build-improvements-1">Build Improvements:<a class="headerlink" href="#build-improvements-1" title="Permanent link"> </a></h4>
<ul>
<li>Updated the <code class="syntax">jemalloc</code> library, which fixes a potential memory leak. <a href="https://github.com/ClickHouse/ClickHouse/pull/3557" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Profiling with <code class="syntax">jemalloc</code> is enabled by default in order to debug builds. <a href="https://github.com/ClickHouse/ClickHouse/commit/2cc82f5cbe266421cd4c1165286c2c47e5ffcb15" rel="external nofollow noreferrer" target="_blank">2cc82f5c</a></li>
<li>Added the ability to run integration tests when only <code class="syntax">Docker</code> is installed on the system. <a href="https://github.com/ClickHouse/ClickHouse/pull/3650" rel="external nofollow noreferrer" target="_blank">#3650</a></li>
<li>Added the fuzz expression test in SELECT queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3442" rel="external nofollow noreferrer" target="_blank">#3442</a></li>
<li>Added a stress test for commits, which performs functional tests in parallel and in random order to detect more race conditions. <a href="https://github.com/ClickHouse/ClickHouse/pull/3438" rel="external nofollow noreferrer" target="_blank">#3438</a></li>
<li>Improved the method for starting clickhouse-server in a Docker image. <a href="https://github.com/ClickHouse/ClickHouse/pull/3663" rel="external nofollow noreferrer" target="_blank">Elghazal Ahmed</a></li>
<li>For a Docker image, added support for initializing databases using files in the <code class="syntax">/docker-entrypoint-initdb.d</code> directory. <a href="https://github.com/ClickHouse/ClickHouse/pull/3695" rel="external nofollow noreferrer" target="_blank">Konstantin Lebedev</a></li>
<li>Fixes for builds on ARM. <a href="https://github.com/ClickHouse/ClickHouse/pull/3709" rel="external nofollow noreferrer" target="_blank">#3709</a></li>
</ul>
<h4 id="backward-incompatible-changes">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes" title="Permanent link"> </a></h4>
<ul>
<li>Removed the ability to compare the <code class="syntax">Date</code> type with a number. Instead of <code class="syntax">toDate('2018-12-18') = 17883</code>, you must use explicit type conversion <code class="syntax">= toDate(17883)</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/3687" rel="external nofollow noreferrer" target="_blank">#3687</a></li>
</ul>
<h2 id="clickhouse-release-18-14">ClickHouse Release 18.14<a class="headerlink" href="#clickhouse-release-18-14" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-14-19-2018-12-19">ClickHouse Release 18.14.19, 2018-12-19<a class="headerlink" href="#clickhouse-release-18-14-19-2018-12-19" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-2">Bug Fixes:<a class="headerlink" href="#bug-fixes-2" title="Permanent link"> </a></h4>
<ul>
<li>Fixed an error that led to problems with updating dictionaries with the ODBC source. <a href="https://github.com/ClickHouse/ClickHouse/issues/3825" rel="external nofollow noreferrer" target="_blank">#3825</a>, <a href="https://github.com/ClickHouse/ClickHouse/issues/3829" rel="external nofollow noreferrer" target="_blank">#3829</a></li>
<li>Databases are correctly specified when executing DDL <code class="syntax">ON CLUSTER</code> queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3460" rel="external nofollow noreferrer" target="_blank">#3460</a></li>
<li>Fixed a segfault if the <code class="syntax">max_temporary_non_const_columns</code> limit was exceeded. <a href="https://github.com/ClickHouse/ClickHouse/pull/3788" rel="external nofollow noreferrer" target="_blank">#3788</a></li>
</ul>
<h4 id="build-improvements-2">Build Improvements:<a class="headerlink" href="#build-improvements-2" title="Permanent link"> </a></h4>
<ul>
<li>Fixes for builds on ARM.</li>
</ul>
<h3 id="clickhouse-release-18-14-18-2018-12-04">ClickHouse Release 18.14.18, 2018-12-04<a class="headerlink" href="#clickhouse-release-18-14-18-2018-12-04" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-3">Bug Fixes:<a class="headerlink" href="#bug-fixes-3" title="Permanent link"> </a></h4>
<ul>
<li>Fixed error in <code class="syntax">dictGet...</code> function for dictionaries of type <code class="syntax">range</code>, if one of the arguments is constant and other is not. <a href="https://github.com/ClickHouse/ClickHouse/pull/3751" rel="external nofollow noreferrer" target="_blank">#3751</a></li>
<li>Fixed error that caused messages <code class="syntax">netlink: '...': attribute type 1 has an invalid length</code> to be printed in Linux kernel log, that was happening only on fresh enough versions of Linux kernel. <a href="https://github.com/ClickHouse/ClickHouse/pull/3749" rel="external nofollow noreferrer" target="_blank">#3749</a></li>
<li>Fixed segfault in function <code class="syntax">empty</code> for argument of <code class="syntax">FixedString</code> type. <a href="https://github.com/ClickHouse/ClickHouse/pull/3703" rel="external nofollow noreferrer" target="_blank">Daniel, Dao Quang Minh</a></li>
<li>Fixed excessive memory allocation when using large value of <code class="syntax">max_query_size</code> setting (a memory chunk of <code class="syntax">max_query_size</code> bytes was preallocated at once). <a href="https://github.com/ClickHouse/ClickHouse/pull/3720" rel="external nofollow noreferrer" target="_blank">#3720</a></li>
</ul>
<h4 id="build-changes">Build Changes:<a class="headerlink" href="#build-changes" title="Permanent link"> </a></h4>
<ul>
<li>Fixed build with LLVM/Clang libraries of version 7 from the OS packages (these libraries are used for runtime query compilation). <a href="https://github.com/ClickHouse/ClickHouse/pull/3582" rel="external nofollow noreferrer" target="_blank">#3582</a></li>
</ul>
<h3 id="clickhouse-release-18-14-17-2018-11-30">ClickHouse Release 18.14.17, 2018-11-30<a class="headerlink" href="#clickhouse-release-18-14-17-2018-11-30" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-4">Bug Fixes:<a class="headerlink" href="#bug-fixes-4" title="Permanent link"> </a></h4>
<ul>
<li>Fixed cases when the ODBC bridge process did not terminate with the main server process. <a href="https://github.com/ClickHouse/ClickHouse/pull/3642" rel="external nofollow noreferrer" target="_blank">#3642</a></li>
<li>Fixed synchronous insertion into the <code class="syntax">Distributed</code> table with a columns list that differs from the column list of the remote table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3673" rel="external nofollow noreferrer" target="_blank">#3673</a></li>
<li>Fixed a rare race condition that can lead to a crash when dropping a MergeTree table. <a href="https://github.com/ClickHouse/ClickHouse/pull/3643" rel="external nofollow noreferrer" target="_blank">#3643</a></li>
<li>Fixed a query deadlock in case when query thread creation fails with the <code class="syntax">Resource temporarily unavailable</code> error. <a href="https://github.com/ClickHouse/ClickHouse/pull/3643" rel="external nofollow noreferrer" target="_blank">#3643</a></li>
<li>Fixed parsing of the <code class="syntax">ENGINE</code> clause when the <code class="syntax">CREATE AS table</code> syntax was used and the <code class="syntax">ENGINE</code> clause was specified before the <code class="syntax">AS table</code> (the error resulted in ignoring the specified engine). <a href="https://github.com/ClickHouse/ClickHouse/pull/3692" rel="external nofollow noreferrer" target="_blank">#3692</a></li>
</ul>
<h3 id="clickhouse-release-18-14-15-2018-11-21">ClickHouse Release 18.14.15, 2018-11-21<a class="headerlink" href="#clickhouse-release-18-14-15-2018-11-21" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-5">Bug Fixes:<a class="headerlink" href="#bug-fixes-5" title="Permanent link"> </a></h4>
<ul>
<li>The size of memory chunk was overestimated while deserializing the column of type <code class="syntax">Array(String)</code> that leads to “Memory limit exceeded” errors. The issue appeared in version 18.12.13. <a href="https://github.com/ClickHouse/ClickHouse/issues/3589" rel="external nofollow noreferrer" target="_blank">#3589</a></li>
</ul>
<h3 id="clickhouse-release-18-14-14-2018-11-20">ClickHouse Release 18.14.14, 2018-11-20<a class="headerlink" href="#clickhouse-release-18-14-14-2018-11-20" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-6">Bug Fixes:<a class="headerlink" href="#bug-fixes-6" title="Permanent link"> </a></h4>
<ul>
<li>Fixed <code class="syntax">ON CLUSTER</code> queries when cluster configured as secure (flag <code class="syntax">&lt;secure&gt;</code>). <a href="https://github.com/ClickHouse/ClickHouse/pull/3599" rel="external nofollow noreferrer" target="_blank">#3599</a></li>
</ul>
<h4 id="build-changes-1">Build Changes:<a class="headerlink" href="#build-changes-1" title="Permanent link"> </a></h4>
<ul>
<li>Fixed problems (llvm-7 from system, macos) <a href="https://github.com/ClickHouse/ClickHouse/pull/3582" rel="external nofollow noreferrer" target="_blank">#3582</a></li>
</ul>
<h3 id="clickhouse-release-18-14-13-2018-11-08">ClickHouse Release 18.14.13, 2018-11-08<a class="headerlink" href="#clickhouse-release-18-14-13-2018-11-08" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-7">Bug Fixes:<a class="headerlink" href="#bug-fixes-7" title="Permanent link"> </a></h4>
<ul>
<li>Fixed the <code class="syntax">Block structure mismatch in MergingSorted stream</code> error. <a href="https://github.com/ClickHouse/ClickHouse/issues/3162" rel="external nofollow noreferrer" target="_blank">#3162</a></li>
<li>Fixed <code class="syntax">ON CLUSTER</code> queries in case when secure connections were turned on in the cluster config (the <code class="syntax">&lt;secure&gt;</code> flag). <a href="https://github.com/ClickHouse/ClickHouse/pull/3465" rel="external nofollow noreferrer" target="_blank">#3465</a></li>
<li>Fixed an error in queries that used <code class="syntax">SAMPLE</code>, <code class="syntax">PREWHERE</code> and alias columns. <a href="https://github.com/ClickHouse/ClickHouse/pull/3543" rel="external nofollow noreferrer" target="_blank">#3543</a></li>
<li>Fixed a rare <code class="syntax">unknown compression method</code> error when the <code class="syntax">min_bytes_to_use_direct_io</code> setting was enabled. <a href="https://github.com/ClickHouse/ClickHouse/pull/3544" rel="external nofollow noreferrer" target="_blank">3544</a></li>
</ul>
<h4 id="performance-improvements">Performance Improvements:<a class="headerlink" href="#performance-improvements" title="Permanent link"> </a></h4>
<ul>
<li>Fixed performance regression of queries with <code class="syntax">GROUP BY</code> of columns of UInt16 or Date type when executing on AMD EPYC processors. <a href="https://github.com/ClickHouse/ClickHouse/pull/3512" rel="external nofollow noreferrer" target="_blank">Igor Lapko</a></li>
<li>Fixed performance regression of queries that process long strings. <a href="https://github.com/ClickHouse/ClickHouse/pull/3530" rel="external nofollow noreferrer" target="_blank">#3530</a></li>
</ul>
<h4 id="build-improvements-3">Build Improvements:<a class="headerlink" href="#build-improvements-3" title="Permanent link"> </a></h4>
<ul>
<li>Improvements for simplifying the Arcadia build. <a href="https://github.com/ClickHouse/ClickHouse/pull/3475" rel="external nofollow noreferrer" target="_blank">#3475</a>, <a href="https://github.com/ClickHouse/ClickHouse/pull/3535" rel="external nofollow noreferrer" target="_blank">#3535</a></li>
</ul>
<h3 id="clickhouse-release-18-14-12-2018-11-02">ClickHouse Release 18.14.12, 2018-11-02<a class="headerlink" href="#clickhouse-release-18-14-12-2018-11-02" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-8">Bug Fixes:<a class="headerlink" href="#bug-fixes-8" title="Permanent link"> </a></h4>
<ul>
<li>Fixed a crash on joining two unnamed subqueries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3505" rel="external nofollow noreferrer" target="_blank">#3505</a></li>
<li>Fixed generating incorrect queries (with an empty <code class="syntax">WHERE</code> clause) when querying external databases. <a href="https://github.com/ClickHouse/ClickHouse/pull/3477" rel="external nofollow noreferrer" target="_blank">hotid</a></li>
<li>Fixed using an incorrect timeout value in ODBC dictionaries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3511" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a></li>
</ul>
<h3 id="clickhouse-release-18-14-11-2018-10-29">ClickHouse Release 18.14.11, 2018-10-29<a class="headerlink" href="#clickhouse-release-18-14-11-2018-10-29" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-9">Bug Fixes:<a class="headerlink" href="#bug-fixes-9" title="Permanent link"> </a></h4>
<ul>
<li>Fixed the error <code class="syntax">Block structure mismatch in UNION stream: different number of columns</code> in LIMIT queries. <a href="https://github.com/ClickHouse/ClickHouse/issues/2156" rel="external nofollow noreferrer" target="_blank">#2156</a></li>
<li>Fixed errors when merging data in tables containing arrays inside Nested structures. <a href="https://github.com/ClickHouse/ClickHouse/pull/3397" rel="external nofollow noreferrer" target="_blank">#3397</a></li>
<li>Fixed incorrect query results if the <code class="syntax">merge_tree_uniform_read_distribution</code> setting is disabled (it is enabled by default). <a href="https://github.com/ClickHouse/ClickHouse/pull/3429" rel="external nofollow noreferrer" target="_blank">#3429</a></li>
<li>Fixed an error on inserts to a Distributed table in Native format. <a href="https://github.com/ClickHouse/ClickHouse/issues/3411" rel="external nofollow noreferrer" target="_blank">#3411</a></li>
</ul>
<h3 id="clickhouse-release-18-14-10-2018-10-23">ClickHouse Release 18.14.10, 2018-10-23<a class="headerlink" href="#clickhouse-release-18-14-10-2018-10-23" title="Permanent link"> </a></h3>
<ul>
<li>The <code class="syntax">compile_expressions</code> setting (JIT compilation of expressions) is disabled by default. <a href="https://github.com/ClickHouse/ClickHouse/pull/3410" rel="external nofollow noreferrer" target="_blank">#3410</a></li>
<li>The <code class="syntax">enable_optimize_predicate_expression</code> setting is disabled by default.</li>
</ul>
<h3 id="clickhouse-release-18-14-9-2018-10-16">ClickHouse Release 18.14.9, 2018-10-16<a class="headerlink" href="#clickhouse-release-18-14-9-2018-10-16" title="Permanent link"> </a></h3>
<h4 id="new-features-1">New Features:<a class="headerlink" href="#new-features-1" title="Permanent link"> </a></h4>
<ul>
<li>The <code class="syntax">WITH CUBE</code> modifier for <code class="syntax">GROUP BY</code> (the alternative syntax <code class="syntax">GROUP BY CUBE(...)</code> is also available). <a href="https://github.com/ClickHouse/ClickHouse/pull/3172" rel="external nofollow noreferrer" target="_blank">#3172</a></li>
<li>Added the <code class="syntax">formatDateTime</code> function. <a href="https://github.com/ClickHouse/ClickHouse/pull/2770" rel="external nofollow noreferrer" target="_blank">Alexandr Krasheninnikov</a></li>
<li>Added the <code class="syntax">JDBC</code> table engine and <code class="syntax">jdbc</code> table function (requires installing clickhouse-jdbc-bridge). <a href="https://github.com/ClickHouse/ClickHouse/pull/3210" rel="external nofollow noreferrer" target="_blank">Alexandr Krasheninnikov</a></li>
<li>Added functions for working with the ISO week number: <code class="syntax">toISOWeek</code>, <code class="syntax">toISOYear</code>, <code class="syntax">toStartOfISOYear</code>, and <code class="syntax">toDayOfYear</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3146" rel="external nofollow noreferrer" target="_blank">#3146</a></li>
<li>Now you can use <code class="syntax">Nullable</code> columns for <code class="syntax">MySQL</code> and <code class="syntax">ODBC</code> tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3362" rel="external nofollow noreferrer" target="_blank">#3362</a></li>
<li>Nested data structures can be read as nested objects in <code class="syntax">JSONEachRow</code> format. Added the <code class="syntax">input_format_import_nested_json</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3144" rel="external nofollow noreferrer" target="_blank">Veloman Yunkan</a></li>
<li>Parallel processing is available for many <code class="syntax">MATERIALIZED VIEW</code>s when inserting data. See the <code class="syntax">parallel_view_processing</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3208" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a></li>
<li>Added the <code class="syntax">SYSTEM FLUSH LOGS</code> query (forced log flushes to system tables such as <code class="syntax">query_log</code>) <a href="https://github.com/ClickHouse/ClickHouse/pull/3321" rel="external nofollow noreferrer" target="_blank">#3321</a></li>
<li>Now you can use pre-defined <code class="syntax">database</code> and <code class="syntax">table</code> macros when declaring <code class="syntax">Replicated</code> tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3251" rel="external nofollow noreferrer" target="_blank">#3251</a></li>
<li>Added the ability to read <code class="syntax">Decimal</code> type values in engineering notation (indicating powers of ten). <a href="https://github.com/ClickHouse/ClickHouse/pull/3153" rel="external nofollow noreferrer" target="_blank">#3153</a></li>
</ul>
<h4 id="experimental-features">Experimental Features:<a class="headerlink" href="#experimental-features" title="Permanent link"> </a></h4>
<ul>
<li>Optimization of the GROUP BY clause for <code class="syntax">LowCardinality data types.</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/3138" rel="external nofollow noreferrer" target="_blank">#3138</a></li>
<li>Optimized calculation of expressions for <code class="syntax">LowCardinality data types.</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/3200" rel="external nofollow noreferrer" target="_blank">#3200</a></li>
</ul>
<h4 id="improvements-2">Improvements:<a class="headerlink" href="#improvements-2" title="Permanent link"> </a></h4>
<ul>
<li>Significantly reduced memory consumption for queries with <code class="syntax">ORDER BY</code> and <code class="syntax">LIMIT</code>. See the <code class="syntax">max_bytes_before_remerge_sort</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3205" rel="external nofollow noreferrer" target="_blank">#3205</a></li>
<li>In the absence of <code class="syntax">JOIN</code> (<code class="syntax">LEFT</code>, <code class="syntax">INNER</code>, …), <code class="syntax">INNER JOIN</code> is assumed. <a href="https://github.com/ClickHouse/ClickHouse/pull/3147" rel="external nofollow noreferrer" target="_blank">#3147</a></li>
<li>Qualified asterisks work correctly in queries with <code class="syntax">JOIN</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3202" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>The <code class="syntax">ODBC</code> table engine correctly chooses the method for quoting identifiers in the SQL dialect of a remote database. <a href="https://github.com/ClickHouse/ClickHouse/pull/3210" rel="external nofollow noreferrer" target="_blank">Alexandr Krasheninnikov</a></li>
<li>The <code class="syntax">compile_expressions</code> setting (JIT compilation of expressions) is enabled by default.</li>
<li>Fixed behavior for simultaneous DROP DATABASE/TABLE IF EXISTS and CREATE DATABASE/TABLE IF NOT EXISTS. Previously, a <code class="syntax">CREATE DATABASE ... IF NOT EXISTS</code> query could return the error message “File … already exists”, and the <code class="syntax">CREATE TABLE ... IF NOT EXISTS</code> and <code class="syntax">DROP TABLE IF EXISTS</code> queries could return <code class="syntax">Table ... is creating or attaching right now</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3101" rel="external nofollow noreferrer" target="_blank">#3101</a></li>
<li>LIKE and IN expressions with a constant right half are passed to the remote server when querying from MySQL or ODBC tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3182" rel="external nofollow noreferrer" target="_blank">#3182</a></li>
<li>Comparisons with constant expressions in a WHERE clause are passed to the remote server when querying from MySQL and ODBC tables. Previously, only comparisons with constants were passed. <a href="https://github.com/ClickHouse/ClickHouse/pull/3182" rel="external nofollow noreferrer" target="_blank">#3182</a></li>
<li>Correct calculation of row width in the terminal for <code class="syntax">Pretty</code> formats, including strings with hieroglyphs. <a href="https://github.com/ClickHouse/ClickHouse/pull/3257" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>.</li>
<li><code class="syntax">ON CLUSTER</code> can be specified for <code class="syntax">ALTER UPDATE</code> queries.</li>
<li>Improved performance for reading data in <code class="syntax">JSONEachRow</code> format. <a href="https://github.com/ClickHouse/ClickHouse/pull/3332" rel="external nofollow noreferrer" target="_blank">#3332</a></li>
<li>Added synonyms for the <code class="syntax">LENGTH</code> and <code class="syntax">CHARACTER_LENGTH</code> functions for compatibility. The <code class="syntax">CONCAT</code> function is no longer case-sensitive. <a href="https://github.com/ClickHouse/ClickHouse/pull/3306" rel="external nofollow noreferrer" target="_blank">#3306</a></li>
<li>Added the <code class="syntax">TIMESTAMP</code> synonym for the <code class="syntax">DateTime</code> type. <a href="https://github.com/ClickHouse/ClickHouse/pull/3390" rel="external nofollow noreferrer" target="_blank">#3390</a></li>
<li>There is always space reserved for query_id in the server logs, even if the log line is not related to a query. This makes it easier to parse server text logs with third-party tools.</li>
<li>Memory consumption by a query is logged when it exceeds the next level of an integer number of gigabytes. <a href="https://github.com/ClickHouse/ClickHouse/pull/3205" rel="external nofollow noreferrer" target="_blank">#3205</a></li>
<li>Added compatibility mode for the case when the client library that uses the Native protocol sends fewer columns by mistake than the server expects for the INSERT query. This scenario was possible when using the clickhouse-cpp library. Previously, this scenario caused the server to crash. <a href="https://github.com/ClickHouse/ClickHouse/pull/3171" rel="external nofollow noreferrer" target="_blank">#3171</a></li>
<li>In a user-defined WHERE expression in <code class="syntax">clickhouse-copier</code>, you can now use a <code class="syntax">partition_key</code> alias (for additional filtering by source table partition). This is useful if the partitioning scheme changes during copying, but only changes slightly. <a href="https://github.com/ClickHouse/ClickHouse/pull/3166" rel="external nofollow noreferrer" target="_blank">#3166</a></li>
<li>The workflow of the <code class="syntax">Kafka</code> engine has been moved to a background thread pool in order to automatically reduce the speed of data reading at high loads. <a href="https://github.com/ClickHouse/ClickHouse/pull/3215" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a>.</li>
<li>Support for reading <code class="syntax">Tuple</code> and <code class="syntax">Nested</code> values of structures like <code class="syntax">struct</code> in the <code class="syntax">Cap'n'Proto format</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3216" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a></li>
<li>The list of top-level domains for the <code class="syntax">firstSignificantSubdomain</code> function now includes the domain <code class="syntax">biz</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3219" rel="external nofollow noreferrer" target="_blank">decaseal</a></li>
<li>In the configuration of external dictionaries, <code class="syntax">null_value</code> is interpreted as the value of the default data type. <a href="https://github.com/ClickHouse/ClickHouse/pull/3330" rel="external nofollow noreferrer" target="_blank">#3330</a></li>
<li>Support for the <code class="syntax">intDiv</code> and <code class="syntax">intDivOrZero</code> functions for <code class="syntax">Decimal</code>. <a href="https://github.com/ClickHouse/ClickHouse/commit/b48402e8712e2b9b151e0eef8193811d433a1264" rel="external nofollow noreferrer" target="_blank">b48402e8</a></li>
<li>Support for the <code class="syntax">Date</code>, <code class="syntax">DateTime</code>, <code class="syntax">UUID</code>, and <code class="syntax">Decimal</code> types as a key for the <code class="syntax">sumMap</code> aggregate function. <a href="https://github.com/ClickHouse/ClickHouse/pull/3281" rel="external nofollow noreferrer" target="_blank">#3281</a></li>
<li>Support for the <code class="syntax">Decimal</code> data type in external dictionaries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3324" rel="external nofollow noreferrer" target="_blank">#3324</a></li>
<li>Support for the <code class="syntax">Decimal</code> data type in <code class="syntax">SummingMergeTree</code> tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3348" rel="external nofollow noreferrer" target="_blank">#3348</a></li>
<li>Added specializations for <code class="syntax">UUID</code> in <code class="syntax">if</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3366" rel="external nofollow noreferrer" target="_blank">#3366</a></li>
<li>Reduced the number of <code class="syntax">open</code> and <code class="syntax">close</code> system calls when reading from a <code class="syntax">MergeTree table</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3283" rel="external nofollow noreferrer" target="_blank">#3283</a></li>
<li>A <code class="syntax">TRUNCATE TABLE</code> query can be executed on any replica (the query is passed to the leader replica). <a href="https://github.com/ClickHouse/ClickHouse/pull/3375" rel="external nofollow noreferrer" target="_blank">Kirill Shvakov</a></li>
</ul>
<h4 id="bug-fixes-10">Bug Fixes:<a class="headerlink" href="#bug-fixes-10" title="Permanent link"> </a></h4>
<ul>
<li>Fixed an issue with <code class="syntax">Dictionary</code> tables for <code class="syntax">range_hashed</code> dictionaries. This error occurred in version 18.12.17. <a href="https://github.com/ClickHouse/ClickHouse/pull/1702" rel="external nofollow noreferrer" target="_blank">#1702</a></li>
<li>Fixed an error when loading <code class="syntax">range_hashed</code> dictionaries (the message <code class="syntax">Unsupported type Nullable (...)</code>). This error occurred in version 18.12.17. <a href="https://github.com/ClickHouse/ClickHouse/pull/3362" rel="external nofollow noreferrer" target="_blank">#3362</a></li>
<li>Fixed errors in the <code class="syntax">pointInPolygon</code> function due to the accumulation of inaccurate calculations for polygons with a large number of vertices located close to each other. <a href="https://github.com/ClickHouse/ClickHouse/pull/3331" rel="external nofollow noreferrer" target="_blank">#3331</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3341" rel="external nofollow noreferrer" target="_blank">#3341</a></li>
<li>If after merging data parts, the checksum for the resulting part differs from the result of the same merge in another replica, the result of the merge is deleted and the data part is downloaded from the other replica (this is the correct behavior). But after downloading the data part, it couldn’t be added to the working set because of an error that the part already exists (because the data part was deleted with some delay after the merge). This led to cyclical attempts to download the same data. <a href="https://github.com/ClickHouse/ClickHouse/pull/3194" rel="external nofollow noreferrer" target="_blank">#3194</a></li>
<li>Fixed incorrect calculation of total memory consumption by queries (because of incorrect calculation, the <code class="syntax">max_memory_usage_for_all_queries</code> setting worked incorrectly and the <code class="syntax">MemoryTracking</code> metric had an incorrect value). This error occurred in version 18.12.13. <a href="https://github.com/ClickHouse/ClickHouse/pull/3344" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a></li>
<li>Fixed the functionality of <code class="syntax">CREATE TABLE ... ON CLUSTER ... AS SELECT ...</code> This error occurred in version 18.12.13. <a href="https://github.com/ClickHouse/ClickHouse/pull/3247" rel="external nofollow noreferrer" target="_blank">#3247</a></li>
<li>Fixed unnecessary preparation of data structures for <code class="syntax">JOIN</code>s on the server that initiates the query if the <code class="syntax">JOIN</code> is only performed on remote servers. <a href="https://github.com/ClickHouse/ClickHouse/pull/3340" rel="external nofollow noreferrer" target="_blank">#3340</a></li>
<li>Fixed bugs in the <code class="syntax">Kafka</code> engine: deadlocks after exceptions when starting to read data, and locks upon completion <a href="https://github.com/ClickHouse/ClickHouse/pull/3215" rel="external nofollow noreferrer" target="_blank">Marek Vavruša</a>.</li>
<li>For <code class="syntax">Kafka</code> tables, the optional <code class="syntax">schema</code> parameter was not passed (the schema of the <code class="syntax">Cap'n'Proto</code> format). <a href="https://github.com/ClickHouse/ClickHouse/pull/3150" rel="external nofollow noreferrer" target="_blank">Vojtech Splichal</a></li>
<li>If the ensemble of ZooKeeper servers has servers that accept the connection but then immediately close it instead of responding to the handshake, ClickHouse chooses to connect another server. Previously, this produced the error <code class="syntax">Cannot read all data. Bytes read: 0. Bytes expected: 4.</code> and the server couldn’t start. <a href="https://github.com/ClickHouse/ClickHouse/commit/8218cf3a5f39a43401953769d6d12a0bb8d29da9" rel="external nofollow noreferrer" target="_blank">8218cf3a</a></li>
<li>If the ensemble of ZooKeeper servers contains servers for which the DNS query returns an error, these servers are ignored. <a href="https://github.com/ClickHouse/ClickHouse/commit/17b8e209221061325ad7ba0539f03c6e65f87f29" rel="external nofollow noreferrer" target="_blank">17b8e209</a></li>
<li>Fixed type conversion between <code class="syntax">Date</code> and <code class="syntax">DateTime</code> when inserting data in the <code class="syntax">VALUES</code> format (if <code class="syntax">input_format_values_interpret_expressions = 1</code>). Previously, the conversion was performed between the numerical value of the number of days in Unix Epoch time and the Unix timestamp, which led to unexpected results. <a href="https://github.com/ClickHouse/ClickHouse/pull/3229" rel="external nofollow noreferrer" target="_blank">#3229</a></li>
<li>Corrected type conversion between <code class="syntax">Decimal</code> and integer numbers. <a href="https://github.com/ClickHouse/ClickHouse/pull/3211" rel="external nofollow noreferrer" target="_blank">#3211</a></li>
<li>Fixed errors in the <code class="syntax">enable_optimize_predicate_expression</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3231" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed a parsing error in CSV format with floating-point numbers if a non-default CSV separator is used, such as <code class="syntax">;</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/3155" rel="external nofollow noreferrer" target="_blank">#3155</a></li>
<li>Fixed the <code class="syntax">arrayCumSumNonNegative</code> function (it does not accumulate negative values if the accumulator is less than zero). <a href="https://github.com/ClickHouse/ClickHouse/pull/3163" rel="external nofollow noreferrer" target="_blank">Aleksey Studnev</a></li>
<li>Fixed how <code class="syntax">Merge</code> tables work on top of <code class="syntax">Distributed</code> tables when using <code class="syntax">PREWHERE</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3165" rel="external nofollow noreferrer" target="_blank">#3165</a></li>
<li>Bug fixes in the <code class="syntax">ALTER UPDATE</code> query.</li>
<li>Fixed bugs in the <code class="syntax">odbc</code> table function that appeared in version 18.12. <a href="https://github.com/ClickHouse/ClickHouse/pull/3197" rel="external nofollow noreferrer" target="_blank">#3197</a></li>
<li>Fixed the operation of aggregate functions with <code class="syntax">StateArray</code> combinators. <a href="https://github.com/ClickHouse/ClickHouse/pull/3188" rel="external nofollow noreferrer" target="_blank">#3188</a></li>
<li>Fixed a crash when dividing a <code class="syntax">Decimal</code> value by zero. <a href="https://github.com/ClickHouse/ClickHouse/commit/69dd6609193beb4e7acd3e6ad216eca0ccfb8179" rel="external nofollow noreferrer" target="_blank">69dd6609</a></li>
<li>Fixed output of types for operations using <code class="syntax">Decimal</code> and integer arguments. <a href="https://github.com/ClickHouse/ClickHouse/pull/3224" rel="external nofollow noreferrer" target="_blank">#3224</a></li>
<li>Fixed the segfault during <code class="syntax">GROUP BY</code> on <code class="syntax">Decimal128</code>. <a href="https://github.com/ClickHouse/ClickHouse/commit/3359ba06c39fcd05bfdb87d6c64154819621e13a" rel="external nofollow noreferrer" target="_blank">3359ba06</a></li>
<li>The <code class="syntax">log_query_threads</code> setting (logging information about each thread of query execution) now takes effect only if the <code class="syntax">log_queries</code> option (logging information about queries) is set to 1. Since the <code class="syntax">log_query_threads</code> option is enabled by default, information about threads was previously logged even if query logging was disabled. <a href="https://github.com/ClickHouse/ClickHouse/pull/3241" rel="external nofollow noreferrer" target="_blank">#3241</a></li>
<li>Fixed an error in the distributed operation of the quantiles aggregate function (the error message <code class="syntax">Not found column quantile...</code>). <a href="https://github.com/ClickHouse/ClickHouse/commit/292a885533b8e3b41ce8993867069d14cbd5a664" rel="external nofollow noreferrer" target="_blank">292a8855</a></li>
<li>Fixed the compatibility problem when working on a cluster of version 18.12.17 servers and older servers at the same time. For distributed queries with GROUP BY keys of both fixed and non-fixed length, if there was a large amount of data to aggregate, the returned data was not always fully aggregated (two different rows contained the same aggregation keys). <a href="https://github.com/ClickHouse/ClickHouse/pull/3254" rel="external nofollow noreferrer" target="_blank">#3254</a></li>
<li>Fixed handling of substitutions in <code class="syntax">clickhouse-performance-test</code>, if the query contains only part of the substitutions declared in the test. <a href="https://github.com/ClickHouse/ClickHouse/pull/3263" rel="external nofollow noreferrer" target="_blank">#3263</a></li>
<li>Fixed an error when using <code class="syntax">FINAL</code> with <code class="syntax">PREWHERE</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3298" rel="external nofollow noreferrer" target="_blank">#3298</a></li>
<li>Fixed an error when using <code class="syntax">PREWHERE</code> over columns that were added during <code class="syntax">ALTER</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3298" rel="external nofollow noreferrer" target="_blank">#3298</a></li>
<li>Added a check for the absence of <code class="syntax">arrayJoin</code> for <code class="syntax">DEFAULT</code> and <code class="syntax">MATERIALIZED</code> expressions. Previously, <code class="syntax">arrayJoin</code> led to an error when inserting data. <a href="https://github.com/ClickHouse/ClickHouse/pull/3337" rel="external nofollow noreferrer" target="_blank">#3337</a></li>
<li>Added a check for the absence of <code class="syntax">arrayJoin</code> in a <code class="syntax">PREWHERE</code> clause. Previously, this led to messages like <code class="syntax">Size ... does not match</code> or <code class="syntax">Unknown compression method</code> when executing queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3357" rel="external nofollow noreferrer" target="_blank">#3357</a></li>
<li>Fixed segfault that could occur in rare cases after optimization that replaced AND chains from equality evaluations with the corresponding IN expression. <a href="https://github.com/ClickHouse/ClickHouse/pull/3339" rel="external nofollow noreferrer" target="_blank">liuyimin-bytedance</a></li>
<li>Minor corrections to <code class="syntax">clickhouse-benchmark</code>: previously, client information was not sent to the server; now the number of queries executed is calculated more accurately when shutting down and for limiting the number of iterations. <a href="https://github.com/ClickHouse/ClickHouse/pull/3351" rel="external nofollow noreferrer" target="_blank">#3351</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3352" rel="external nofollow noreferrer" target="_blank">#3352</a></li>
</ul>
<h4 id="backward-incompatible-changes-1">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-1" title="Permanent link"> </a></h4>
<ul>
<li>Removed the <code class="syntax">allow_experimental_decimal_type</code> option. The <code class="syntax">Decimal</code> data type is available for default use. <a href="https://github.com/ClickHouse/ClickHouse/pull/3329" rel="external nofollow noreferrer" target="_blank">#3329</a></li>
</ul>
<h2 id="clickhouse-release-18-12">ClickHouse Release 18.12<a class="headerlink" href="#clickhouse-release-18-12" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-12-17-2018-09-16">ClickHouse Release 18.12.17, 2018-09-16<a class="headerlink" href="#clickhouse-release-18-12-17-2018-09-16" title="Permanent link"> </a></h3>
<h4 id="new-features-2">New Features:<a class="headerlink" href="#new-features-2" title="Permanent link"> </a></h4>
<ul>
<li><code class="syntax">invalidate_query</code> (the ability to specify a query to check whether an external dictionary needs to be updated) is implemented for the <code class="syntax">clickhouse</code> source. <a href="https://github.com/ClickHouse/ClickHouse/pull/3126" rel="external nofollow noreferrer" target="_blank">#3126</a></li>
<li>Added the ability to use <code class="syntax">UInt*</code>, <code class="syntax">Int*</code>, and <code class="syntax">DateTime</code> data types (along with the <code class="syntax">Date</code> type) as a <code class="syntax">range_hashed</code> external dictionary key that defines the boundaries of ranges. Now <code class="syntax">NULL</code> can be used to designate an open range. <a href="https://github.com/ClickHouse/ClickHouse/pull/3123" rel="external nofollow noreferrer" target="_blank">Vasily Nemkov</a></li>
<li>The <code class="syntax">Decimal</code> type now supports <code class="syntax">var*</code> and <code class="syntax">stddev*</code> aggregate functions. <a href="https://github.com/ClickHouse/ClickHouse/pull/3129" rel="external nofollow noreferrer" target="_blank">#3129</a></li>
<li>The <code class="syntax">Decimal</code> type now supports mathematical functions (<code class="syntax">exp</code>, <code class="syntax">sin</code> and so on.) <a href="https://github.com/ClickHouse/ClickHouse/pull/3129" rel="external nofollow noreferrer" target="_blank">#3129</a></li>
<li>The <code class="syntax">system.part_log</code> table now has the <code class="syntax">partition_id</code> column. <a href="https://github.com/ClickHouse/ClickHouse/pull/3089" rel="external nofollow noreferrer" target="_blank">#3089</a></li>
</ul>
<h4 id="bug-fixes-11">Bug Fixes:<a class="headerlink" href="#bug-fixes-11" title="Permanent link"> </a></h4>
<ul>
<li><code class="syntax">Merge</code> now works correctly on <code class="syntax">Distributed</code> tables. <a href="https://github.com/ClickHouse/ClickHouse/pull/3159" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed incompatibility (unnecessary dependency on the <code class="syntax">glibc</code> version) that made it impossible to run ClickHouse on <code class="syntax">Ubuntu Precise</code> and older versions. The incompatibility arose in version 18.12.13. <a href="https://github.com/ClickHouse/ClickHouse/pull/3130" rel="external nofollow noreferrer" target="_blank">#3130</a></li>
<li>Fixed errors in the <code class="syntax">enable_optimize_predicate_expression</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3107" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed a minor issue with backwards compatibility that appeared when working with a cluster of replicas on versions earlier than 18.12.13 and simultaneously creating a new replica of a table on a server with a newer version (shown in the message <code class="syntax">Can not clone replica, because the ... updated to new ClickHouse version</code>, which is logical, but shouldn’t happen). <a href="https://github.com/ClickHouse/ClickHouse/pull/3122" rel="external nofollow noreferrer" target="_blank">#3122</a></li>
</ul>
<h4 id="backward-incompatible-changes-2">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-2" title="Permanent link"> </a></h4>
<ul>
<li>The <code class="syntax">enable_optimize_predicate_expression</code> option is enabled by default (which is rather optimistic). If query analysis errors occur that are related to searching for the column names, set <code class="syntax">enable_optimize_predicate_expression</code> to 0. <a href="https://github.com/ClickHouse/ClickHouse/pull/3107" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
</ul>
<h3 id="clickhouse-release-18-12-14-2018-09-13">ClickHouse Release 18.12.14, 2018-09-13<a class="headerlink" href="#clickhouse-release-18-12-14-2018-09-13" title="Permanent link"> </a></h3>
<h4 id="new-features-3">New Features:<a class="headerlink" href="#new-features-3" title="Permanent link"> </a></h4>
<ul>
<li>Added support for <code class="syntax">ALTER UPDATE</code> queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3035" rel="external nofollow noreferrer" target="_blank">#3035</a></li>
<li>Added the <code class="syntax">allow_ddl</code> option, which restricts the user’s access to DDL queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3104" rel="external nofollow noreferrer" target="_blank">#3104</a></li>
<li>Added the <code class="syntax">min_merge_bytes_to_use_direct_io</code> option for <code class="syntax">MergeTree</code> engines, which allows you to set a threshold for the total size of the merge (when above the threshold, data part files will be handled using O_DIRECT). <a href="https://github.com/ClickHouse/ClickHouse/pull/3117" rel="external nofollow noreferrer" target="_blank">#3117</a></li>
<li>The <code class="syntax">system.merges</code> system table now contains the <code class="syntax">partition_id</code> column. <a href="https://github.com/ClickHouse/ClickHouse/pull/3099" rel="external nofollow noreferrer" target="_blank">#3099</a></li>
</ul>
<h4 id="improvements-3">Improvements<a class="headerlink" href="#improvements-3" title="Permanent link"> </a></h4>
<ul>
<li>If a data part remains unchanged during mutation, it isn’t downloaded by replicas. <a href="https://github.com/ClickHouse/ClickHouse/pull/3103" rel="external nofollow noreferrer" target="_blank">#3103</a></li>
<li>Autocomplete is available for names of settings when working with <code class="syntax">clickhouse-client</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3106" rel="external nofollow noreferrer" target="_blank">#3106</a></li>
</ul>
<h4 id="bug-fixes-12">Bug Fixes:<a class="headerlink" href="#bug-fixes-12" title="Permanent link"> </a></h4>
<ul>
<li>Added a check for the sizes of arrays that are elements of <code class="syntax">Nested</code> type fields when inserting. <a href="https://github.com/ClickHouse/ClickHouse/pull/3118" rel="external nofollow noreferrer" target="_blank">#3118</a></li>
<li>Fixed an error updating external dictionaries with the <code class="syntax">ODBC</code> source and <code class="syntax">hashed</code> storage. This error occurred in version 18.12.13.</li>
<li>Fixed a crash when creating a temporary table from a query with an <code class="syntax">IN</code> condition. <a href="https://github.com/ClickHouse/ClickHouse/pull/3098" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed an error in aggregate functions for arrays that can have <code class="syntax">NULL</code> elements. <a href="https://github.com/ClickHouse/ClickHouse/pull/3097" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
</ul>
<h3 id="clickhouse-release-18-12-13-2018-09-10">ClickHouse Release 18.12.13, 2018-09-10<a class="headerlink" href="#clickhouse-release-18-12-13-2018-09-10" title="Permanent link"> </a></h3>
<h4 id="new-features-4">New Features:<a class="headerlink" href="#new-features-4" title="Permanent link"> </a></h4>
<ul>
<li>Added the <code class="syntax">DECIMAL(digits, scale)</code> data type (<code class="syntax">Decimal32(scale)</code>, <code class="syntax">Decimal64(scale)</code>, <code class="syntax">Decimal128(scale)</code>). To enable it, use the setting <code class="syntax">allow_experimental_decimal_type</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2846" rel="external nofollow noreferrer" target="_blank">#2846</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2970" rel="external nofollow noreferrer" target="_blank">#2970</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3008" rel="external nofollow noreferrer" target="_blank">#3008</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3047" rel="external nofollow noreferrer" target="_blank">#3047</a></li>
<li>New <code class="syntax">WITH ROLLUP</code> modifier for <code class="syntax">GROUP BY</code> (alternative syntax: <code class="syntax">GROUP BY ROLLUP(...)</code>). <a href="https://github.com/ClickHouse/ClickHouse/pull/2948" rel="external nofollow noreferrer" target="_blank">#2948</a></li>
<li>In queries with JOIN, the star character expands to a list of columns in all tables, in compliance with the SQL standard. You can restore the old behavior by setting <code class="syntax">asterisk_left_columns_only</code> to 1 on the user configuration level. <a href="https://github.com/ClickHouse/ClickHouse/pull/2787" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Added support for JOIN with table functions. <a href="https://github.com/ClickHouse/ClickHouse/pull/2907" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Autocomplete by pressing Tab in clickhouse-client. <a href="https://github.com/ClickHouse/ClickHouse/pull/2447" rel="external nofollow noreferrer" target="_blank">Sergey Shcherbin</a></li>
<li>Ctrl+C in clickhouse-client clears a query that was entered. <a href="https://github.com/ClickHouse/ClickHouse/pull/2877" rel="external nofollow noreferrer" target="_blank">#2877</a></li>
<li>Added the <code class="syntax">join_default_strictness</code> setting (values: <code class="syntax">"</code>, <code class="syntax">'any'</code>, <code class="syntax">'all'</code>). This allows you to not specify <code class="syntax">ANY</code> or <code class="syntax">ALL</code> for <code class="syntax">JOIN</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2982" rel="external nofollow noreferrer" target="_blank">#2982</a></li>
<li>Each line of the server log related to query processing shows the query ID. <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>Now you can get query execution logs in clickhouse-client (use the <code class="syntax">send_logs_level</code> setting). With distributed query processing, logs are cascaded from all the servers. <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>The <code class="syntax">system.query_log</code> and <code class="syntax">system.processes</code> (<code class="syntax">SHOW PROCESSLIST</code>) tables now have information about all changed settings when you run a query (the nested structure of the <code class="syntax">Settings</code> data). Added the <code class="syntax">log_query_settings</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>The <code class="syntax">system.query_log</code> and <code class="syntax">system.processes</code> tables now show information about the number of threads that are participating in query execution (see the <code class="syntax">thread_numbers</code> column). <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>Added <code class="syntax">ProfileEvents</code> counters that measure the time spent on reading and writing over the network and reading and writing to disk, the number of network errors, and the time spent waiting when network bandwidth is limited. <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>Added <code class="syntax">ProfileEvents</code>counters that contain the system metrics from rusage (you can use them to get information about CPU usage in userspace and the kernel, page faults, and context switches), as well as taskstats metrics (use these to obtain information about I/O wait time, CPU wait time, and the amount of data read and recorded, both with and without page cache). <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>The <code class="syntax">ProfileEvents</code> counters are applied globally and for each query, as well as for each query execution thread, which allows you to profile resource consumption by query in detail. <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>Added the <code class="syntax">system.query_thread_log</code> table, which contains information about each query execution thread. Added the <code class="syntax">log_query_threads</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/2482" rel="external nofollow noreferrer" target="_blank">#2482</a></li>
<li>The <code class="syntax">system.metrics</code> and <code class="syntax">system.events</code> tables now have built-in documentation. <a href="https://github.com/ClickHouse/ClickHouse/pull/3016" rel="external nofollow noreferrer" target="_blank">#3016</a></li>
<li>Added the <code class="syntax">arrayEnumerateDense</code> function. <a href="https://github.com/ClickHouse/ClickHouse/pull/2975" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Added the <code class="syntax">arrayCumSumNonNegative</code> and <code class="syntax">arrayDifference</code> functions. <a href="https://github.com/ClickHouse/ClickHouse/pull/2942" rel="external nofollow noreferrer" target="_blank">Aleksey Studnev</a></li>
<li>Added the <code class="syntax">retention</code> aggregate function. <a href="https://github.com/ClickHouse/ClickHouse/pull/2887" rel="external nofollow noreferrer" target="_blank">Sundy Li</a></li>
<li>Now you can add (merge) states of aggregate functions by using the plus operator, and multiply the states of aggregate functions by a nonnegative constant. <a href="https://github.com/ClickHouse/ClickHouse/pull/3062" rel="external nofollow noreferrer" target="_blank">#3062</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3034" rel="external nofollow noreferrer" target="_blank">#3034</a></li>
<li>Tables in the MergeTree family now have the virtual column <code class="syntax">_partition_id</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3089" rel="external nofollow noreferrer" target="_blank">#3089</a></li>
</ul>
<h4 id="experimental-features-1">Experimental Features:<a class="headerlink" href="#experimental-features-1" title="Permanent link"> </a></h4>
<ul>
<li>Added the <code class="syntax">LowCardinality(T)</code> data type. This data type automatically creates a local dictionary of values and allows data processing without unpacking the dictionary. <a href="https://github.com/ClickHouse/ClickHouse/pull/2830" rel="external nofollow noreferrer" target="_blank">#2830</a></li>
<li>Added a cache of JIT-compiled functions and a counter for the number of uses before compiling. To JIT compile expressions, enable the <code class="syntax">compile_expressions</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/2990" rel="external nofollow noreferrer" target="_blank">#2990</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3077" rel="external nofollow noreferrer" target="_blank">#3077</a></li>
</ul>
<h4 id="improvements-4">Improvements:<a class="headerlink" href="#improvements-4" title="Permanent link"> </a></h4>
<ul>
<li>Fixed the problem with unlimited accumulation of the replication log when there are abandoned replicas. Added an effective recovery mode for replicas with a long lag.</li>
<li>Improved performance of <code class="syntax">GROUP BY</code> with multiple aggregation fields when one of them is string and the others are fixed length.</li>
<li>Improved performance when using <code class="syntax">PREWHERE</code> and with implicit transfer of expressions in <code class="syntax">PREWHERE</code>.</li>
<li>Improved parsing performance for text formats (<code class="syntax">CSV</code>, <code class="syntax">TSV</code>). <a href="https://github.com/ClickHouse/ClickHouse/pull/2977" rel="external nofollow noreferrer" target="_blank">Amos Bird</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2980" rel="external nofollow noreferrer" target="_blank">#2980</a></li>
<li>Improved performance of reading strings and arrays in binary formats. <a href="https://github.com/ClickHouse/ClickHouse/pull/2955" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Increased performance and reduced memory consumption for queries to <code class="syntax">system.tables</code> and <code class="syntax">system.columns</code> when there is a very large number of tables on a single server. <a href="https://github.com/ClickHouse/ClickHouse/pull/2953" rel="external nofollow noreferrer" target="_blank">#2953</a></li>
<li>Fixed a performance problem in the case of a large stream of queries that result in an error (the <code class="syntax">_dl_addr</code> function is visible in <code class="syntax">perf top</code>, but the server isn’t using much CPU). <a href="https://github.com/ClickHouse/ClickHouse/pull/2938" rel="external nofollow noreferrer" target="_blank">#2938</a></li>
<li>Conditions are cast into the View (when <code class="syntax">enable_optimize_predicate_expression</code> is enabled). <a href="https://github.com/ClickHouse/ClickHouse/pull/2907" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Improvements to the functionality for the <code class="syntax">UUID</code> data type. <a href="https://github.com/ClickHouse/ClickHouse/pull/3074" rel="external nofollow noreferrer" target="_blank">#3074</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2985" rel="external nofollow noreferrer" target="_blank">#2985</a></li>
<li>The <code class="syntax">UUID</code> data type is supported in The-Alchemist dictionaries. <a href="https://github.com/ClickHouse/ClickHouse/pull/2822" rel="external nofollow noreferrer" target="_blank">#2822</a></li>
<li>The <code class="syntax">visitParamExtractRaw</code> function works correctly with nested structures. <a href="https://github.com/ClickHouse/ClickHouse/pull/2974" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>When the <code class="syntax">input_format_skip_unknown_fields</code> setting is enabled, object fields in <code class="syntax">JSONEachRow</code> format are skipped correctly. <a href="https://github.com/ClickHouse/ClickHouse/pull/2958" rel="external nofollow noreferrer" target="_blank">BlahGeek</a></li>
<li>For a <code class="syntax">CASE</code> expression with conditions, you can now omit <code class="syntax">ELSE</code>, which is equivalent to <code class="syntax">ELSE NULL</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2920" rel="external nofollow noreferrer" target="_blank">#2920</a></li>
<li>The operation timeout can now be configured when working with ZooKeeper. <a href="https://github.com/ClickHouse/ClickHouse/pull/2971" rel="external nofollow noreferrer" target="_blank">urykhy</a></li>
<li>You can specify an offset for <code class="syntax">LIMIT n, m</code> as <code class="syntax">LIMIT n OFFSET m</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2840" rel="external nofollow noreferrer" target="_blank">#2840</a></li>
<li>You can use the <code class="syntax">SELECT TOP n</code> syntax as an alternative for <code class="syntax">LIMIT</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2840" rel="external nofollow noreferrer" target="_blank">#2840</a></li>
<li>Increased the size of the queue to write to system tables, so the <code class="syntax">SystemLog parameter queue is full</code> error does not happen as often.</li>
<li>The <code class="syntax">windowFunnel</code> aggregate function now supports events that meet multiple conditions. <a href="https://github.com/ClickHouse/ClickHouse/pull/2801" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Duplicate columns can be used in a <code class="syntax">USING</code> clause for <code class="syntax">JOIN</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3006" rel="external nofollow noreferrer" target="_blank">#3006</a></li>
<li><code class="syntax">Pretty</code> formats now have a limit on column alignment by width. Use the <code class="syntax">output_format_pretty_max_column_pad_width</code> setting. If a value is wider, it will still be displayed in its entirety, but the other cells in the table will not be too wide. <a href="https://github.com/ClickHouse/ClickHouse/pull/3003" rel="external nofollow noreferrer" target="_blank">#3003</a></li>
<li>The <code class="syntax">odbc</code> table function now allows you to specify the database/schema name. <a href="https://github.com/ClickHouse/ClickHouse/pull/2885" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Added the ability to use a username specified in the <code class="syntax">clickhouse-client</code> config file. <a href="https://github.com/ClickHouse/ClickHouse/pull/2909" rel="external nofollow noreferrer" target="_blank">Vladimir Kozbin</a></li>
<li>The <code class="syntax">ZooKeeperExceptions</code> counter has been split into three counters: <code class="syntax">ZooKeeperUserExceptions</code>, <code class="syntax">ZooKeeperHardwareExceptions</code>, and <code class="syntax">ZooKeeperOtherExceptions</code>.</li>
<li><code class="syntax">ALTER DELETE</code> queries work for materialized views.</li>
<li>Added randomization when running the cleanup thread periodically for <code class="syntax">ReplicatedMergeTree</code> tables in order to avoid periodic load spikes when there are a very large number of <code class="syntax">ReplicatedMergeTree</code> tables.</li>
<li>Support for <code class="syntax">ATTACH TABLE ... ON CLUSTER</code> queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/3025" rel="external nofollow noreferrer" target="_blank">#3025</a></li>
</ul>
<h4 id="bug-fixes-13">Bug Fixes:<a class="headerlink" href="#bug-fixes-13" title="Permanent link"> </a></h4>
<ul>
<li>Fixed an issue with <code class="syntax">Dictionary</code> tables (throws the <code class="syntax">Size of offsets does not match size of column</code> or <code class="syntax">Unknown compression method</code> exception). This bug appeared in version 18.10.3. <a href="https://github.com/ClickHouse/ClickHouse/issues/2913" rel="external nofollow noreferrer" target="_blank">#2913</a></li>
<li>Fixed a bug when merging <code class="syntax">CollapsingMergeTree</code> tables if one of the data parts is empty (these parts are formed during merge or <code class="syntax">ALTER DELETE</code> if all data was deleted), and the <code class="syntax">vertical</code> algorithm was used for the merge. <a href="https://github.com/ClickHouse/ClickHouse/pull/3049" rel="external nofollow noreferrer" target="_blank">#3049</a></li>
<li>Fixed a race condition during <code class="syntax">DROP</code> or <code class="syntax">TRUNCATE</code> for <code class="syntax">Memory</code> tables with a simultaneous <code class="syntax">SELECT</code>, which could lead to server crashes. This bug appeared in version 1.1.54388. <a href="https://github.com/ClickHouse/ClickHouse/pull/3038" rel="external nofollow noreferrer" target="_blank">#3038</a></li>
<li>Fixed the possibility of data loss when inserting in <code class="syntax">Replicated</code> tables if the <code class="syntax">Session is expired</code> error is returned (data loss can be detected by the <code class="syntax">ReplicatedDataLoss</code> metric). This error occurred in version 1.1.54378. <a href="https://github.com/ClickHouse/ClickHouse/pull/2939" rel="external nofollow noreferrer" target="_blank">#2939</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2949" rel="external nofollow noreferrer" target="_blank">#2949</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2964" rel="external nofollow noreferrer" target="_blank">#2964</a></li>
<li>Fixed a segfault during <code class="syntax">JOIN ... ON</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/3000" rel="external nofollow noreferrer" target="_blank">#3000</a></li>
<li>Fixed the error searching column names when the <code class="syntax">WHERE</code> expression consists entirely of a qualified column name, such as <code class="syntax">WHERE table.column</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2994" rel="external nofollow noreferrer" target="_blank">#2994</a></li>
<li>Fixed the “Not found column” error that occurred when executing distributed queries if a single column consisting of an IN expression with a subquery is requested from a remote server. <a href="https://github.com/ClickHouse/ClickHouse/pull/3087" rel="external nofollow noreferrer" target="_blank">#3087</a></li>
<li>Fixed the <code class="syntax">Block structure mismatch in UNION stream: different number of columns</code> error that occurred for distributed queries if one of the shards is local and the other is not, and optimization of the move to <code class="syntax">PREWHERE</code> is triggered. <a href="https://github.com/ClickHouse/ClickHouse/pull/2226" rel="external nofollow noreferrer" target="_blank">#2226</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3037" rel="external nofollow noreferrer" target="_blank">#3037</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3055" rel="external nofollow noreferrer" target="_blank">#3055</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3065" rel="external nofollow noreferrer" target="_blank">#3065</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3073" rel="external nofollow noreferrer" target="_blank">#3073</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3090" rel="external nofollow noreferrer" target="_blank">#3090</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/3093" rel="external nofollow noreferrer" target="_blank">#3093</a></li>
<li>Fixed the <code class="syntax">pointInPolygon</code> function for certain cases of non-convex polygons. <a href="https://github.com/ClickHouse/ClickHouse/pull/2910" rel="external nofollow noreferrer" target="_blank">#2910</a></li>
<li>Fixed the incorrect result when comparing <code class="syntax">nan</code> with integers. <a href="https://github.com/ClickHouse/ClickHouse/pull/3024" rel="external nofollow noreferrer" target="_blank">#3024</a></li>
<li>Fixed an error in the <code class="syntax">zlib-ng</code> library that could lead to segfault in rare cases. <a href="https://github.com/ClickHouse/ClickHouse/pull/2854" rel="external nofollow noreferrer" target="_blank">#2854</a></li>
<li>Fixed a memory leak when inserting into a table with <code class="syntax">AggregateFunction</code> columns, if the state of the aggregate function is not simple (allocates memory separately), and if a single insertion request results in multiple small blocks. <a href="https://github.com/ClickHouse/ClickHouse/pull/3084" rel="external nofollow noreferrer" target="_blank">#3084</a></li>
<li>Fixed a race condition when creating and deleting the same <code class="syntax">Buffer</code> or <code class="syntax">MergeTree</code> table simultaneously.</li>
<li>Fixed the possibility of a segfault when comparing tuples made up of certain non-trivial types, such as tuples. <a href="https://github.com/ClickHouse/ClickHouse/pull/2989" rel="external nofollow noreferrer" target="_blank">#2989</a></li>
<li>Fixed the possibility of a segfault when running certain <code class="syntax">ON CLUSTER</code> queries. <a href="https://github.com/ClickHouse/ClickHouse/pull/2960" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed an error in the <code class="syntax">arrayDistinct</code> function for <code class="syntax">Nullable</code> array elements. <a href="https://github.com/ClickHouse/ClickHouse/pull/2845" rel="external nofollow noreferrer" target="_blank">#2845</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2937" rel="external nofollow noreferrer" target="_blank">#2937</a></li>
<li>The <code class="syntax">enable_optimize_predicate_expression</code> option now correctly supports cases with <code class="syntax">SELECT *</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2929" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed the segfault when re-initializing the ZooKeeper session. <a href="https://github.com/ClickHouse/ClickHouse/pull/2917" rel="external nofollow noreferrer" target="_blank">#2917</a></li>
<li>Fixed potential blocking when working with ZooKeeper.</li>
<li>Fixed incorrect code for adding nested data structures in a <code class="syntax">SummingMergeTree</code>.</li>
<li>When allocating memory for states of aggregate functions, alignment is correctly taken into account, which makes it possible to use operations that require alignment when implementing states of aggregate functions. <a href="https://github.com/ClickHouse/ClickHouse/pull/2808" rel="external nofollow noreferrer" target="_blank">chenxing-xc</a></li>
</ul>
<h4 id="security-fix">Security Fix:<a class="headerlink" href="#security-fix" title="Permanent link"> </a></h4>
<ul>
<li>Safe use of ODBC data sources. Interaction with ODBC drivers uses a separate <code class="syntax">clickhouse-odbc-bridge</code> process. Errors in third-party ODBC drivers no longer cause problems with server stability or vulnerabilities. <a href="https://github.com/ClickHouse/ClickHouse/pull/2828" rel="external nofollow noreferrer" target="_blank">#2828</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2879" rel="external nofollow noreferrer" target="_blank">#2879</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2886" rel="external nofollow noreferrer" target="_blank">#2886</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2893" rel="external nofollow noreferrer" target="_blank">#2893</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2921" rel="external nofollow noreferrer" target="_blank">#2921</a></li>
<li>Fixed incorrect validation of the file path in the <code class="syntax">catBoostPool</code> table function. <a href="https://github.com/ClickHouse/ClickHouse/pull/2894" rel="external nofollow noreferrer" target="_blank">#2894</a></li>
<li>The contents of system tables (<code class="syntax">tables</code>, <code class="syntax">databases</code>, <code class="syntax">parts</code>, <code class="syntax">columns</code>, <code class="syntax">parts_columns</code>, <code class="syntax">merges</code>, <code class="syntax">mutations</code>, <code class="syntax">replicas</code>, and <code class="syntax">replication_queue</code>) are filtered according to the user’s configured access to databases (<code class="syntax">allow_databases</code>). <a href="https://github.com/ClickHouse/ClickHouse/pull/2856" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
</ul>
<h4 id="backward-incompatible-changes-3">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-3" title="Permanent link"> </a></h4>
<ul>
<li>In queries with JOIN, the star character expands to a list of columns in all tables, in compliance with the SQL standard. You can restore the old behavior by setting <code class="syntax">asterisk_left_columns_only</code> to 1 on the user configuration level.</li>
</ul>
<h4 id="build-changes-2">Build Changes:<a class="headerlink" href="#build-changes-2" title="Permanent link"> </a></h4>
<ul>
<li>Most integration tests can now be run by commit.</li>
<li>Code style checks can also be run by commit.</li>
<li>The <code class="syntax">memcpy</code> implementation is chosen correctly when building on CentOS7/Fedora. <a href="https://github.com/ClickHouse/ClickHouse/pull/2912" rel="external nofollow noreferrer" target="_blank">Etienne Champetier</a></li>
<li>When using clang to build, some warnings from <code class="syntax">-Weverything</code> have been added, in addition to the regular <code class="syntax">-Wall-Wextra -Werror</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2957" rel="external nofollow noreferrer" target="_blank">#2957</a></li>
<li>Debugging the build uses the <code class="syntax">jemalloc</code> debug option.</li>
<li>The interface of the library for interacting with ZooKeeper is declared abstract. <a href="https://github.com/ClickHouse/ClickHouse/pull/2950" rel="external nofollow noreferrer" target="_blank">#2950</a></li>
</ul>
<h2 id="clickhouse-release-18-10">ClickHouse Release 18.10<a class="headerlink" href="#clickhouse-release-18-10" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-10-3-2018-08-13">ClickHouse Release 18.10.3, 2018-08-13<a class="headerlink" href="#clickhouse-release-18-10-3-2018-08-13" title="Permanent link"> </a></h3>
<h4 id="new-features-5">New Features:<a class="headerlink" href="#new-features-5" title="Permanent link"> </a></h4>
<ul>
<li>HTTPS can be used for replication. <a href="https://github.com/ClickHouse/ClickHouse/pull/2760" rel="external nofollow noreferrer" target="_blank">#2760</a></li>
<li>Added the functions <code class="syntax">murmurHash2_64</code>, <code class="syntax">murmurHash3_32</code>, <code class="syntax">murmurHash3_64</code>, and <code class="syntax">murmurHash3_128</code> in addition to the existing <code class="syntax">murmurHash2_32</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2791" rel="external nofollow noreferrer" target="_blank">#2791</a></li>
<li>Support for Nullable types in the ClickHouse ODBC driver (<code class="syntax">ODBCDriver2</code> output format). <a href="https://github.com/ClickHouse/ClickHouse/pull/2834" rel="external nofollow noreferrer" target="_blank">#2834</a></li>
<li>Support for <code class="syntax">UUID</code> in the key columns.</li>
</ul>
<h4 id="improvements-5">Improvements:<a class="headerlink" href="#improvements-5" title="Permanent link"> </a></h4>
<ul>
<li>Clusters can be removed without restarting the server when they are deleted from the config files. <a href="https://github.com/ClickHouse/ClickHouse/pull/2777" rel="external nofollow noreferrer" target="_blank">#2777</a></li>
<li>External dictionaries can be removed without restarting the server when they are removed from config files. <a href="https://github.com/ClickHouse/ClickHouse/pull/2779" rel="external nofollow noreferrer" target="_blank">#2779</a></li>
<li>Added <code class="syntax">SETTINGS</code> support for the <code class="syntax">Kafka</code> table engine. <a href="https://github.com/ClickHouse/ClickHouse/pull/2781" rel="external nofollow noreferrer" target="_blank">Alexander Marshalov</a></li>
<li>Improvements for the <code class="syntax">UUID</code> data type (not yet complete). <a href="https://github.com/ClickHouse/ClickHouse/pull/2618" rel="external nofollow noreferrer" target="_blank">#2618</a></li>
<li>Support for empty parts after merges in the <code class="syntax">SummingMergeTree</code>, <code class="syntax">CollapsingMergeTree</code> and <code class="syntax">VersionedCollapsingMergeTree</code> engines. <a href="https://github.com/ClickHouse/ClickHouse/pull/2815" rel="external nofollow noreferrer" target="_blank">#2815</a></li>
<li>Old records of completed mutations are deleted (<code class="syntax">ALTER DELETE</code>). <a href="https://github.com/ClickHouse/ClickHouse/pull/2784" rel="external nofollow noreferrer" target="_blank">#2784</a></li>
<li>Added the <code class="syntax">system.merge_tree_settings</code> table. <a href="https://github.com/ClickHouse/ClickHouse/pull/2841" rel="external nofollow noreferrer" target="_blank">Kirill Shvakov</a></li>
<li>The <code class="syntax">system.tables</code> table now has dependency columns: <code class="syntax">dependencies_database</code> and <code class="syntax">dependencies_table</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2851" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Added the <code class="syntax">max_partition_size_to_drop</code> config option. <a href="https://github.com/ClickHouse/ClickHouse/pull/2782" rel="external nofollow noreferrer" target="_blank">#2782</a></li>
<li>Added the <code class="syntax">output_format_json_escape_forward_slashes</code> option. <a href="https://github.com/ClickHouse/ClickHouse/pull/2812" rel="external nofollow noreferrer" target="_blank">Alexander Bocharov</a></li>
<li>Added the <code class="syntax">max_fetch_partition_retries_count</code> setting. <a href="https://github.com/ClickHouse/ClickHouse/pull/2831" rel="external nofollow noreferrer" target="_blank">#2831</a></li>
<li>Added the <code class="syntax">prefer_localhost_replica</code> setting for disabling the preference for a local replica and going to a local replica without inter-process interaction. <a href="https://github.com/ClickHouse/ClickHouse/pull/2832" rel="external nofollow noreferrer" target="_blank">#2832</a></li>
<li>The <code class="syntax">quantileExact</code> aggregate function returns <code class="syntax">nan</code> in the case of aggregation on an empty <code class="syntax">Float32</code> or <code class="syntax">Float64</code> set. <a href="https://github.com/ClickHouse/ClickHouse/pull/2855" rel="external nofollow noreferrer" target="_blank">Sundy Li</a></li>
</ul>
<h4 id="bug-fixes-14">Bug Fixes:<a class="headerlink" href="#bug-fixes-14" title="Permanent link"> </a></h4>
<ul>
<li>Removed unnecessary escaping of the connection string parameters for ODBC, which made it impossible to establish a connection. This error occurred in version 18.6.0.</li>
<li>Fixed the logic for processing <code class="syntax">REPLACE PARTITION</code> commands in the replication queue. If there are two <code class="syntax">REPLACE</code> commands for the same partition, the incorrect logic could cause one of them to remain in the replication queue and not be executed. <a href="https://github.com/ClickHouse/ClickHouse/pull/2814" rel="external nofollow noreferrer" target="_blank">#2814</a></li>
<li>Fixed a merge bug when all data parts were empty (parts that were formed from a merge or from <code class="syntax">ALTER DELETE</code> if all data was deleted). This bug appeared in version 18.1.0. <a href="https://github.com/ClickHouse/ClickHouse/pull/2930" rel="external nofollow noreferrer" target="_blank">#2930</a></li>
<li>Fixed an error for concurrent <code class="syntax">Set</code> or <code class="syntax">Join</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2823" rel="external nofollow noreferrer" target="_blank">Amos Bird</a></li>
<li>Fixed the <code class="syntax">Block structure mismatch in UNION stream: different number of columns</code> error that occurred for <code class="syntax">UNION ALL</code> queries inside a sub-query if one of the <code class="syntax">SELECT</code> queries contains duplicate column names. <a href="https://github.com/ClickHouse/ClickHouse/pull/2094" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a></li>
<li>Fixed a memory leak if an exception occurred when connecting to a MySQL server.</li>
<li>Fixed incorrect clickhouse-client response code in case of a query error.</li>
<li>Fixed incorrect behavior of materialized views containing DISTINCT. <a href="https://github.com/ClickHouse/ClickHouse/issues/2795" rel="external nofollow noreferrer" target="_blank">#2795</a></li>
</ul>
<h4 id="backward-incompatible-changes-4">Backward Incompatible Changes<a class="headerlink" href="#backward-incompatible-changes-4" title="Permanent link"> </a></h4>
<ul>
<li>Removed support for CHECK TABLE queries for Distributed tables.</li>
</ul>
<h4 id="build-changes-3">Build Changes:<a class="headerlink" href="#build-changes-3" title="Permanent link"> </a></h4>
<ul>
<li>The allocator has been replaced: <code class="syntax">jemalloc</code> is now used instead of <code class="syntax">tcmalloc</code>. In some scenarios, this increases speed up to 20%. However, there are queries that have slowed by up to 20%. Memory consumption has been reduced by approximately 10% in some scenarios, with improved stability. With highly competitive loads, CPU usage in userspace and in system shows just a slight increase. <a href="https://github.com/ClickHouse/ClickHouse/pull/2773" rel="external nofollow noreferrer" target="_blank">#2773</a></li>
<li>Use of libressl from a submodule. <a href="https://github.com/ClickHouse/ClickHouse/pull/1983" rel="external nofollow noreferrer" target="_blank">#1983</a> <a href="https://github.com/ClickHouse/ClickHouse/pull/2807" rel="external nofollow noreferrer" target="_blank">#2807</a></li>
<li>Use of unixodbc from a submodule. <a href="https://github.com/ClickHouse/ClickHouse/pull/2789" rel="external nofollow noreferrer" target="_blank">#2789</a></li>
<li>Use of mariadb-connector-c from a submodule. <a href="https://github.com/ClickHouse/ClickHouse/pull/2785" rel="external nofollow noreferrer" target="_blank">#2785</a></li>
<li>Added functional test files to the repository that depend on the availability of test data (for the time being, without the test data itself).</li>
</ul>
<h2 id="clickhouse-release-18-6">ClickHouse Release 18.6<a class="headerlink" href="#clickhouse-release-18-6" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-6-0-2018-08-02">ClickHouse Release 18.6.0, 2018-08-02<a class="headerlink" href="#clickhouse-release-18-6-0-2018-08-02" title="Permanent link"> </a></h3>
<h4 id="new-features-6">New Features:<a class="headerlink" href="#new-features-6" title="Permanent link"> </a></h4>
<ul>
<li>Added support for ON expressions for the JOIN ON syntax:<br/>
<code class="syntax">JOIN ON Expr([table.]column ...) = Expr([table.]column, ...) [AND Expr([table.]column, ...) = Expr([table.]column, ...) ...]</code><br/>
    The expression must be a chain of equalities joined by the AND operator. Each side of the equality can be an arbitrary expression over the columns of one of the tables. The use of fully qualified column names is supported (<code class="syntax">table.name</code>, <code class="syntax">database.table.name</code>, <code class="syntax">table_alias.name</code>, <code class="syntax">subquery_alias.name</code>) for the right table. <a href="https://github.com/ClickHouse/ClickHouse/pull/2742" rel="external nofollow noreferrer" target="_blank">#2742</a></li>
<li>HTTPS can be enabled for replication. <a href="https://github.com/ClickHouse/ClickHouse/pull/2760" rel="external nofollow noreferrer" target="_blank">#2760</a></li>
</ul>
<h4 id="improvements-6">Improvements:<a class="headerlink" href="#improvements-6" title="Permanent link"> </a></h4>
<ul>
<li>The server passes the patch component of its version to the client. Data about the patch version component is in <code class="syntax">system.processes</code> and <code class="syntax">query_log</code>. <a href="https://github.com/ClickHouse/ClickHouse/pull/2646" rel="external nofollow noreferrer" target="_blank">#2646</a></li>
</ul>
<h2 id="clickhouse-release-18-5">ClickHouse Release 18.5<a class="headerlink" href="#clickhouse-release-18-5" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-5-1-2018-07-31">ClickHouse Release 18.5.1, 2018-07-31<a class="headerlink" href="#clickhouse-release-18-5-1-2018-07-31" title="Permanent link"> </a></h3>
<h4 id="new-features-7">New Features:<a class="headerlink" href="#new-features-7" title="Permanent link"> </a></h4>
<ul>
<li>Added the hash function <code class="syntax">murmurHash2_32</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2756" rel="external nofollow noreferrer" target="_blank">#2756</a>.</li>
</ul>
<h4 id="improvements-7">Improvements:<a class="headerlink" href="#improvements-7" title="Permanent link"> </a></h4>
<ul>
<li>Now you can use the <code class="syntax">from_env</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2741" rel="external nofollow noreferrer" target="_blank">#2741</a> attribute to set values in config files from environment variables.</li>
<li>Added case-insensitive versions of the <code class="syntax">coalesce</code>, <code class="syntax">ifNull</code>, and <code class="syntax">nullIf functions</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2752" rel="external nofollow noreferrer" target="_blank">#2752</a>.</li>
</ul>
<h4 id="bug-fixes-15">Bug Fixes:<a class="headerlink" href="#bug-fixes-15" title="Permanent link"> </a></h4>
<ul>
<li>Fixed a possible bug when starting a replica <a href="https://github.com/ClickHouse/ClickHouse/pull/2759" rel="external nofollow noreferrer" target="_blank">#2759</a>.</li>
</ul>
<h2 id="clickhouse-release-18-4">ClickHouse Release 18.4<a class="headerlink" href="#clickhouse-release-18-4" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-4-0-2018-07-28">ClickHouse Release 18.4.0, 2018-07-28<a class="headerlink" href="#clickhouse-release-18-4-0-2018-07-28" title="Permanent link"> </a></h3>
<h4 id="new-features-8">New Features:<a class="headerlink" href="#new-features-8" title="Permanent link"> </a></h4>
<ul>
<li>Added system tables: <code class="syntax">formats</code>, <code class="syntax">data_type_families</code>, <code class="syntax">aggregate_function_combinators</code>, <code class="syntax">table_functions</code>, <code class="syntax">table_engines</code>, <code class="syntax">collations</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2721" rel="external nofollow noreferrer" target="_blank">#2721</a>.</li>
<li>Added the ability to use a table function instead of a table as an argument of a <code class="syntax">remote</code> or <code class="syntax">cluster table function</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2708" rel="external nofollow noreferrer" target="_blank">#2708</a>.</li>
<li>Support for <code class="syntax">HTTP Basic</code> authentication in the replication protocol <a href="https://github.com/ClickHouse/ClickHouse/pull/2727" rel="external nofollow noreferrer" target="_blank">#2727</a>.</li>
<li>The <code class="syntax">has</code> function now allows searching for a numeric value in an array of <code class="syntax">Enum</code> values <a href="https://github.com/ClickHouse/ClickHouse/pull/2699" rel="external nofollow noreferrer" target="_blank">Maxim Khrisanfov</a>.</li>
<li>Support for adding arbitrary message separators when reading from <code class="syntax">Kafka</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2701" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>.</li>
</ul>
<h4 id="improvements-8">Improvements:<a class="headerlink" href="#improvements-8" title="Permanent link"> </a></h4>
<ul>
<li>The <code class="syntax">ALTER TABLE t DELETE WHERE</code> query does not rewrite data parts that were not affected by the WHERE condition <a href="https://github.com/ClickHouse/ClickHouse/pull/2694" rel="external nofollow noreferrer" target="_blank">#2694</a>.</li>
<li>The <code class="syntax">use_minimalistic_checksums_in_zookeeper</code> option for <code class="syntax">ReplicatedMergeTree</code> tables is enabled by default. This setting was added in version 1.1.54378, 2018-04-16. Versions that are older than 1.1.54378 can no longer be installed.</li>
<li>Support for running <code class="syntax">KILL</code> and <code class="syntax">OPTIMIZE</code> queries that specify <code class="syntax">ON CLUSTER</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2689" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a>.</li>
</ul>
<h4 id="bug-fixes-16">Bug Fixes:<a class="headerlink" href="#bug-fixes-16" title="Permanent link"> </a></h4>
<ul>
<li>Fixed the error <code class="syntax">Column ... is not under an aggregate function and not in GROUP BY</code> for aggregation with an IN expression. This bug appeared in version 18.1.0. (<a href="https://github.com/ClickHouse/ClickHouse/commit/bbdd780be0be06a0f336775941cdd536878dd2c2" rel="external nofollow noreferrer" target="_blank">bbdd780b</a>)</li>
<li>Fixed a bug in the <code class="syntax">windowFunnel aggregate function</code> <a href="https://github.com/ClickHouse/ClickHouse/pull/2735" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a>.</li>
<li>Fixed a bug in the <code class="syntax">anyHeavy</code> aggregate function (<a href="https://github.com/ClickHouse/ClickHouse/commit/a2101df25a6a0fba99aa71f8793d762af2b801ee" rel="external nofollow noreferrer" target="_blank">a2101df2</a>)</li>
<li>Fixed server crash when using the <code class="syntax">countArray()</code> aggregate function.</li>
</ul>
<h4 id="backward-incompatible-changes-5">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-5" title="Permanent link"> </a></h4>
<ul>
<li>Parameters for <code class="syntax">Kafka</code> engine was changed from <code class="syntax">Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_schema, kafka_num_consumers])</code> to <code class="syntax">Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_row_delimiter, kafka_schema, kafka_num_consumers])</code>. If your tables use <code class="syntax">kafka_schema</code> or <code class="syntax">kafka_num_consumers</code> parameters, you have to manually edit the metadata files <code class="syntax">path/metadata/database/table.sql</code> and add <code class="syntax">kafka_row_delimiter</code> parameter with <code class="syntax">''</code> value.</li>
</ul>
<h2 id="clickhouse-release-18-1">ClickHouse Release 18.1<a class="headerlink" href="#clickhouse-release-18-1" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-18-1-0-2018-07-23">ClickHouse Release 18.1.0, 2018-07-23<a class="headerlink" href="#clickhouse-release-18-1-0-2018-07-23" title="Permanent link"> </a></h3>
<h4 id="new-features-9">New Features:<a class="headerlink" href="#new-features-9" title="Permanent link"> </a></h4>
<ul>
<li>Support for the <code class="syntax">ALTER TABLE t DELETE WHERE</code> query for non-replicated MergeTree tables (<a href="https://github.com/ClickHouse/ClickHouse/pull/2634" rel="external nofollow noreferrer" target="_blank">#2634</a>).</li>
<li>Support for arbitrary types for the <code class="syntax">uniq*</code> family of aggregate functions (<a href="https://github.com/ClickHouse/ClickHouse/issues/2010" rel="external nofollow noreferrer" target="_blank">#2010</a>).</li>
<li>Support for arbitrary types in comparison operators (<a href="https://github.com/ClickHouse/ClickHouse/issues/2026" rel="external nofollow noreferrer" target="_blank">#2026</a>).</li>
<li>The <code class="syntax">users.xml</code> file allows setting a subnet mask in the format <code class="syntax">10.0.0.1/255.255.255.0</code>. This is necessary for using masks for IPv6 networks with zeros in the middle (<a href="https://github.com/ClickHouse/ClickHouse/pull/2637" rel="external nofollow noreferrer" target="_blank">#2637</a>).</li>
<li>Added the <code class="syntax">arrayDistinct</code> function (<a href="https://github.com/ClickHouse/ClickHouse/pull/2670" rel="external nofollow noreferrer" target="_blank">#2670</a>).</li>
<li>The SummingMergeTree engine can now work with AggregateFunction type columns (<a href="https://github.com/ClickHouse/ClickHouse/pull/2566" rel="external nofollow noreferrer" target="_blank">Constantin S. Pan</a>).</li>
</ul>
<h4 id="improvements-9">Improvements:<a class="headerlink" href="#improvements-9" title="Permanent link"> </a></h4>
<ul>
<li>Changed the numbering scheme for release versions. Now the first part contains the year of release (A.D., Moscow timezone, minus 2000), the second part contains the number for major changes (increases for most releases), and the third part is the patch version. Releases are still backward compatible, unless otherwise stated in the changelog.</li>
<li>Faster conversions of floating-point numbers to a string (<a href="https://github.com/ClickHouse/ClickHouse/pull/2664" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>).</li>
<li>If some rows were skipped during an insert due to parsing errors (this is possible with the <code class="syntax">input_allow_errors_num</code> and <code class="syntax">input_allow_errors_ratio</code> settings enabled), the number of skipped rows is now written to the server log (<a href="https://github.com/ClickHouse/ClickHouse/pull/2669" rel="external nofollow noreferrer" target="_blank">Leonardo Cecchi</a>).</li>
</ul>
<h4 id="bug-fixes-17">Bug Fixes:<a class="headerlink" href="#bug-fixes-17" title="Permanent link"> </a></h4>
<ul>
<li>Fixed the TRUNCATE command for temporary tables (<a href="https://github.com/ClickHouse/ClickHouse/pull/2624" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>).</li>
<li>Fixed a rare deadlock in the ZooKeeper client library that occurred when there was a network error while reading the response (<a href="https://github.com/ClickHouse/ClickHouse/commit/c315200e64b87e44bdf740707fc857d1fdf7e947" rel="external nofollow noreferrer" target="_blank">c315200</a>).</li>
<li>Fixed an error during a CAST to Nullable types (<a href="https://github.com/ClickHouse/ClickHouse/issues/1322" rel="external nofollow noreferrer" target="_blank">#1322</a>).</li>
<li>Fixed the incorrect result of the <code class="syntax">maxIntersection()</code> function when the boundaries of intervals coincided (<a href="https://github.com/ClickHouse/ClickHouse/pull/2657" rel="external nofollow noreferrer" target="_blank">Michael Furmur</a>).</li>
<li>Fixed incorrect transformation of the OR expression chain in a function argument (<a href="https://github.com/ClickHouse/ClickHouse/pull/2663" rel="external nofollow noreferrer" target="_blank">chenxing-xc</a>).</li>
<li>Fixed performance degradation for queries containing <code class="syntax">IN (subquery)</code> expressions inside another subquery (<a href="https://github.com/ClickHouse/ClickHouse/issues/2571" rel="external nofollow noreferrer" target="_blank">#2571</a>).</li>
<li>Fixed incompatibility between servers with different versions in distributed queries that use a <code class="syntax">CAST</code> function that isn’t in uppercase letters (<a href="https://github.com/ClickHouse/ClickHouse/commit/fe8c4d64e434cacd4ceef34faa9005129f2190a5" rel="external nofollow noreferrer" target="_blank">fe8c4d6</a>).</li>
<li>Added missing quoting of identifiers for queries to an external DBMS (<a href="https://github.com/ClickHouse/ClickHouse/issues/2635" rel="external nofollow noreferrer" target="_blank">#2635</a>).</li>
</ul>
<h4 id="backward-incompatible-changes-6">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-6" title="Permanent link"> </a></h4>
<ul>
<li>Converting a string containing the number zero to DateTime does not work. Example: <code class="syntax">SELECT toDateTime('0')</code>. This is also the reason that <code class="syntax">DateTime DEFAULT '0'</code> does not work in tables, as well as <code class="syntax">&lt;null_value&gt;0&lt;/null_value&gt;</code> in dictionaries. Solution: replace <code class="syntax">0</code> with <code class="syntax">0000-00-00 00:00:00</code>.</li>
</ul>
<h2 id="clickhouse-release-1-1">ClickHouse Release 1.1<a class="headerlink" href="#clickhouse-release-1-1" title="Permanent link"> </a></h2>
<h3 id="clickhouse-release-1-1-54394-2018-07-12">ClickHouse Release 1.1.54394, 2018-07-12<a class="headerlink" href="#clickhouse-release-1-1-54394-2018-07-12" title="Permanent link"> </a></h3>
<h4 id="new-features-10">New Features:<a class="headerlink" href="#new-features-10" title="Permanent link"> </a></h4>
<ul>
<li>Added the <code class="syntax">histogram</code> aggregate function (<a href="https://github.com/ClickHouse/ClickHouse/pull/2521" rel="external nofollow noreferrer" target="_blank">Mikhail Surin</a>).</li>
<li>Now <code class="syntax">OPTIMIZE TABLE ... FINAL</code> can be used without specifying partitions for <code class="syntax">ReplicatedMergeTree</code> (<a href="https://github.com/ClickHouse/ClickHouse/pull/2600" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>).</li>
</ul>
<h4 id="bug-fixes-18">Bug Fixes:<a class="headerlink" href="#bug-fixes-18" title="Permanent link"> </a></h4>
<ul>
<li>Fixed a problem with a very small timeout for sockets (one second) for reading and writing when sending and downloading replicated data, which made it impossible to download larger parts if there is a load on the network or disk (it resulted in cyclical attempts to download parts). This error occurred in version 1.1.54388.</li>
<li>Fixed issues when using chroot in ZooKeeper if you inserted duplicate data blocks in the table.</li>
<li>The <code class="syntax">has</code> function now works correctly for an array with Nullable elements (<a href="https://github.com/ClickHouse/ClickHouse/issues/2115" rel="external nofollow noreferrer" target="_blank">#2115</a>).</li>
<li>The <code class="syntax">system.tables</code> table now works correctly when used in distributed queries. The <code class="syntax">metadata_modification_time</code> and <code class="syntax">engine_full</code> columns are now non-virtual. Fixed an error that occurred if only these columns were queried from the table.</li>
<li>Fixed how an empty <code class="syntax">TinyLog</code> table works after inserting an empty data block (<a href="https://github.com/ClickHouse/ClickHouse/issues/2563" rel="external nofollow noreferrer" target="_blank">#2563</a>).</li>
<li>The <code class="syntax">system.zookeeper</code> table works if the value of the node in ZooKeeper is NULL.</li>
</ul>
<h3 id="clickhouse-release-1-1-54390-2018-07-06">ClickHouse Release 1.1.54390, 2018-07-06<a class="headerlink" href="#clickhouse-release-1-1-54390-2018-07-06" title="Permanent link"> </a></h3>
<h4 id="new-features-11">New Features:<a class="headerlink" href="#new-features-11" title="Permanent link"> </a></h4>
<ul>
<li>Queries can be sent in <code class="syntax">multipart/form-data</code> format (in the <code class="syntax">query</code> field), which is useful if external data is also sent for query processing (<a href="https://github.com/ClickHouse/ClickHouse/pull/2490" rel="external nofollow noreferrer" target="_blank">Olga Hvostikova</a>).</li>
<li>Added the ability to enable or disable processing single or double quotes when reading data in CSV format. You can configure this in the <code class="syntax">format_csv_allow_single_quotes</code> and <code class="syntax">format_csv_allow_double_quotes</code> settings (<a href="https://github.com/ClickHouse/ClickHouse/pull/2574" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>).</li>
<li>Now <code class="syntax">OPTIMIZE TABLE ... FINAL</code> can be used without specifying the partition for non-replicated variants of <code class="syntax">MergeTree</code> (<a href="https://github.com/ClickHouse/ClickHouse/pull/2599" rel="external nofollow noreferrer" target="_blank">Amos Bird</a>).</li>
</ul>
<h4 id="improvements-10">Improvements:<a class="headerlink" href="#improvements-10" title="Permanent link"> </a></h4>
<ul>
<li>Improved performance, reduced memory consumption, and correct memory consumption tracking with use of the IN operator when a table index could be used (<a href="https://github.com/ClickHouse/ClickHouse/pull/2584" rel="external nofollow noreferrer" target="_blank">#2584</a>).</li>
<li>Removed redundant checking of checksums when adding a data part. This is important when there are a large number of replicas, because in these cases the total number of checks was equal to N^2.</li>
<li>Added support for <code class="syntax">Array(Tuple(...))</code> arguments for the <code class="syntax">arrayEnumerateUniq</code> function (<a href="https://github.com/ClickHouse/ClickHouse/pull/2573" rel="external nofollow noreferrer" target="_blank">#2573</a>).</li>
<li>Added <code class="syntax">Nullable</code> support for the <code class="syntax">runningDifference</code> function (<a href="https://github.com/ClickHouse/ClickHouse/pull/2594" rel="external nofollow noreferrer" target="_blank">#2594</a>).</li>
<li>Improved query analysis performance when there is a very large number of expressions (<a href="https://github.com/ClickHouse/ClickHouse/pull/2572" rel="external nofollow noreferrer" target="_blank">#2572</a>).</li>
<li>Faster selection of data parts for merging in <code class="syntax">ReplicatedMergeTree</code> tables. Faster recovery of the ZooKeeper session (<a href="https://github.com/ClickHouse/ClickHouse/pull/2597" rel="external nofollow noreferrer" target="_blank">#2597</a>).</li>
<li>The <code class="syntax">format_version.txt</code> file for <code class="syntax">MergeTree</code> tables is re-created if it is missing, which makes sense if ClickHouse is launched after copying the directory structure without files (<a href="https://github.com/ClickHouse/ClickHouse/pull/2593" rel="external nofollow noreferrer" target="_blank">Ciprian Hacman</a>).</li>
</ul>
<h4 id="bug-fixes-19">Bug Fixes:<a class="headerlink" href="#bug-fixes-19" title="Permanent link"> </a></h4>
<ul>
<li>Fixed a bug when working with ZooKeeper that could make it impossible to recover the session and readonly states of tables before restarting the server.</li>
<li>Fixed a bug when working with ZooKeeper that could result in old nodes not being deleted if the session is interrupted.</li>
<li>Fixed an error in the <code class="syntax">quantileTDigest</code> function for Float arguments (this bug was introduced in version 1.1.54388) (<a href="https://github.com/ClickHouse/ClickHouse/pull/2553" rel="external nofollow noreferrer" target="_blank">Mikhail Surin</a>).</li>
<li>Fixed a bug in the index for MergeTree tables if the primary key column is located inside the function for converting types between signed and unsigned integers of the same size (<a href="https://github.com/ClickHouse/ClickHouse/pull/2603" rel="external nofollow noreferrer" target="_blank">#2603</a>).</li>
<li>Fixed segfault if <code class="syntax">macros</code> are used but they aren’t in the config file (<a href="https://github.com/ClickHouse/ClickHouse/pull/2570" rel="external nofollow noreferrer" target="_blank">#2570</a>).</li>
<li>Fixed switching to the default database when reconnecting the client (<a href="https://github.com/ClickHouse/ClickHouse/pull/2583" rel="external nofollow noreferrer" target="_blank">#2583</a>).</li>
<li>Fixed a bug that occurred when the <code class="syntax">use_index_for_in_with_subqueries</code> setting was disabled.</li>
</ul>
<h4 id="security-fix-1">Security Fix:<a class="headerlink" href="#security-fix-1" title="Permanent link"> </a></h4>
<ul>
<li>Sending files is no longer possible when connected to MySQL (<code class="syntax">LOAD DATA LOCAL INFILE</code>).</li>
</ul>
<h3 id="clickhouse-release-1-1-54388-2018-06-28">ClickHouse Release 1.1.54388, 2018-06-28<a class="headerlink" href="#clickhouse-release-1-1-54388-2018-06-28" title="Permanent link"> </a></h3>
<h4 id="new-features-12">New Features:<a class="headerlink" href="#new-features-12" title="Permanent link"> </a></h4>
<ul>
<li>Support for the <code class="syntax">ALTER TABLE t DELETE WHERE</code> query for replicated tables. Added the <code class="syntax">system.mutations</code> table to track progress of this type of queries.</li>
<li>Support for the <code class="syntax">ALTER TABLE t [REPLACE|ATTACH] PARTITION</code> query for *MergeTree tables.</li>
<li>Support for the <code class="syntax">TRUNCATE TABLE</code> query (<a href="https://github.com/ClickHouse/ClickHouse/pull/2260" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a>)</li>
<li>Several new <code class="syntax">SYSTEM</code> queries for replicated tables (<code class="syntax">RESTART REPLICAS</code>, <code class="syntax">SYNC REPLICA</code>, <code class="syntax">[STOP|START] [MERGES|FETCHES|SENDS REPLICATED|REPLICATION QUEUES]</code>).</li>
<li>Added the ability to write to a table with the MySQL engine and the corresponding table function (<a href="https://github.com/ClickHouse/ClickHouse/pull/2294" rel="external nofollow noreferrer" target="_blank">sundy-li</a>).</li>
<li>Added the <code class="syntax">url()</code> table function and the <code class="syntax">URL</code> table engine (<a href="https://github.com/ClickHouse/ClickHouse/pull/2501" rel="external nofollow noreferrer" target="_blank">Alexander Sapin</a>).</li>
<li>Added the <code class="syntax">windowFunnel</code> aggregate function (<a href="https://github.com/ClickHouse/ClickHouse/pull/2352" rel="external nofollow noreferrer" target="_blank">sundy-li</a>).</li>
<li>New <code class="syntax">startsWith</code> and <code class="syntax">endsWith</code> functions for strings (<a href="https://github.com/ClickHouse/ClickHouse/pull/2429" rel="external nofollow noreferrer" target="_blank">Vadim Plakhtinsky</a>).</li>
<li>The <code class="syntax">numbers()</code> table function now allows you to specify the offset (<a href="https://github.com/ClickHouse/ClickHouse/pull/2535" rel="external nofollow noreferrer" target="_blank">Winter Zhang</a>).</li>
<li>The password to <code class="syntax">clickhouse-client</code> can be entered interactively.</li>
<li>Server logs can now be sent to syslog (<a href="https://github.com/ClickHouse/ClickHouse/pull/2459" rel="external nofollow noreferrer" target="_blank">Alexander Krasheninnikov</a>).</li>
<li>Support for logging in dictionaries with a shared library source (<a href="https://github.com/ClickHouse/ClickHouse/pull/2472" rel="external nofollow noreferrer" target="_blank">Alexander Sapin</a>).</li>
<li>Support for custom CSV delimiters (<a href="https://github.com/ClickHouse/ClickHouse/pull/2263" rel="external nofollow noreferrer" target="_blank">Ivan Zhukov</a>)</li>
<li>Added the <code class="syntax">date_time_input_format</code> setting. If you switch this setting to <code class="syntax">'best_effort'</code>, DateTime values will be read in a wide range of formats.</li>
<li>Added the <code class="syntax">clickhouse-obfuscator</code> utility for data obfuscation. Usage example: publishing data used in performance tests.</li>
</ul>
<h4 id="experimental-features-2">Experimental Features:<a class="headerlink" href="#experimental-features-2" title="Permanent link"> </a></h4>
<ul>
<li>Added the ability to calculate <code class="syntax">and</code> arguments only where they are needed (<a href="https://github.com/ClickHouse/ClickHouse/pull/2272" rel="external nofollow noreferrer" target="_blank">Anastasia Tsarkova</a>)</li>
<li>JIT compilation to native code is now available for some expressions (<a href="https://github.com/ClickHouse/ClickHouse/pull/2277" rel="external nofollow noreferrer" target="_blank">pyos</a>).</li>
</ul>
<h4 id="bug-fixes-20">Bug Fixes:<a class="headerlink" href="#bug-fixes-20" title="Permanent link"> </a></h4>
<ul>
<li>Duplicates no longer appear for a query with <code class="syntax">DISTINCT</code> and <code class="syntax">ORDER BY</code>.</li>
<li>Queries with <code class="syntax">ARRAY JOIN</code> and <code class="syntax">arrayFilter</code> no longer return an incorrect result.</li>
<li>Fixed an error when reading an array column from a Nested structure (<a href="https://github.com/ClickHouse/ClickHouse/issues/2066" rel="external nofollow noreferrer" target="_blank">#2066</a>).</li>
<li>Fixed an error when analyzing queries with a HAVING clause like <code class="syntax">HAVING tuple IN (...)</code>.</li>
<li>Fixed an error when analyzing queries with recursive aliases.</li>
<li>Fixed an error when reading from ReplacingMergeTree with a condition in PREWHERE that filters all rows (<a href="https://github.com/ClickHouse/ClickHouse/issues/2525" rel="external nofollow noreferrer" target="_blank">#2525</a>).</li>
<li>User profile settings were not applied when using sessions in the HTTP interface.</li>
<li>Fixed how settings are applied from the command line parameters in clickhouse-local.</li>
<li>The ZooKeeper client library now uses the session timeout received from the server.</li>
<li>Fixed a bug in the ZooKeeper client library when the client waited for the server response longer than the timeout.</li>
<li>Fixed pruning of parts for queries with conditions on partition key columns (<a href="https://github.com/ClickHouse/ClickHouse/issues/2342" rel="external nofollow noreferrer" target="_blank">#2342</a>).</li>
<li>Merges are now possible after <code class="syntax">CLEAR COLUMN IN PARTITION</code> (<a href="https://github.com/ClickHouse/ClickHouse/issues/2315" rel="external nofollow noreferrer" target="_blank">#2315</a>).</li>
<li>Type mapping in the ODBC table function has been fixed (<a href="https://github.com/ClickHouse/ClickHouse/pull/2268" rel="external nofollow noreferrer" target="_blank">sundy-li</a>).</li>
<li>Type comparisons have been fixed for <code class="syntax">DateTime</code> with and without the time zone (<a href="https://github.com/ClickHouse/ClickHouse/pull/2400" rel="external nofollow noreferrer" target="_blank">Alexander Bocharov</a>).</li>
<li>Fixed syntactic parsing and formatting of the <code class="syntax">CAST</code> operator.</li>
<li>Fixed insertion into a materialized view for the Distributed table engine (<a href="https://github.com/ClickHouse/ClickHouse/pull/2411" rel="external nofollow noreferrer" target="_blank">Babacar Diassé</a>).</li>
<li>Fixed a race condition when writing data from the <code class="syntax">Kafka</code> engine to materialized views (<a href="https://github.com/ClickHouse/ClickHouse/pull/2448" rel="external nofollow noreferrer" target="_blank">Yangkuan Liu</a>).</li>
<li>Fixed SSRF in the remote() table function.</li>
<li>Fixed exit behavior of <code class="syntax">clickhouse-client</code> in multiline mode (<a href="https://github.com/ClickHouse/ClickHouse/issues/2510" rel="external nofollow noreferrer" target="_blank">#2510</a>).</li>
</ul>
<h4 id="improvements-11">Improvements:<a class="headerlink" href="#improvements-11" title="Permanent link"> </a></h4>
<ul>
<li>Background tasks in replicated tables are now performed in a thread pool instead of in separate threads (<a href="https://github.com/ClickHouse/ClickHouse/pull/1722" rel="external nofollow noreferrer" target="_blank">Silviu Caragea</a>).</li>
<li>Improved LZ4 compression performance.</li>
<li>Faster analysis for queries with a large number of JOINs and sub-queries.</li>
<li>The DNS cache is now updated automatically when there are too many network errors.</li>
<li>Table inserts no longer occur if the insert into one of the materialized views is not possible because it has too many parts.</li>
<li>Corrected the discrepancy in the event counters <code class="syntax">Query</code>, <code class="syntax">SelectQuery</code>, and <code class="syntax">InsertQuery</code>.</li>
<li>Expressions like <code class="syntax">tuple IN (SELECT tuple)</code> are allowed if the tuple types match.</li>
<li>A server with replicated tables can start even if you haven’t configured ZooKeeper.</li>
<li>When calculating the number of available CPU cores, limits on cgroups are now taken into account (<a href="https://github.com/ClickHouse/ClickHouse/pull/2325" rel="external nofollow noreferrer" target="_blank">Atri Sharma</a>).</li>
<li>Added chown for config directories in the systemd config file (<a href="https://github.com/ClickHouse/ClickHouse/pull/2421" rel="external nofollow noreferrer" target="_blank">Mikhail Shiryaev</a>).</li>
</ul>
<h4 id="build-changes-4">Build Changes:<a class="headerlink" href="#build-changes-4" title="Permanent link"> </a></h4>
<ul>
<li>The gcc8 compiler can be used for builds.</li>
<li>Added the ability to build llvm from submodule.</li>
<li>The version of the librdkafka library has been updated to v0.11.4.</li>
<li>Added the ability to use the system libcpuid library. The library version has been updated to 0.4.0.</li>
<li>Fixed the build using the vectorclass library (<a href="https://github.com/ClickHouse/ClickHouse/pull/2274" rel="external nofollow noreferrer" target="_blank">Babacar Diassé</a>).</li>
<li>Cmake now generates files for ninja by default (like when using <code class="syntax">-G Ninja</code>).</li>
<li>Added the ability to use the libtinfo library instead of libtermcap (<a href="https://github.com/ClickHouse/ClickHouse/pull/2519" rel="external nofollow noreferrer" target="_blank">Georgy Kondratiev</a>).</li>
<li>Fixed a header file conflict in Fedora Rawhide (<a href="https://github.com/ClickHouse/ClickHouse/issues/2520" rel="external nofollow noreferrer" target="_blank">#2520</a>).</li>
</ul>
<h4 id="backward-incompatible-changes-7">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-7" title="Permanent link"> </a></h4>
<ul>
<li>Removed escaping in <code class="syntax">Vertical</code> and <code class="syntax">Pretty*</code> formats and deleted the <code class="syntax">VerticalRaw</code> format.</li>
<li>If servers with version 1.1.54388 (or newer) and servers with an older version are used simultaneously in a distributed query and the query has the <code class="syntax">cast(x, 'Type')</code> expression without the <code class="syntax">AS</code> keyword and does not have the word <code class="syntax">cast</code> in uppercase, an exception will be thrown with a message like <code class="syntax">Not found column cast(0, 'UInt8') in block</code>. Solution: Update the server on the entire cluster.</li>
</ul>
<h3 id="clickhouse-release-1-1-54385-2018-06-01">ClickHouse Release 1.1.54385, 2018-06-01<a class="headerlink" href="#clickhouse-release-1-1-54385-2018-06-01" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-21">Bug Fixes:<a class="headerlink" href="#bug-fixes-21" title="Permanent link"> </a></h4>
<ul>
<li>Fixed an error that in some cases caused ZooKeeper operations to block.</li>
</ul>
<h3 id="clickhouse-release-1-1-54383-2018-05-22">ClickHouse Release 1.1.54383, 2018-05-22<a class="headerlink" href="#clickhouse-release-1-1-54383-2018-05-22" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-22">Bug Fixes:<a class="headerlink" href="#bug-fixes-22" title="Permanent link"> </a></h4>
<ul>
<li>Fixed a slowdown of replication queue if a table has many replicas.</li>
</ul>
<h3 id="clickhouse-release-1-1-54381-2018-05-14">ClickHouse Release 1.1.54381, 2018-05-14<a class="headerlink" href="#clickhouse-release-1-1-54381-2018-05-14" title="Permanent link"> </a></h3>
<h4 id="bug-fixes-23">Bug Fixes:<a class="headerlink" href="#bug-fixes-23" title="Permanent link"> </a></h4>
<ul>
<li>Fixed a nodes leak in ZooKeeper when ClickHouse loses connection to ZooKeeper server.</li>
</ul>
<h3 id="clickhouse-release-1-1-54380-2018-04-21">ClickHouse Release 1.1.54380, 2018-04-21<a class="headerlink" href="#clickhouse-release-1-1-54380-2018-04-21" title="Permanent link"> </a></h3>
<h4 id="new-features-13">New Features:<a class="headerlink" href="#new-features-13" title="Permanent link"> </a></h4>
<ul>
<li>Added the table function <code class="syntax">file(path, format, structure)</code>. An example reading bytes from <code class="syntax">/dev/urandom</code>: <code class="syntax">ln -s /dev/urandom /var/lib/clickhouse/user_files/random``clickhouse-client -q "SELECT * FROM file('random', 'RowBinary', 'd UInt8') LIMIT 10"</code>.</li>
</ul>
<h4 id="improvements-12">Improvements:<a class="headerlink" href="#improvements-12" title="Permanent link"> </a></h4>
<ul>
<li>Subqueries can be wrapped in <code class="syntax">()</code> brackets to enhance query readability. For example: <code class="syntax">(SELECT 1) UNION ALL (SELECT 1)</code>.</li>
<li>Simple <code class="syntax">SELECT</code> queries from the <code class="syntax">system.processes</code> table are not included in the <code class="syntax">max_concurrent_queries</code> limit.</li>
</ul>
<h4 id="bug-fixes-24">Bug Fixes:<a class="headerlink" href="#bug-fixes-24" title="Permanent link"> </a></h4>
<ul>
<li>Fixed incorrect behavior of the <code class="syntax">IN</code> operator when select from <code class="syntax">MATERIALIZED VIEW</code>.</li>
<li>Fixed incorrect filtering by partition index in expressions like <code class="syntax">partition_key_column IN (...)</code>.</li>
<li>Fixed inability to execute <code class="syntax">OPTIMIZE</code> query on non-leader replica if <code class="syntax">REANAME</code> was performed on the table.</li>
<li>Fixed the authorization error when executing <code class="syntax">OPTIMIZE</code> or <code class="syntax">ALTER</code> queries on a non-leader replica.</li>
<li>Fixed freezing of <code class="syntax">KILL QUERY</code>.</li>
<li>Fixed an error in ZooKeeper client library which led to loss of watches, freezing of distributed DDL queue, and slowdowns in the replication queue if a non-empty <code class="syntax">chroot</code> prefix is used in the ZooKeeper configuration.</li>
</ul>
<h4 id="backward-incompatible-changes-8">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-8" title="Permanent link"> </a></h4>
<ul>
<li>Removed support for expressions like <code class="syntax">(a, b) IN (SELECT (a, b))</code> (you can use the equivalent expression <code class="syntax">(a, b) IN (SELECT a, b)</code>). In previous releases, these expressions led to undetermined <code class="syntax">WHERE</code> filtering or caused errors.</li>
</ul>
<h3 id="clickhouse-release-1-1-54378-2018-04-16">ClickHouse Release 1.1.54378, 2018-04-16<a class="headerlink" href="#clickhouse-release-1-1-54378-2018-04-16" title="Permanent link"> </a></h3>
<h4 id="new-features-14">New Features:<a class="headerlink" href="#new-features-14" title="Permanent link"> </a></h4>
<ul>
<li>Logging level can be changed without restarting the server.</li>
<li>Added the <code class="syntax">SHOW CREATE DATABASE</code> query.</li>
<li>The <code class="syntax">query_id</code> can be passed to <code class="syntax">clickhouse-client</code> (elBroom).</li>
<li>New setting: <code class="syntax">max_network_bandwidth_for_all_users</code>.</li>
<li>Added support for <code class="syntax">ALTER TABLE ... PARTITION ...</code> for <code class="syntax">MATERIALIZED VIEW</code>.</li>
<li>Added information about the size of data parts in uncompressed form in the system table.</li>
<li>Server-to-server encryption support for distributed tables (<code class="syntax">&lt;secure&gt;1&lt;/secure&gt;</code> in the replica config in <code class="syntax">&lt;remote_servers&gt;</code>).</li>
<li>Configuration of the table level for the <code class="syntax">ReplicatedMergeTree</code> family in order to minimize the amount of data stored in Zookeeper: : <code class="syntax">use_minimalistic_checksums_in_zookeeper = 1</code></li>
<li>Configuration of the <code class="syntax">clickhouse-client</code> prompt. By default, server names are now output to the prompt. The server’s display name can be changed. It’s also sent in the <code class="syntax">X-ClickHouse-Display-Name</code> HTTP header (Kirill Shvakov).</li>
<li>Multiple comma-separated <code class="syntax">topics</code> can be specified for the <code class="syntax">Kafka</code> engine (Tobias Adamson)</li>
<li>When a query is stopped by <code class="syntax">KILL QUERY</code> or <code class="syntax">replace_running_query</code>, the client receives the <code class="syntax">Query was canceled</code> exception instead of an incomplete result.</li>
</ul>
<h4 id="improvements-13">Improvements:<a class="headerlink" href="#improvements-13" title="Permanent link"> </a></h4>
<ul>
<li><code class="syntax">ALTER TABLE ... DROP/DETACH PARTITION</code> queries are run at the front of the replication queue.</li>
<li><code class="syntax">SELECT ... FINAL</code> and <code class="syntax">OPTIMIZE ... FINAL</code> can be used even when the table has a single data part.</li>
<li>A <code class="syntax">query_log</code> table is recreated on the fly if it was deleted manually (Kirill Shvakov).</li>
<li>The <code class="syntax">lengthUTF8</code> function runs faster (zhang2014).</li>
<li>Improved performance of synchronous inserts in <code class="syntax">Distributed</code> tables (<code class="syntax">insert_distributed_sync = 1</code>) when there is a very large number of shards.</li>
<li>The server accepts the <code class="syntax">send_timeout</code> and <code class="syntax">receive_timeout</code> settings from the client and applies them when connecting to the client (they are applied in reverse order: the server socket’s <code class="syntax">send_timeout</code> is set to the <code class="syntax">receive_timeout</code> value received from the client, and vice versa).</li>
<li>More robust crash recovery for asynchronous insertion into <code class="syntax">Distributed</code> tables.</li>
<li>The return type of the <code class="syntax">countEqual</code> function changed from <code class="syntax">UInt32</code> to <code class="syntax">UInt64</code> (谢磊).</li>
</ul>
<h4 id="bug-fixes-25">Bug Fixes:<a class="headerlink" href="#bug-fixes-25" title="Permanent link"> </a></h4>
<ul>
<li>Fixed an error with <code class="syntax">IN</code> when the left side of the expression is <code class="syntax">Nullable</code>.</li>
<li>Correct results are now returned when using tuples with <code class="syntax">IN</code> when some of the tuple components are in the table index.</li>
<li>The <code class="syntax">max_execution_time</code> limit now works correctly with distributed queries.</li>
<li>Fixed errors when calculating the size of composite columns in the <code class="syntax">system.columns</code> table.</li>
<li>Fixed an error when creating a temporary table <code class="syntax">CREATE TEMPORARY TABLE IF NOT EXISTS.</code></li>
<li>Fixed errors in <code class="syntax">StorageKafka</code> (##2075)</li>
<li>Fixed server crashes from invalid arguments of certain aggregate functions.</li>
<li>Fixed the error that prevented the <code class="syntax">DETACH DATABASE</code> query from stopping background tasks for <code class="syntax">ReplicatedMergeTree</code> tables.</li>
<li><code class="syntax">Too many parts</code> state is less likely to happen when inserting into aggregated materialized views (##2084).</li>
<li>Corrected recursive handling of substitutions in the config if a substitution must be followed by another substitution on the same level.</li>
<li>Corrected the syntax in the metadata file when creating a <code class="syntax">VIEW</code> that uses a query with <code class="syntax">UNION ALL</code>.</li>
<li><code class="syntax">SummingMergeTree</code> now works correctly for summation of nested data structures with a composite key.</li>
<li>Fixed the possibility of a race condition when choosing the leader for <code class="syntax">ReplicatedMergeTree</code> tables.</li>
</ul>
<h4 id="build-changes-5">Build Changes:<a class="headerlink" href="#build-changes-5" title="Permanent link"> </a></h4>
<ul>
<li>The build supports <code class="syntax">ninja</code> instead of <code class="syntax">make</code> and uses <code class="syntax">ninja</code> by default for building releases.</li>
<li>Renamed packages: <code class="syntax">clickhouse-server-base</code> in <code class="syntax">clickhouse-common-static</code>; <code class="syntax">clickhouse-server-common</code> in <code class="syntax">clickhouse-server</code>; <code class="syntax">clickhouse-common-dbg</code> in <code class="syntax">clickhouse-common-static-dbg</code>. To install, use <code class="syntax">clickhouse-server clickhouse-client</code>. Packages with the old names will still load in the repositories for backward compatibility.</li>
</ul>
<h4 id="backward-incompatible-changes-9">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-9" title="Permanent link"> </a></h4>
<ul>
<li>Removed the special interpretation of an IN expression if an array is specified on the left side. Previously, the expression <code class="syntax">arr IN (set)</code> was interpreted as “at least one <code class="syntax">arr</code> element belongs to the <code class="syntax">set</code>”. To get the same behavior in the new version, write <code class="syntax">arrayExists(x -&gt; x IN (set), arr)</code>.</li>
<li>Disabled the incorrect use of the socket option <code class="syntax">SO_REUSEPORT</code>, which was incorrectly enabled by default in the Poco library. Note that on Linux there is no longer any reason to simultaneously specify the addresses <code class="syntax">::</code> and <code class="syntax">0.0.0.0</code> for listen – use just <code class="syntax">::</code>, which allows listening to the connection both over IPv4 and IPv6 (with the default kernel config settings). You can also revert to the behavior from previous versions by specifying <code class="syntax">&lt;listen_reuse_port&gt;1&lt;/listen_reuse_port&gt;</code> in the config.</li>
</ul>
<h3 id="clickhouse-release-1-1-54370-2018-03-16">ClickHouse Release 1.1.54370, 2018-03-16<a class="headerlink" href="#clickhouse-release-1-1-54370-2018-03-16" title="Permanent link"> </a></h3>
<h4 id="new-features-15">New Features:<a class="headerlink" href="#new-features-15" title="Permanent link"> </a></h4>
<ul>
<li>Added the <code class="syntax">system.macros</code> table and auto updating of macros when the config file is changed.</li>
<li>Added the <code class="syntax">SYSTEM RELOAD CONFIG</code> query.</li>
<li>Added the <code class="syntax">maxIntersections(left_col, right_col)</code> aggregate function, which returns the maximum number of simultaneously intersecting intervals <code class="syntax">[left; right]</code>. The <code class="syntax">maxIntersectionsPosition(left, right)</code> function returns the beginning of the “maximum” interval. (<a href="https://github.com/ClickHouse/ClickHouse/pull/2012" rel="external nofollow noreferrer" target="_blank">Michael Furmur</a>).</li>
</ul>
<h4 id="improvements-14">Improvements:<a class="headerlink" href="#improvements-14" title="Permanent link"> </a></h4>
<ul>
<li>When inserting data in a <code class="syntax">Replicated</code> table, fewer requests are made to <code class="syntax">ZooKeeper</code> (and most of the user-level errors have disappeared from the <code class="syntax">ZooKeeper</code> log).</li>
<li>Added the ability to create aliases for data sets. Example: <code class="syntax">WITH (1, 2, 3) AS set SELECT number IN set FROM system.numbers LIMIT 10</code>.</li>
</ul>
<h4 id="bug-fixes-26">Bug Fixes:<a class="headerlink" href="#bug-fixes-26" title="Permanent link"> </a></h4>
<ul>
<li>Fixed the <code class="syntax">Illegal PREWHERE</code> error when reading from Merge tables for <code class="syntax">Distributed</code>tables.</li>
<li>Added fixes that allow you to start clickhouse-server in IPv4-only Docker containers.</li>
<li>Fixed a race condition when reading from system <code class="syntax">system.parts_columns tables.</code></li>
<li>Removed double buffering during a synchronous insert to a <code class="syntax">Distributed</code> table, which could have caused the connection to timeout.</li>
<li>Fixed a bug that caused excessively long waits for an unavailable replica before beginning a <code class="syntax">SELECT</code> query.</li>
<li>Fixed incorrect dates in the <code class="syntax">system.parts</code> table.</li>
<li>Fixed a bug that made it impossible to insert data in a <code class="syntax">Replicated</code> table if <code class="syntax">chroot</code> was non-empty in the configuration of the <code class="syntax">ZooKeeper</code> cluster.</li>
<li>Fixed the vertical merging algorithm for an empty <code class="syntax">ORDER BY</code> table.</li>
<li>Restored the ability to use dictionaries in queries to remote tables, even if these dictionaries are not present on the requestor server. This functionality was lost in release 1.1.54362.</li>
<li>Restored the behavior for queries like <code class="syntax">SELECT * FROM remote('server2', default.table) WHERE col IN (SELECT col2 FROM default.table)</code> when the right side of the <code class="syntax">IN</code> should use a remote <code class="syntax">default.table</code> instead of a local one. This behavior was broken in version 1.1.54358.</li>
<li>Removed extraneous error-level logging of <code class="syntax">Not found column ... in block</code>.</li>
</ul>
<h3 id="clickhouse-release-1-1-54362-2018-03-11">ClickHouse Release 1.1.54362, 2018-03-11<a class="headerlink" href="#clickhouse-release-1-1-54362-2018-03-11" title="Permanent link"> </a></h3>
<h4 id="new-features-16">New Features:<a class="headerlink" href="#new-features-16" title="Permanent link"> </a></h4>
<ul>
<li>Aggregation without <code class="syntax">GROUP BY</code> for an empty set (such as <code class="syntax">SELECT count(*) FROM table WHERE 0</code>) now returns a result with one row with null values for aggregate functions, in compliance with the SQL standard. To restore the old behavior (return an empty result), set <code class="syntax">empty_result_for_aggregation_by_empty_set</code> to 1.</li>
<li>Added type conversion for <code class="syntax">UNION ALL</code>. Different alias names are allowed in <code class="syntax">SELECT</code> positions in <code class="syntax">UNION ALL</code>, in compliance with the SQL standard.</li>
<li>Arbitrary expressions are supported in <code class="syntax">LIMIT BY</code> clauses. Previously, it was only possible to use columns resulting from <code class="syntax">SELECT</code>.</li>
<li>An index of <code class="syntax">MergeTree</code> tables is used when <code class="syntax">IN</code> is applied to a tuple of expressions from the columns of the primary key. Example: <code class="syntax">WHERE (UserID, EventDate) IN ((123, '2000-01-01'), ...)</code> (Anastasiya Tsarkova).</li>
<li>Added the <code class="syntax">clickhouse-copier</code> tool for copying between clusters and resharding data (beta).</li>
<li>Added consistent hashing functions: <code class="syntax">yandexConsistentHash</code>, <code class="syntax">jumpConsistentHash</code>, <code class="syntax">sumburConsistentHash</code>. They can be used as a sharding key in order to reduce the amount of network traffic during subsequent reshardings.</li>
<li>Added functions: <code class="syntax">arrayAny</code>, <code class="syntax">arrayAll</code>, <code class="syntax">hasAny</code>, <code class="syntax">hasAll</code>, <code class="syntax">arrayIntersect</code>, <code class="syntax">arrayResize</code>.</li>
<li>Added the <code class="syntax">arrayCumSum</code> function (Javi Santana).</li>
<li>Added the <code class="syntax">parseDateTimeBestEffort</code>, <code class="syntax">parseDateTimeBestEffortOrZero</code>, and <code class="syntax">parseDateTimeBestEffortOrNull</code> functions to read the DateTime from a string containing text in a wide variety of possible formats.</li>
<li>Data can be partially reloaded from external dictionaries during updating (load just the records in which the value of the specified field greater than in the previous download) (Arsen Hakobyan).</li>
<li>Added the <code class="syntax">cluster</code> table function. Example: <code class="syntax">cluster(cluster_name, db, table)</code>. The <code class="syntax">remote</code> table function can accept the cluster name as the first argument, if it is specified as an identifier.</li>
<li>The <code class="syntax">remote</code> and <code class="syntax">cluster</code> table functions can be used in <code class="syntax">INSERT</code> queries.</li>
<li>Added the <code class="syntax">create_table_query</code> and <code class="syntax">engine_full</code> virtual columns to the <code class="syntax">system.tables</code>table . The <code class="syntax">metadata_modification_time</code> column is virtual.</li>
<li>Added the <code class="syntax">data_path</code> and <code class="syntax">metadata_path</code> columns to <code class="syntax">system.tables</code>and<code class="syntax">system.databases</code> tables, and added the <code class="syntax">path</code> column to the <code class="syntax">system.parts</code> and <code class="syntax">system.parts_columns</code> tables.</li>
<li>Added additional information about merges in the <code class="syntax">system.part_log</code> table.</li>
<li>An arbitrary partitioning key can be used for the <code class="syntax">system.query_log</code> table (Kirill Shvakov).</li>
<li>The <code class="syntax">SHOW TABLES</code> query now also shows temporary tables. Added temporary tables and the <code class="syntax">is_temporary</code> column to <code class="syntax">system.tables</code> (zhang2014).</li>
<li>Added <code class="syntax">DROP TEMPORARY TABLE</code> and <code class="syntax">EXISTS TEMPORARY TABLE</code> queries (zhang2014).</li>
<li>Support for <code class="syntax">SHOW CREATE TABLE</code> for temporary tables (zhang2014).</li>
<li>Added the <code class="syntax">system_profile</code> configuration parameter for the settings used by internal processes.</li>
<li>Support for loading <code class="syntax">object_id</code> as an attribute in <code class="syntax">MongoDB</code> dictionaries (Pavel Litvinenko).</li>
<li>Reading <code class="syntax">null</code> as the default value when loading data for an external dictionary with the <code class="syntax">MongoDB</code> source (Pavel Litvinenko).</li>
<li>Reading <code class="syntax">DateTime</code> values in the <code class="syntax">Values</code> format from a Unix timestamp without single quotes.</li>
<li>Failover is supported in <code class="syntax">remote</code> table functions for cases when some of the replicas are missing the requested table.</li>
<li>Configuration settings can be overridden in the command line when you run <code class="syntax">clickhouse-server</code>. Example: <code class="syntax">clickhouse-server -- --logger.level=information</code>.</li>
<li>Implemented the <code class="syntax">empty</code> function from a <code class="syntax">FixedString</code> argument: the function returns 1 if the string consists entirely of null bytes (zhang2014).</li>
<li>Added the <code class="syntax">listen_try</code>configuration parameter for listening to at least one of the listen addresses without quitting, if some of the addresses can’t be listened to (useful for systems with disabled support for IPv4 or IPv6).</li>
<li>Added the <code class="syntax">VersionedCollapsingMergeTree</code> table engine.</li>
<li>Support for rows and arbitrary numeric types for the <code class="syntax">library</code> dictionary source.</li>
<li><code class="syntax">MergeTree</code> tables can be used without a primary key (you need to specify <code class="syntax">ORDER BY tuple()</code>).</li>
<li>A <code class="syntax">Nullable</code> type can be <code class="syntax">CAST</code> to a non-<code class="syntax">Nullable</code> type if the argument is not <code class="syntax">NULL</code>.</li>
<li><code class="syntax">RENAME TABLE</code> can be performed for <code class="syntax">VIEW</code>.</li>
<li>Added the <code class="syntax">throwIf</code> function.</li>
<li>Added the <code class="syntax">odbc_default_field_size</code> option, which allows you to extend the maximum size of the value loaded from an ODBC source (by default, it is 1024).</li>
<li>The <code class="syntax">system.processes</code> table and <code class="syntax">SHOW PROCESSLIST</code> now have the <code class="syntax">is_cancelled</code> and <code class="syntax">peak_memory_usage</code> columns.</li>
</ul>
<h4 id="improvements-15">Improvements:<a class="headerlink" href="#improvements-15" title="Permanent link"> </a></h4>
<ul>
<li>Limits and quotas on the result are no longer applied to intermediate data for <code class="syntax">INSERT SELECT</code> queries or for <code class="syntax">SELECT</code> subqueries.</li>
<li>Fewer false triggers of <code class="syntax">force_restore_data</code> when checking the status of <code class="syntax">Replicated</code> tables when the server starts.</li>
<li>Added the <code class="syntax">allow_distributed_ddl</code> option.</li>
<li>Nondeterministic functions are not allowed in expressions for <code class="syntax">MergeTree</code> table keys.</li>
<li>Files with substitutions from <code class="syntax">config.d</code> directories are loaded in alphabetical order.</li>
<li>Improved performance of the <code class="syntax">arrayElement</code> function in the case of a constant multidimensional array with an empty array as one of the elements. Example: <code class="syntax">[[1], []][x]</code>.</li>
<li>The server starts faster now when using configuration files with very large substitutions (for instance, very large lists of IP networks).</li>
<li>When running a query, table valued functions run once. Previously, <code class="syntax">remote</code> and <code class="syntax">mysql</code> table valued functions performed the same query twice to retrieve the table structure from a remote server.</li>
<li>The <code class="syntax">MkDocs</code> documentation generator is used.</li>
<li>When you try to delete a table column that <code class="syntax">DEFAULT</code>/<code class="syntax">MATERIALIZED</code> expressions of other columns depend on, an exception is thrown (zhang2014).</li>
<li>Added the ability to parse an empty line in text formats as the number 0 for <code class="syntax">Float</code> data types. This feature was previously available but was lost in release 1.1.54342.</li>
<li><code class="syntax">Enum</code> values can be used in <code class="syntax">min</code>, <code class="syntax">max</code>, <code class="syntax">sum</code> and some other functions. In these cases, it uses the corresponding numeric values. This feature was previously available but was lost in the release 1.1.54337.</li>
<li>Added <code class="syntax">max_expanded_ast_elements</code> to restrict the size of the AST after recursively expanding aliases.</li>
</ul>
<h4 id="bug-fixes-27">Bug Fixes:<a class="headerlink" href="#bug-fixes-27" title="Permanent link"> </a></h4>
<ul>
<li>Fixed cases when unnecessary columns were removed from subqueries in error, or not removed from subqueries containing <code class="syntax">UNION ALL</code>.</li>
<li>Fixed a bug in merges for <code class="syntax">ReplacingMergeTree</code> tables.</li>
<li>Fixed synchronous insertions in <code class="syntax">Distributed</code> tables (<code class="syntax">insert_distributed_sync = 1</code>).</li>
<li>Fixed segfault for certain uses of <code class="syntax">FULL</code> and <code class="syntax">RIGHT JOIN</code> with duplicate columns in subqueries.</li>
<li>Fixed segfault for certain uses of <code class="syntax">replace_running_query</code> and <code class="syntax">KILL QUERY</code>.</li>
<li>Fixed the order of the <code class="syntax">source</code> and <code class="syntax">last_exception</code> columns in the <code class="syntax">system.dictionaries</code> table.</li>
<li>Fixed a bug when the <code class="syntax">DROP DATABASE</code> query did not delete the file with metadata.</li>
<li>Fixed the <code class="syntax">DROP DATABASE</code> query for <code class="syntax">Dictionary</code> databases.</li>
<li>Fixed the low precision of <code class="syntax">uniqHLL12</code> and <code class="syntax">uniqCombined</code> functions for cardinalities greater than 100 million items (Alex Bocharov).</li>
<li>Fixed the calculation of implicit default values when necessary to simultaneously calculate default explicit expressions in <code class="syntax">INSERT</code> queries (zhang2014).</li>
<li>Fixed a rare case when a query to a <code class="syntax">MergeTree</code> table couldn’t finish (chenxing-xc).</li>
<li>Fixed a crash that occurred when running a <code class="syntax">CHECK</code> query for <code class="syntax">Distributed</code> tables if all shards are local (chenxing.xc).</li>
<li>Fixed a slight performance regression with functions that use regular expressions.</li>
<li>Fixed a performance regression when creating multidimensional arrays from complex expressions.</li>
<li>Fixed a bug that could cause an extra <code class="syntax">FORMAT</code> section to appear in an <code class="syntax">.sql</code> file with metadata.</li>
<li>Fixed a bug that caused the <code class="syntax">max_table_size_to_drop</code> limit to apply when trying to delete a <code class="syntax">MATERIALIZED VIEW</code> looking at an explicitly specified table.</li>
<li>Fixed incompatibility with old clients (old clients were sometimes sent data with the <code class="syntax">DateTime('timezone')</code> type, which they do not understand).</li>
<li>Fixed a bug when reading <code class="syntax">Nested</code> column elements of structures that were added using <code class="syntax">ALTER</code> but that are empty for the old partitions, when the conditions for these columns moved to <code class="syntax">PREWHERE</code>.</li>
<li>Fixed a bug when filtering tables by virtual <code class="syntax">_table</code> columns in queries to <code class="syntax">Merge</code> tables.</li>
<li>Fixed a bug when using <code class="syntax">ALIAS</code> columns in <code class="syntax">Distributed</code> tables.</li>
<li>Fixed a bug that made dynamic compilation impossible for queries with aggregate functions from the <code class="syntax">quantile</code> family.</li>
<li>Fixed a race condition in the query execution pipeline that occurred in very rare cases when using <code class="syntax">Merge</code> tables with a large number of tables, and when using <code class="syntax">GLOBAL</code> subqueries.</li>
<li>Fixed a crash when passing arrays of different sizes to an <code class="syntax">arrayReduce</code> function when using aggregate functions from multiple arguments.</li>
<li>Prohibited the use of queries with <code class="syntax">UNION ALL</code> in a <code class="syntax">MATERIALIZED VIEW</code>.</li>
<li>Fixed an error during initialization of the <code class="syntax">part_log</code> system table when the server starts (by default, <code class="syntax">part_log</code> is disabled).</li>
</ul>
<h4 id="backward-incompatible-changes-10">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-10" title="Permanent link"> </a></h4>
<ul>
<li>Removed the <code class="syntax">distributed_ddl_allow_replicated_alter</code> option. This behavior is enabled by default.</li>
<li>Removed the <code class="syntax">strict_insert_defaults</code> setting. If you were using this functionality, write to <code class="syntax">clickhouse-feedback@yandex-team.com</code>.</li>
<li>Removed the <code class="syntax">UnsortedMergeTree</code> engine.</li>
</ul>
<h3 id="clickhouse-release-1-1-54343-2018-02-05">ClickHouse Release 1.1.54343, 2018-02-05<a class="headerlink" href="#clickhouse-release-1-1-54343-2018-02-05" title="Permanent link"> </a></h3>
<ul>
<li>Added macros support for defining cluster names in distributed DDL queries and constructors of Distributed tables: <code class="syntax">CREATE TABLE distr ON CLUSTER '{cluster}' (...) ENGINE = Distributed('{cluster}', 'db', 'table')</code>.</li>
<li>Now queries like <code class="syntax">SELECT ... FROM table WHERE expr IN (subquery)</code> are processed using the <code class="syntax">table</code> index.</li>
<li>Improved processing of duplicates when inserting to Replicated tables, so they no longer slow down execution of the replication queue.</li>
</ul>
<h3 id="clickhouse-release-1-1-54342-2018-01-22">ClickHouse Release 1.1.54342, 2018-01-22<a class="headerlink" href="#clickhouse-release-1-1-54342-2018-01-22" title="Permanent link"> </a></h3>
<p>This release contains bug fixes for the previous release 1.1.54337:</p>
<ul>
<li>Fixed a regression in 1.1.54337: if the default user has readonly access, then the server refuses to start up with the message <code class="syntax">Cannot create database in readonly mode</code>.</li>
<li>Fixed a regression in 1.1.54337: on systems with systemd, logs are always written to syslog regardless of the configuration; the watchdog script still uses init.d.</li>
<li>Fixed a regression in 1.1.54337: wrong default configuration in the Docker image.</li>
<li>Fixed nondeterministic behavior of GraphiteMergeTree (you can see it in log messages <code class="syntax">Data after merge is not byte-identical to the data on another replicas</code>).</li>
<li>Fixed a bug that may lead to inconsistent merges after OPTIMIZE query to Replicated tables (you may see it in log messages <code class="syntax">Part ... intersects the previous part</code>).</li>
<li>Buffer tables now work correctly when MATERIALIZED columns are present in the destination table (by zhang2014).</li>
<li>Fixed a bug in implementation of NULL.</li>
</ul>
<h3 id="clickhouse-release-1-1-54337-2018-01-18">ClickHouse Release 1.1.54337, 2018-01-18<a class="headerlink" href="#clickhouse-release-1-1-54337-2018-01-18" title="Permanent link"> </a></h3>
<h4 id="new-features-17">New Features:<a class="headerlink" href="#new-features-17" title="Permanent link"> </a></h4>
<ul>
<li>Added support for storage of multi-dimensional arrays and tuples (<code class="syntax">Tuple</code> data type) in tables.</li>
<li>Support for table functions for <code class="syntax">DESCRIBE</code> and <code class="syntax">INSERT</code> queries. Added support for subqueries in <code class="syntax">DESCRIBE</code>. Examples: <code class="syntax">DESC TABLE remote('host', default.hits)</code>; <code class="syntax">DESC TABLE (SELECT 1)</code>; <code class="syntax">INSERT INTO TABLE FUNCTION remote('host', default.hits)</code>. Support for <code class="syntax">INSERT INTO TABLE</code> in addition to <code class="syntax">INSERT INTO</code>.</li>
<li>Improved support for time zones. The <code class="syntax">DateTime</code> data type can be annotated with the timezone that is used for parsing and formatting in text formats. Example: <code class="syntax">DateTime('Europe/Moscow')</code>. When timezones are specified in functions for <code class="syntax">DateTime</code> arguments, the return type will track the timezone, and the value will be displayed as expected.</li>
<li>Added the functions <code class="syntax">toTimeZone</code>, <code class="syntax">timeDiff</code>, <code class="syntax">toQuarter</code>, <code class="syntax">toRelativeQuarterNum</code>. The <code class="syntax">toRelativeHour</code>/<code class="syntax">Minute</code>/<code class="syntax">Second</code> functions can take a value of type <code class="syntax">Date</code> as an argument. The <code class="syntax">now</code> function name is case-sensitive.</li>
<li>Added the <code class="syntax">toStartOfFifteenMinutes</code> function (Kirill Shvakov).</li>
<li>Added the <code class="syntax">clickhouse format</code> tool for formatting queries.</li>
<li>Added the <code class="syntax">format_schema_path</code> configuration parameter (Marek Vavruşa). It is used for specifying a schema in <code class="syntax">Cap'n Proto</code> format. Schema files can be located only in the specified directory.</li>
<li>Added support for config substitutions (<code class="syntax">incl</code> and <code class="syntax">conf.d</code>) for configuration of external dictionaries and models (Pavel Yakunin).</li>
<li>Added a column with documentation for the <code class="syntax">system.settings</code> table (Kirill Shvakov).</li>
<li>Added the <code class="syntax">system.parts_columns</code> table with information about column sizes in each data part of <code class="syntax">MergeTree</code> tables.</li>
<li>Added the <code class="syntax">system.models</code> table with information about loaded <code class="syntax">CatBoost</code> machine learning models.</li>
<li>Added the <code class="syntax">mysql</code> and <code class="syntax">odbc</code> table function and corresponding <code class="syntax">MySQL</code> and <code class="syntax">ODBC</code> table engines for accessing remote databases. This functionality is in the beta stage.</li>
<li>Added the possibility to pass an argument of type <code class="syntax">AggregateFunction</code> for the <code class="syntax">groupArray</code> aggregate function (so you can create an array of states of some aggregate function).</li>
<li>Removed restrictions on various combinations of aggregate function combinators. For example, you can use <code class="syntax">avgForEachIf</code> as well as <code class="syntax">avgIfForEach</code> aggregate functions, which have different behaviors.</li>
<li>The <code class="syntax">-ForEach</code> aggregate function combinator is extended for the case of aggregate functions of multiple arguments.</li>
<li>Added support for aggregate functions of <code class="syntax">Nullable</code> arguments even for cases when the function returns a non-<code class="syntax">Nullable</code> result (added with the contribution of Silviu Caragea). Example: <code class="syntax">groupArray</code>, <code class="syntax">groupUniqArray</code>, <code class="syntax">topK</code>.</li>
<li>Added the <code class="syntax">max_client_network_bandwidth</code> for <code class="syntax">clickhouse-client</code> (Kirill Shvakov).</li>
<li>Users with the <code class="syntax">readonly = 2</code> setting are allowed to work with TEMPORARY tables (CREATE, DROP, INSERT…) (Kirill Shvakov).</li>
<li>Added support for using multiple consumers with the <code class="syntax">Kafka</code> engine. Extended configuration options for <code class="syntax">Kafka</code> (Marek Vavruša).</li>
<li>Added the <code class="syntax">intExp3</code> and <code class="syntax">intExp4</code> functions.</li>
<li>Added the <code class="syntax">sumKahan</code> aggregate function.</li>
<li>Added the to * Number* OrNull functions, where * Number* is a numeric type.</li>
<li>Added support for <code class="syntax">WITH</code> clauses for an <code class="syntax">INSERT SELECT</code> query (author: zhang2014).</li>
<li>Added settings: <code class="syntax">http_connection_timeout</code>, <code class="syntax">http_send_timeout</code>, <code class="syntax">http_receive_timeout</code>. In particular, these settings are used for downloading data parts for replication. Changing these settings allows for faster failover if the network is overloaded.</li>
<li>Added support for <code class="syntax">ALTER</code> for tables of type <code class="syntax">Null</code> (Anastasiya Tsarkova).</li>
<li>The <code class="syntax">reinterpretAsString</code> function is extended for all data types that are stored contiguously in memory.</li>
<li>Added the <code class="syntax">--silent</code> option for the <code class="syntax">clickhouse-local</code> tool. It suppresses printing query execution info in stderr.</li>
<li>Added support for reading values of type <code class="syntax">Date</code> from text in a format where the month and/or day of the month is specified using a single digit instead of two digits (Amos Bird).</li>
</ul>
<h4 id="performance-optimizations">Performance Optimizations:<a class="headerlink" href="#performance-optimizations" title="Permanent link"> </a></h4>
<ul>
<li>Improved performance of aggregate functions <code class="syntax">min</code>, <code class="syntax">max</code>, <code class="syntax">any</code>, <code class="syntax">anyLast</code>, <code class="syntax">anyHeavy</code>, <code class="syntax">argMin</code>, <code class="syntax">argMax</code> from string arguments.</li>
<li>Improved performance of the functions <code class="syntax">isInfinite</code>, <code class="syntax">isFinite</code>, <code class="syntax">isNaN</code>, <code class="syntax">roundToExp2</code>.</li>
<li>Improved performance of parsing and formatting <code class="syntax">Date</code> and <code class="syntax">DateTime</code> type values in text format.</li>
<li>Improved performance and precision of parsing floating point numbers.</li>
<li>Lowered memory usage for <code class="syntax">JOIN</code> in the case when the left and right parts have columns with identical names that are not contained in <code class="syntax">USING</code> .</li>
<li>Improved performance of aggregate functions <code class="syntax">varSamp</code>, <code class="syntax">varPop</code>, <code class="syntax">stddevSamp</code>, <code class="syntax">stddevPop</code>, <code class="syntax">covarSamp</code>, <code class="syntax">covarPop</code>, <code class="syntax">corr</code> by reducing computational stability. The old functions are available under the names <code class="syntax">varSampStable</code>, <code class="syntax">varPopStable</code>, <code class="syntax">stddevSampStable</code>, <code class="syntax">stddevPopStable</code>, <code class="syntax">covarSampStable</code>, <code class="syntax">covarPopStable</code>, <code class="syntax">corrStable</code>.</li>
</ul>
<h4 id="bug-fixes-28">Bug Fixes:<a class="headerlink" href="#bug-fixes-28" title="Permanent link"> </a></h4>
<ul>
<li>Fixed data deduplication after running a <code class="syntax">DROP</code> or <code class="syntax">DETACH PARTITION</code> query. In the previous version, dropping a partition and inserting the same data again was not working because inserted blocks were considered duplicates.</li>
<li>Fixed a bug that could lead to incorrect interpretation of the <code class="syntax">WHERE</code> clause for <code class="syntax">CREATE MATERIALIZED VIEW</code> queries with <code class="syntax">POPULATE</code> .</li>
<li>Fixed a bug in using the <code class="syntax">root_path</code> parameter in the <code class="syntax">zookeeper_servers</code> configuration.</li>
<li>Fixed unexpected results of passing the <code class="syntax">Date</code> argument to <code class="syntax">toStartOfDay</code> .</li>
<li>Fixed the <code class="syntax">addMonths</code> and <code class="syntax">subtractMonths</code> functions and the arithmetic for <code class="syntax">INTERVAL n MONTH</code> in cases when the result has the previous year.</li>
<li>Added missing support for the <code class="syntax">UUID</code> data type for <code class="syntax">DISTINCT</code> , <code class="syntax">JOIN</code> , and <code class="syntax">uniq</code> aggregate functions and external dictionaries (Evgeniy Ivanov). Support for <code class="syntax">UUID</code> is still incomplete.</li>
<li>Fixed <code class="syntax">SummingMergeTree</code> behavior in cases when the rows summed to zero.</li>
<li>Various fixes for the <code class="syntax">Kafka</code> engine (Marek Vavruša).</li>
<li>Fixed incorrect behavior of the <code class="syntax">Join</code> table engine (Amos Bird).</li>
<li>Fixed incorrect allocator behavior under FreeBSD and OS X.</li>
<li>The <code class="syntax">extractAll</code> function now supports empty matches.</li>
<li>Fixed an error that blocked usage of <code class="syntax">libressl</code> instead of <code class="syntax">openssl</code> .</li>
<li>Fixed the <code class="syntax">CREATE TABLE AS SELECT</code> query from temporary tables.</li>
<li>Fixed non-atomicity of updating the replication queue. This could lead to replicas being out of sync until the server restarts.</li>
<li>Fixed possible overflow in <code class="syntax">gcd</code> , <code class="syntax">lcm</code> and <code class="syntax">modulo</code> (<code class="syntax">%</code> operator) (Maks Skorokhod).</li>
<li><code class="syntax">-preprocessed</code> files are now created after changing <code class="syntax">umask</code> (<code class="syntax">umask</code> can be changed in the config).</li>
<li>Fixed a bug in the background check of parts (<code class="syntax">MergeTreePartChecker</code> ) when using a custom partition key.</li>
<li>Fixed parsing of tuples (values of the <code class="syntax">Tuple</code> data type) in text formats.</li>
<li>Improved error messages about incompatible types passed to <code class="syntax">multiIf</code> , <code class="syntax">array</code> and some other functions.</li>
<li>Redesigned support for <code class="syntax">Nullable</code> types. Fixed bugs that may lead to a server crash. Fixed almost all other bugs related to <code class="syntax">NULL</code> support: incorrect type conversions in INSERT SELECT, insufficient support for Nullable in HAVING and PREWHERE, <code class="syntax">join_use_nulls</code> mode, Nullable types as arguments of <code class="syntax">OR</code> operator, etc.</li>
<li>Fixed various bugs related to internal semantics of data types. Examples: unnecessary summing of <code class="syntax">Enum</code> type fields in <code class="syntax">SummingMergeTree</code> ; alignment of <code class="syntax">Enum</code> types in <code class="syntax">Pretty</code> formats, etc.</li>
<li>Stricter checks for allowed combinations of composite columns.</li>
<li>Fixed the overflow when specifying a very large parameter for the <code class="syntax">FixedString</code> data type.</li>
<li>Fixed a bug in the <code class="syntax">topK</code> aggregate function in a generic case.</li>
<li>Added the missing check for equality of array sizes in arguments of n-ary variants of aggregate functions with an <code class="syntax">-Array</code> combinator.</li>
<li>Fixed a bug in <code class="syntax">--pager</code> for <code class="syntax">clickhouse-client</code> (author: ks1322).</li>
<li>Fixed the precision of the <code class="syntax">exp10</code> function.</li>
<li>Fixed the behavior of the <code class="syntax">visitParamExtract</code> function for better compliance with documentation.</li>
<li>Fixed the crash when incorrect data types are specified.</li>
<li>Fixed the behavior of <code class="syntax">DISTINCT</code> in the case when all columns are constants.</li>
<li>Fixed query formatting in the case of using the <code class="syntax">tupleElement</code> function with a complex constant expression as the tuple element index.</li>
<li>Fixed a bug in <code class="syntax">Dictionary</code> tables for <code class="syntax">range_hashed</code> dictionaries.</li>
<li>Fixed a bug that leads to excessive rows in the result of <code class="syntax">FULL</code> and <code class="syntax">RIGHT JOIN</code> (Amos Bird).</li>
<li>Fixed a server crash when creating and removing temporary files in <code class="syntax">config.d</code> directories during config reload.</li>
<li>Fixed the <code class="syntax">SYSTEM DROP DNS CACHE</code> query: the cache was flushed but addresses of cluster nodes were not updated.</li>
<li>Fixed the behavior of <code class="syntax">MATERIALIZED VIEW</code> after executing <code class="syntax">DETACH TABLE</code> for the table under the view (Marek Vavruša).</li>
</ul>
<h4 id="build-improvements-4">Build Improvements:<a class="headerlink" href="#build-improvements-4" title="Permanent link"> </a></h4>
<ul>
<li>The <code class="syntax">pbuilder</code> tool is used for builds. The build process is almost completely independent of the build host environment.</li>
<li>A single build is used for different OS versions. Packages and binaries have been made compatible with a wide range of Linux systems.</li>
<li>Added the <code class="syntax">clickhouse-test</code> package. It can be used to run functional tests.</li>
<li>The source tarball can now be published to the repository. It can be used to reproduce the build without using GitHub.</li>
<li>Added limited integration with Travis CI. Due to limits on build time in Travis, only the debug build is tested and a limited subset of tests are run.</li>
<li>Added support for <code class="syntax">Cap'n'Proto</code> in the default build.</li>
<li>Changed the format of documentation sources from <code class="syntax">Restricted Text</code> to <code class="syntax">Markdown</code>.</li>
<li>Added support for <code class="syntax">systemd</code> (Vladimir Smirnov). It is disabled by default due to incompatibility with some OS images and can be enabled manually.</li>
<li>For dynamic code generation, <code class="syntax">clang</code> and <code class="syntax">lld</code> are embedded into the <code class="syntax">clickhouse</code> binary. They can also be invoked as <code class="syntax">clickhouse clang</code> and <code class="syntax">clickhouse lld</code> .</li>
<li>Removed usage of GNU extensions from the code. Enabled the <code class="syntax">-Wextra</code> option. When building with <code class="syntax">clang</code> the default is <code class="syntax">libc++</code> instead of <code class="syntax">libstdc++</code>.</li>
<li>Extracted <code class="syntax">clickhouse_parsers</code> and <code class="syntax">clickhouse_common_io</code> libraries to speed up builds of various tools.</li>
</ul>
<h4 id="backward-incompatible-changes-11">Backward Incompatible Changes:<a class="headerlink" href="#backward-incompatible-changes-11" title="Permanent link"> </a></h4>
<ul>
<li>The format for marks in <code class="syntax">Log</code> type tables that contain <code class="syntax">Nullable</code> columns was changed in a backward incompatible way. If you have these tables, you should convert them to the <code class="syntax">TinyLog</code> type before starting up the new server version. To do this, replace <code class="syntax">ENGINE = Log</code> with <code class="syntax">ENGINE = TinyLog</code> in the corresponding <code class="syntax">.sql</code> file in the <code class="syntax">metadata</code> directory. If your table does not have <code class="syntax">Nullable</code> columns or if the type of your table is not <code class="syntax">Log</code>, then you do not need to do anything.</li>
<li>Removed the <code class="syntax">experimental_allow_extended_storage_definition_syntax</code> setting. Now this feature is enabled by default.</li>
<li>The <code class="syntax">runningIncome</code> function was renamed to <code class="syntax">runningDifferenceStartingWithFirstvalue</code> to avoid confusion.</li>
<li>Removed the <code class="syntax">FROM ARRAY JOIN arr</code> syntax when ARRAY JOIN is specified directly after FROM with no table (Amos Bird).</li>
<li>Removed the <code class="syntax">BlockTabSeparated</code> format that was used solely for demonstration purposes.</li>
<li>Changed the state format for aggregate functions <code class="syntax">varSamp</code>, <code class="syntax">varPop</code>, <code class="syntax">stddevSamp</code>, <code class="syntax">stddevPop</code>, <code class="syntax">covarSamp</code>, <code class="syntax">covarPop</code>, <code class="syntax">corr</code>. If you have stored states of these aggregate functions in tables (using the <code class="syntax">AggregateFunction</code> data type or materialized views with corresponding states), please write to <a href="mailto:clickhouse-feedback@yandex-team.com">clickhouse-feedback@yandex-team.com</a>.</li>
<li>In previous server versions there was an undocumented feature: if an aggregate function depends on parameters, you can still specify it without parameters in the AggregateFunction data type. Example: <code class="syntax">AggregateFunction(quantiles, UInt64)</code> instead of <code class="syntax">AggregateFunction(quantiles(0.5, 0.9), UInt64)</code>. This feature was lost. Although it was undocumented, we plan to support it again in future releases.</li>
<li>Enum data types cannot be used in min/max aggregate functions. This ability will be returned in the next release.</li>
</ul>
<h4 id="please-note-when-upgrading">Please Note When Upgrading:<a class="headerlink" href="#please-note-when-upgrading" title="Permanent link"> </a></h4>
<ul>
<li>When doing a rolling update on a cluster, at the point when some of the replicas are running the old version of ClickHouse and some are running the new version, replication is temporarily stopped and the message <code class="syntax">unknown parameter 'shard'</code> appears in the log. Replication will continue after all replicas of the cluster are updated.</li>
<li>If different versions of ClickHouse are running on the cluster servers, it is possible that distributed queries using the following functions will have incorrect results: <code class="syntax">varSamp</code>, <code class="syntax">varPop</code>, <code class="syntax">stddevSamp</code>, <code class="syntax">stddevPop</code>, <code class="syntax">covarSamp</code>, <code class="syntax">covarPop</code>, <code class="syntax">corr</code>. You should update all cluster nodes.</li>
</ul>
<h2 id="changelog-for-2017"><a href="../2017/#clickhouse-release-1-1-54327-2017-12-21">Changelog for 2017</a><a class="headerlink" href="#changelog-for-2017" title="Permanent link"> </a></h2>
        

        
    </div>

    
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p>
  <span class="alert-heading display-6">Was this content helpful?</span>
  <div id="rating-stars" class="display-6 mb-0"
     
     data-titles="['Unusable', 'Poor', 'OK', 'Good', 'Excellent']"
     data-documentation="documentation"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2021 ClickHouse, Inc.</div>
    <div>Built from <a href="https://github.com/ClickHouse/ClickHouse/commit/0456f20bf4dfe43e56279f2734c4dda7e89f437b" rel="external nofollow noreferrer" target="_blank" class="text-reset">0456f20bf4</a>
    
    </div>
</div>

</div>

                
                    <div id="toc" class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5">
    
    
    <nav class="nav flex-column text-wrap">
    
        <label for="toc">Table of Contents</label>
    
    
        
        
        <a href="#clickhouse-release-18-16" title="ClickHouse Release 18.16" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.16
</a>

<nav id="toc-toc-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-16-1-2018-12-21" title="ClickHouse Release 18.16.1, 2018-12-21" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.16.1, 2018-12-21
</a>

<nav id="toc-toc-1-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#improvements" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#build-improvements" title="Build Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Build Improvements:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-16-0-2018-12-14" title="ClickHouse Release 18.16.0, 2018-12-14" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.16.0, 2018-12-14
</a>

<nav id="toc-toc-1-2" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#bug-fixes-1" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#improvements-1" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#build-improvements-1" title="Build Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Build Improvements:
</a>

    
        
        
        <a href="#backward-incompatible-changes" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14" title="ClickHouse Release 18.14" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14
</a>

<nav id="toc-toc-2" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-14-19-2018-12-19" title="ClickHouse Release 18.14.19, 2018-12-19" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.19, 2018-12-19
</a>

<nav id="toc-toc-2-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-2" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#build-improvements-2" title="Build Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Build Improvements:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-18-2018-12-04" title="ClickHouse Release 18.14.18, 2018-12-04" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.18, 2018-12-04
</a>

<nav id="toc-toc-2-2" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-3" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#build-changes" title="Build Changes:" class="nav-link text-wrap d-inline-block w-100">
    Build Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-17-2018-11-30" title="ClickHouse Release 18.14.17, 2018-11-30" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.17, 2018-11-30
</a>

<nav id="toc-toc-2-3" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-4" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-15-2018-11-21" title="ClickHouse Release 18.14.15, 2018-11-21" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.15, 2018-11-21
</a>

<nav id="toc-toc-2-4" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-5" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-14-2018-11-20" title="ClickHouse Release 18.14.14, 2018-11-20" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.14, 2018-11-20
</a>

<nav id="toc-toc-2-5" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-6" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#build-changes-1" title="Build Changes:" class="nav-link text-wrap d-inline-block w-100">
    Build Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-13-2018-11-08" title="ClickHouse Release 18.14.13, 2018-11-08" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.13, 2018-11-08
</a>

<nav id="toc-toc-2-6" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-7" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#performance-improvements" title="Performance Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Performance Improvements:
</a>

    
        
        
        <a href="#build-improvements-3" title="Build Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Build Improvements:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-12-2018-11-02" title="ClickHouse Release 18.14.12, 2018-11-02" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.12, 2018-11-02
</a>

<nav id="toc-toc-2-7" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-8" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-11-2018-10-29" title="ClickHouse Release 18.14.11, 2018-10-29" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.11, 2018-10-29
</a>

<nav id="toc-toc-2-8" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-9" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-14-10-2018-10-23" title="ClickHouse Release 18.14.10, 2018-10-23" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.10, 2018-10-23
</a>

    
        
        
        <a href="#clickhouse-release-18-14-9-2018-10-16" title="ClickHouse Release 18.14.9, 2018-10-16" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.14.9, 2018-10-16
</a>

<nav id="toc-toc-2-10" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-1" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#experimental-features" title="Experimental Features:" class="nav-link text-wrap d-inline-block w-100">
    Experimental Features:
</a>

    
        
        
        <a href="#improvements-2" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-10" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-1" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-12" title="ClickHouse Release 18.12" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.12
</a>

<nav id="toc-toc-3" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-12-17-2018-09-16" title="ClickHouse Release 18.12.17, 2018-09-16" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.12.17, 2018-09-16
</a>

<nav id="toc-toc-3-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-2" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#bug-fixes-11" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-2" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-12-14-2018-09-13" title="ClickHouse Release 18.12.14, 2018-09-13" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.12.14, 2018-09-13
</a>

<nav id="toc-toc-3-2" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-3" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-3" title="Improvements" class="nav-link text-wrap d-inline-block w-100">
    Improvements
</a>

    
        
        
        <a href="#bug-fixes-12" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-12-13-2018-09-10" title="ClickHouse Release 18.12.13, 2018-09-10" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.12.13, 2018-09-10
</a>

<nav id="toc-toc-3-3" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-4" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#experimental-features-1" title="Experimental Features:" class="nav-link text-wrap d-inline-block w-100">
    Experimental Features:
</a>

    
        
        
        <a href="#improvements-4" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-13" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#security-fix" title="Security Fix:" class="nav-link text-wrap d-inline-block w-100">
    Security Fix:
</a>

    
        
        
        <a href="#backward-incompatible-changes-3" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
        
        
        <a href="#build-changes-2" title="Build Changes:" class="nav-link text-wrap d-inline-block w-100">
    Build Changes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-10" title="ClickHouse Release 18.10" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.10
</a>

<nav id="toc-toc-4" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-10-3-2018-08-13" title="ClickHouse Release 18.10.3, 2018-08-13" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.10.3, 2018-08-13
</a>

<nav id="toc-toc-4-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-5" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-5" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-14" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-4" title="Backward Incompatible Changes" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes
</a>

    
        
        
        <a href="#build-changes-3" title="Build Changes:" class="nav-link text-wrap d-inline-block w-100">
    Build Changes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-6" title="ClickHouse Release 18.6" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.6
</a>

<nav id="toc-toc-5" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-6-0-2018-08-02" title="ClickHouse Release 18.6.0, 2018-08-02" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.6.0, 2018-08-02
</a>

<nav id="toc-toc-5-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-6" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-6" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-5" title="ClickHouse Release 18.5" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.5
</a>

<nav id="toc-toc-6" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-5-1-2018-07-31" title="ClickHouse Release 18.5.1, 2018-07-31" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.5.1, 2018-07-31
</a>

<nav id="toc-toc-6-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-7" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-7" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-15" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-4" title="ClickHouse Release 18.4" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.4
</a>

<nav id="toc-toc-7" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-4-0-2018-07-28" title="ClickHouse Release 18.4.0, 2018-07-28" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.4.0, 2018-07-28
</a>

<nav id="toc-toc-7-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-8" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-8" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-16" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-5" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-18-1" title="ClickHouse Release 18.1" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.1
</a>

<nav id="toc-toc-8" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-18-1-0-2018-07-23" title="ClickHouse Release 18.1.0, 2018-07-23" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 18.1.0, 2018-07-23
</a>

<nav id="toc-toc-8-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-9" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-9" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-17" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-6" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1" title="ClickHouse Release 1.1" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1
</a>

<nav id="toc-toc-9" class="nav flex-column pl-2">
    
    
        
        
        <a href="#clickhouse-release-1-1-54394-2018-07-12" title="ClickHouse Release 1.1.54394, 2018-07-12" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54394, 2018-07-12
</a>

<nav id="toc-toc-9-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-10" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#bug-fixes-18" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54390-2018-07-06" title="ClickHouse Release 1.1.54390, 2018-07-06" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54390, 2018-07-06
</a>

<nav id="toc-toc-9-2" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-11" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-10" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-19" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#security-fix-1" title="Security Fix:" class="nav-link text-wrap d-inline-block w-100">
    Security Fix:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54388-2018-06-28" title="ClickHouse Release 1.1.54388, 2018-06-28" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54388, 2018-06-28
</a>

<nav id="toc-toc-9-3" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-12" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#experimental-features-2" title="Experimental Features:" class="nav-link text-wrap d-inline-block w-100">
    Experimental Features:
</a>

    
        
        
        <a href="#bug-fixes-20" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#improvements-11" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#build-changes-4" title="Build Changes:" class="nav-link text-wrap d-inline-block w-100">
    Build Changes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-7" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54385-2018-06-01" title="ClickHouse Release 1.1.54385, 2018-06-01" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54385, 2018-06-01
</a>

<nav id="toc-toc-9-4" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-21" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54383-2018-05-22" title="ClickHouse Release 1.1.54383, 2018-05-22" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54383, 2018-05-22
</a>

<nav id="toc-toc-9-5" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-22" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54381-2018-05-14" title="ClickHouse Release 1.1.54381, 2018-05-14" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54381, 2018-05-14
</a>

<nav id="toc-toc-9-6" class="nav flex-column pl-2">
    
    
        
        
        <a href="#bug-fixes-23" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54380-2018-04-21" title="ClickHouse Release 1.1.54380, 2018-04-21" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54380, 2018-04-21
</a>

<nav id="toc-toc-9-7" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-13" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-12" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-24" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-8" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54378-2018-04-16" title="ClickHouse Release 1.1.54378, 2018-04-16" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54378, 2018-04-16
</a>

<nav id="toc-toc-9-8" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-14" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-13" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-25" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#build-changes-5" title="Build Changes:" class="nav-link text-wrap d-inline-block w-100">
    Build Changes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-9" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54370-2018-03-16" title="ClickHouse Release 1.1.54370, 2018-03-16" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54370, 2018-03-16
</a>

<nav id="toc-toc-9-9" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-15" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-14" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-26" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54362-2018-03-11" title="ClickHouse Release 1.1.54362, 2018-03-11" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54362, 2018-03-11
</a>

<nav id="toc-toc-9-10" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-16" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#improvements-15" title="Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Improvements:
</a>

    
        
        
        <a href="#bug-fixes-27" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#backward-incompatible-changes-10" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
</nav>

    
        
        
        <a href="#clickhouse-release-1-1-54343-2018-02-05" title="ClickHouse Release 1.1.54343, 2018-02-05" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54343, 2018-02-05
</a>

    
        
        
        <a href="#clickhouse-release-1-1-54342-2018-01-22" title="ClickHouse Release 1.1.54342, 2018-01-22" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54342, 2018-01-22
</a>

    
        
        
        <a href="#clickhouse-release-1-1-54337-2018-01-18" title="ClickHouse Release 1.1.54337, 2018-01-18" class="nav-link text-wrap d-inline-block w-100">
    ClickHouse Release 1.1.54337, 2018-01-18
</a>

<nav id="toc-toc-9-13" class="nav flex-column pl-2">
    
    
        
        
        <a href="#new-features-17" title="New Features:" class="nav-link text-wrap d-inline-block w-100">
    New Features:
</a>

    
        
        
        <a href="#performance-optimizations" title="Performance Optimizations:" class="nav-link text-wrap d-inline-block w-100">
    Performance Optimizations:
</a>

    
        
        
        <a href="#bug-fixes-28" title="Bug Fixes:" class="nav-link text-wrap d-inline-block w-100">
    Bug Fixes:
</a>

    
        
        
        <a href="#build-improvements-4" title="Build Improvements:" class="nav-link text-wrap d-inline-block w-100">
    Build Improvements:
</a>

    
        
        
        <a href="#backward-incompatible-changes-11" title="Backward Incompatible Changes:" class="nav-link text-wrap d-inline-block w-100">
    Backward Incompatible Changes:
</a>

    
        
        
        <a href="#please-note-when-upgrading" title="Please Note When Upgrading:" class="nav-link text-wrap d-inline-block w-100">
    Please Note When Upgrading:
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#changelog-for-2017" title="Changelog for 2017" class="nav-link text-wrap d-inline-block w-100">
    Changelog for 2017
</a>

    
    </nav>
</div>
                
            </div>
        </div>
    

    
        
        <script async type="text/javascript" src="/js/base.js?js_digest"></script>



<noscript>
    <div><img src="https://mc.yandex.ru/watch/18343495" alt="Yandex"/></div>
</noscript>
    </div>
</body>
</html>