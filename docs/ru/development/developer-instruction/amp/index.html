










    



    



    



    
    






    <!doctype html>
<html ⚡ lang="ru">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>Инструкция для разработчиков | Документация ClickHouse</title>
    <link rel="canonical" href="https://clickhouse.com/docs/ru/development/developer-instruction/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Инструкция для разработчиков | Документация ClickHouse",
"mainEntityOfPage": "https://clickhouse.com/docs/ru/development/developer-instruction/",




"image": "https://clickhouse.com/images/clickhouse-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "ClickHouse, Inc.",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.com/images/logo-400x240.png",
    "width": 400,
    "height": 240
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Инструкция для разработчиков | Документация ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>

    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>@charset "UTF-8";:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--brand-primary:#fc0;--brand-secondary:#ff3939;--primary-accent-yellow:#fc0;--primary-accent-light-yellow:#fffaf0;--primary-accent-blue:#257af4;--primary-accent-light-blue:#e3f1fe;--secondary-accent-orange:#ff8c00;--secondary-accent-light-orange:#ffe4b5;--secondary-accent-red:#ff3939;--secondary-accent-light-red:#ffe4e1;--primary:#fc0;--secondary:#212529;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f1f6f9;--dark:#495057;--primary-light:#fffaf0;--secondary-light:#fff;--tertiary:#257af4;--tertiary-light:#e3f1fe;--white:#fff;--black:#212529;--blue:#257af4;--light-blue:#e3f1fe;--yellow:#fc0;--light-yellow:#fffaf0;--orange:#ff8c00;--light-orange:#ffe4b5;--red:#ff3939;--light-red:#ffe4e1;--medium:#d6dbdf;--breakpoint-xxs:0;--breakpoint-xs:400px;--breakpoint-sm:616px;--breakpoint-md:768px;--breakpoint-lg:980px;--breakpoint-xl:1240px;--font-family-sans-serif:"Noto Sans",sans-serif;--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(33,37,41,0)}article,footer{display:block}body{margin:0;font-family:"Noto Sans",sans-serif;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:16px}p{margin-top:0;margin-bottom:1rem}b{font-weight:bolder}a{color:#ff8c00;text-decoration:none;background-color:transparent}a:hover{color:#ff8c00;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}label{display:inline-block;margin-bottom:.5rem}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:16px;font-family:"Hind Siliguri",sans-serif;font-weight:500;line-height:1.125}.h1,h1{font-size:2.5rem}@media(max-width:1200px){.h1,h1{font-size:calc(1.375rem+1.5vw)}}.h2,h2{font-size:2rem}@media(max-width:1200px){.h2,h2{font-size:calc(1.325rem+.9vw)}}.h3,h3{font-size:1.75rem}@media(max-width:1200px){.h3,h3{font-size:calc(1.3rem+.6vw)}}.h4,h4{font-size:1.5rem}@media(max-width:1200px){.h4,h4{font-size:calc(1.275rem+.3vw)}}.h5,h5{font-size:1.125rem}.h6,h6{font-size:.875rem}.display-1{font-size:4rem;font-weight:600;line-height:1.125}@media(max-width:1200px){.display-1{font-size:calc(1.525rem+3.3vw)}}.display-2{font-size:2.5rem;font-weight:600;line-height:1.125}@media(max-width:1200px){.display-2{font-size:calc(1.375rem+1.5vw)}}.display-3{font-size:2rem;font-weight:500;line-height:1.125}@media(max-width:1200px){.display-3{font-size:calc(1.325rem+.9vw)}}.display-4{font-size:1.75rem;font-weight:500;line-height:1.125}@media(max-width:1200px){.display-4{font-size:calc(1.3rem+.6vw)}}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#495057}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}@media(min-width:400px){.container{max-width:576px}}@media(min-width:616px){.container{max-width:576px}}@media(min-width:768px){.container{max-width:958px}}@media(min-width:980px){.container{max-width:1008px}}@media(min-width:1240px){.container{max-width:1118px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}@media(min-width:400px){.container{max-width:576px}}@media(min-width:616px){.container{max-width:576px}}@media(min-width:768px){.container,.container-md{max-width:958px}}@media(min-width:980px){.container,.container-lg,.container-md{max-width:1008px}}@media(min-width:1240px){.container,.container-lg,.container-md{max-width:1118px}}.row{display:flex;flex-wrap:wrap;margin-right:-20px;margin-left:-20px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:20px;padding-left:20px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{flex:0 0 100%;max-width:100%}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}@media(min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.col-md-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{flex:0 0 100%;max-width:100%}.order-md-0{order:0}.order-md-1{order:1}.order-md-2{order:2}.order-md-3{order:3}.order-md-4{order:4}.order-md-5{order:5}.order-md-6{order:6}.order-md-7{order:7}.order-md-8{order:8}.order-md-9{order:9}.order-md-10{order:10}.order-md-11{order:11}.order-md-12{order:12}}@media(min-width:980px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.col-lg-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.order-lg-0{order:0}.order-lg-1{order:1}.order-lg-2{order:2}.order-lg-3{order:3}.order-lg-4{order:4}.order-lg-5{order:5}.order-lg-6{order:6}.order-lg-7{order:7}.order-lg-8{order:8}.order-lg-9{order:9}.order-lg-10{order:10}.order-lg-11{order:11}.order-lg-12{order:12}}.table{width:100%;margin-bottom:8px;color:#212529}.table-warning{background-color:#ffeeba}.table-light{background-color:#fbfcfd}.table-dark{background-color:#ccced0}.table-white{background-color:#fff}.table-black{background-color:#c1c2c3}.table-orange{background-color:#ffdfb8}.table-light-orange{background-color:#fff7ea}.table-dark{color:#fff;background-color:#343a40}.btn{display:inline-block;font-family:inherit;font-weight:700;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:12px 32px;font-size:.875rem;line-height:20px;border-radius:8px;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:none}.btn:disabled{opacity:.65}.btn-warning{color:#495057;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#495057;background-color:#e0a800;border-color:#d39e00}.btn-warning:focus{color:#495057;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 0 rgba(228,176,19,.5)}.btn-warning:disabled{color:#495057;background-color:#ffc107;border-color:#ffc107}.btn-light{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-light:hover{color:#495057;background-color:#d6e5ee;border-color:#cddfea}.btn-light:focus{color:#495057;background-color:#d6e5ee;border-color:#cddfea;box-shadow:0 0 0 0 rgba(216,221,225,.5)}.btn-light:disabled{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-dark{color:#fff;background-color:#495057;border-color:#495057}.btn-dark:hover{color:#fff;background-color:#383d42;border-color:#32373b}.btn-dark:focus{color:#fff;background-color:#383d42;border-color:#32373b;box-shadow:0 0 0 0 rgba(100,106,112,.5)}.btn-dark:disabled{color:#fff;background-color:#495057;border-color:#495057}.btn-white{color:#495057;background-color:#fff;border-color:#fff}.btn-white:hover{color:#495057;background-color:#ececec;border-color:#e6e6e6}.btn-white:focus{color:#495057;background-color:#ececec;border-color:#e6e6e6;box-shadow:0 0 0 0 rgba(228,229,230,.5)}.btn-white:disabled{color:#495057;background-color:#fff;border-color:#fff}.btn-black{color:#fff;background-color:#212529;border-color:#212529}.btn-black:hover{color:#fff;background-color:#101214;border-color:#0a0c0d}.btn-black:focus{color:#fff;background-color:#101214;border-color:#0a0c0d;box-shadow:0 0 0 0 rgba(66,70,73,.5)}.btn-black:disabled{color:#fff;background-color:#212529;border-color:#212529}.btn-orange{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-orange:hover{color:#fff;background-color:#d97700;border-color:#cc7000}.btn-orange:focus{color:#fff;background-color:#d97700;border-color:#cc7000;box-shadow:0 0 0 0 rgba(228,131,13,.5)}.btn-orange:disabled{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-light-orange{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-light-orange:hover{color:#495057;background-color:#ffd68f;border-color:#ffd182}.btn-light-orange:focus{color:#495057;background-color:#ffd68f;border-color:#ffd182;box-shadow:0 0 0 0 rgba(228,206,167,.5)}.btn-light-orange:disabled{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#495057;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:focus{box-shadow:0 0 0 0 rgba(255,193,7,.5)}.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-light{color:#f1f6f9;border-color:#f1f6f9}.btn-outline-light:hover{color:#495057;background-color:#f1f6f9;border-color:#f1f6f9}.btn-outline-light:focus{box-shadow:0 0 0 0 rgba(241,246,249,.5)}.btn-outline-light:disabled{color:#f1f6f9;background-color:transparent}.btn-outline-dark{color:#495057;border-color:#495057}.btn-outline-dark:hover{color:#fff;background-color:#495057;border-color:#495057}.btn-outline-dark:focus{box-shadow:0 0 0 0 rgba(73,80,87,.5)}.btn-outline-dark:disabled{color:#495057;background-color:transparent}.btn-outline-white{color:#fff;border-color:#fff}.btn-outline-white:hover{color:#495057;background-color:#fff;border-color:#fff}.btn-outline-white:focus{box-shadow:0 0 0 0 rgba(255,255,255,.5)}.btn-outline-white:disabled{color:#fff;background-color:transparent}.btn-outline-black{color:#212529;border-color:#212529}.btn-outline-black:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-black:focus{box-shadow:0 0 0 0 rgba(33,37,41,.5)}.btn-outline-black:disabled{color:#212529;background-color:transparent}.btn-outline-orange{color:#ff8c00;border-color:#ff8c00}.btn-outline-orange:hover{color:#495057;background-color:#ff8c00;border-color:#ff8c00}.btn-outline-orange:focus{box-shadow:0 0 0 0 rgba(255,140,0,.5)}.btn-outline-orange:disabled{color:#ff8c00;background-color:transparent}.btn-outline-light-orange{color:#ffe4b5;border-color:#ffe4b5}.btn-outline-light-orange:hover{color:#495057;background-color:#ffe4b5;border-color:#ffe4b5}.btn-outline-light-orange:focus{box-shadow:0 0 0 0 rgba(255,228,181,.5)}.btn-outline-light-orange:disabled{color:#ffe4b5;background-color:transparent}.btn-link{font-weight:400;color:#ff8c00;text-decoration:none}.btn-link:hover{color:#ff8c00;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#d6dbdf;pointer-events:none}.btn-lg{padding:16px 32px;font-size:1.125rem;line-height:26px;border-radius:8px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:24px}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em+.75rem+2px);padding:.375rem .75rem;font-weight:400;line-height:1.5;color:#6c757d;background-color:#fff;border:1px solid #ced4da;border-radius:8px}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(1.5em+.75rem);padding:.375rem .75rem;line-height:1.5;color:#6c757d;content:"Browse";background-color:#e9ecef;border-left:inherit;border-radius:0 8px 8px 0}.custom-file-label{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.custom-file-label{transition:none}}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:8px}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-warning{color:#947617;background-color:#fff3cd;border-color:#ffeeba}.alert-warning .alert-link{color:#685310}.alert-light{color:#8d9295;background-color:#fcfdfe;border-color:#fbfcfd}.alert-light .alert-link{color:#73797c}.alert-dark{color:#363b41;background-color:#dbdcdd;border-color:#ccced0}.alert-dark .alert-link{color:#1f2225}.alert-white{color:#949698;background-color:#fff;border-color:#fff}.alert-white .alert-link{color:#7a7d7f}.alert-black{color:#212529;background-color:#d3d3d4;border-color:#c1c2c3}.alert-black .alert-link{color:#0a0c0d}.alert-orange{color:#945b14;background-color:#ffe8cc;border-color:#ffdfb8}.alert-orange .alert-link{color:#673f0e}.alert-light-orange{color:#948872;background-color:#fffaf0;border-color:#fff7ea}.alert-light-orange .alert-link{color:#786e5b}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:8px}@-webkit-keyframes spinner-border{to{transform:rotate(360deg)}}@keyframes spinner-border{to{transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1}}.bg-warning{background-color:#ffc107}a.bg-warning:focus,a.bg-warning:hover{background-color:#d39e00}.bg-light{background-color:#f1f6f9}a.bg-light:focus,a.bg-light:hover{background-color:#cddfea}.bg-dark{background-color:#495057}a.bg-dark:focus,a.bg-dark:hover{background-color:#32373b}.bg-white{background-color:#fff}a.bg-white:focus,a.bg-white:hover{background-color:#e6e6e6}.bg-black{background-color:#212529}a.bg-black:focus,a.bg-black:hover{background-color:#0a0c0d}.bg-orange{background-color:#ff8c00}a.bg-orange:focus,a.bg-orange:hover{background-color:#cc7000}.bg-light-orange{background-color:#ffe4b5}a.bg-light-orange:focus,a.bg-light-orange:hover{background-color:#ffd182}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:980px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:980px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports(position:sticky){.sticky-top{position:sticky;top:0;z-index:1020}}.w-25{width:25%}.w-50{width:50%}.w-75{width:75%}.w-100{width:100%}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:8px}.my-1{margin-top:8px}.mr-1{margin-right:8px}.mb-1,.my-1{margin-bottom:8px}.m-2{margin:16px}.my-2{margin-top:16px}.mr-2{margin-right:16px}.mb-2,.my-2{margin-bottom:16px}.m-3{margin:24px}.my-3{margin-top:24px}.mr-3{margin-right:24px}.mb-3,.my-3{margin-bottom:24px}.m-4{margin:32px}.my-4{margin-top:32px}.mr-4{margin-right:32px}.mb-4,.my-4{margin-bottom:32px}.m-5{margin:40px}.my-5{margin-top:40px}.mr-5{margin-right:40px}.mb-5,.my-5{margin-bottom:40px}.m-6{margin:48px}.my-6{margin-top:48px}.mr-6{margin-right:48px}.mb-6,.my-6{margin-bottom:48px}.m-7{margin:56px}.my-7{margin-top:56px}.mr-7{margin-right:56px}.mb-7,.my-7{margin-bottom:56px}.m-8{margin:64px}.my-8{margin-top:64px}.mr-8{margin-right:64px}.mb-8,.my-8{margin-bottom:64px}.m-9{margin:72px}.my-9{margin-top:72px}.mr-9{margin-right:72px}.mb-9,.my-9{margin-bottom:72px}.m-10{margin:80px}.my-10{margin-top:80px}.mr-10{margin-right:80px}.mb-10,.my-10{margin-bottom:80px}.m-12{margin:96px}.my-12{margin-top:96px}.mr-12{margin-right:96px}.mb-12,.my-12{margin-bottom:96px}.m-15{margin:120px}.my-15{margin-top:120px}.mr-15{margin-right:120px}.mb-15,.my-15{margin-bottom:120px}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:8px}.pt-1,.py-1{padding-top:8px}.pb-1,.py-1{padding-bottom:8px}.p-2{padding:16px}.pt-2,.py-2{padding-top:16px}.pb-2,.py-2{padding-bottom:16px}.p-3{padding:24px}.pt-3,.py-3{padding-top:24px}.pb-3,.py-3{padding-bottom:24px}.p-4{padding:32px}.pt-4,.py-4{padding-top:32px}.pb-4,.py-4{padding-bottom:32px}.p-5{padding:40px}.pt-5,.py-5{padding-top:40px}.pb-5,.py-5{padding-bottom:40px}.p-6{padding:48px}.pt-6,.py-6{padding-top:48px}.pb-6,.py-6{padding-bottom:48px}.p-7{padding:56px}.pt-7,.py-7{padding-top:56px}.pb-7,.py-7{padding-bottom:56px}.p-8{padding:64px}.pt-8,.py-8{padding-top:64px}.pb-8,.py-8{padding-bottom:64px}.p-9{padding:72px}.pt-9,.py-9{padding-top:72px}.pb-9,.py-9{padding-bottom:72px}.p-10{padding:80px}.pt-10,.py-10{padding-top:80px}.pb-10,.py-10{padding-bottom:80px}.p-12{padding:96px}.pt-12,.py-12{padding-top:96px}.pb-12,.py-12{padding-bottom:96px}.p-15{padding:120px}.pt-15,.py-15{padding-top:120px}.pb-15,.py-15{padding-bottom:120px}.m-n1{margin:-8px}.my-n1{margin-top:-8px}.mr-n1{margin-right:-8px}.mb-n1,.my-n1{margin-bottom:-8px}.m-n2{margin:-16px}.my-n2{margin-top:-16px}.mr-n2{margin-right:-16px}.mb-n2,.my-n2{margin-bottom:-16px}.m-n3{margin:-24px}.my-n3{margin-top:-24px}.mr-n3{margin-right:-24px}.mb-n3,.my-n3{margin-bottom:-24px}.m-n4{margin:-32px}.my-n4{margin-top:-32px}.mr-n4{margin-right:-32px}.mb-n4,.my-n4{margin-bottom:-32px}.m-n5{margin:-40px}.my-n5{margin-top:-40px}.mr-n5{margin-right:-40px}.mb-n5,.my-n5{margin-bottom:-40px}.m-n6{margin:-48px}.my-n6{margin-top:-48px}.mr-n6{margin-right:-48px}.mb-n6,.my-n6{margin-bottom:-48px}.m-n7{margin:-56px}.my-n7{margin-top:-56px}.mr-n7{margin-right:-56px}.mb-n7,.my-n7{margin-bottom:-56px}.m-n8{margin:-64px}.my-n8{margin-top:-64px}.mr-n8{margin-right:-64px}.mb-n8,.my-n8{margin-bottom:-64px}.m-n9{margin:-72px}.my-n9{margin-top:-72px}.mr-n9{margin-right:-72px}.mb-n9,.my-n9{margin-bottom:-72px}.m-n10{margin:-80px}.my-n10{margin-top:-80px}.mr-n10{margin-right:-80px}.mb-n10,.my-n10{margin-bottom:-80px}.m-n12{margin:-96px}.my-n12{margin-top:-96px}.mr-n12{margin-right:-96px}.mb-n12,.my-n12{margin-bottom:-96px}.m-n15{margin:-120px}.my-n15{margin-top:-120px}.mr-n15{margin-right:-120px}.mb-n15,.my-n15{margin-bottom:-120px}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:8px}.my-md-1{margin-top:8px}.mr-md-1{margin-right:8px}.mb-md-1,.my-md-1{margin-bottom:8px}.m-md-2{margin:16px}.my-md-2{margin-top:16px}.mr-md-2{margin-right:16px}.mb-md-2,.my-md-2{margin-bottom:16px}.m-md-3{margin:24px}.my-md-3{margin-top:24px}.mr-md-3{margin-right:24px}.mb-md-3,.my-md-3{margin-bottom:24px}.m-md-4{margin:32px}.my-md-4{margin-top:32px}.mr-md-4{margin-right:32px}.mb-md-4,.my-md-4{margin-bottom:32px}.m-md-5{margin:40px}.my-md-5{margin-top:40px}.mr-md-5{margin-right:40px}.mb-md-5,.my-md-5{margin-bottom:40px}.m-md-6{margin:48px}.my-md-6{margin-top:48px}.mr-md-6{margin-right:48px}.mb-md-6,.my-md-6{margin-bottom:48px}.m-md-7{margin:56px}.my-md-7{margin-top:56px}.mr-md-7{margin-right:56px}.mb-md-7,.my-md-7{margin-bottom:56px}.m-md-8{margin:64px}.my-md-8{margin-top:64px}.mr-md-8{margin-right:64px}.mb-md-8,.my-md-8{margin-bottom:64px}.m-md-9{margin:72px}.my-md-9{margin-top:72px}.mr-md-9{margin-right:72px}.mb-md-9,.my-md-9{margin-bottom:72px}.m-md-10{margin:80px}.my-md-10{margin-top:80px}.mr-md-10{margin-right:80px}.mb-md-10,.my-md-10{margin-bottom:80px}.m-md-12{margin:96px}.my-md-12{margin-top:96px}.mr-md-12{margin-right:96px}.mb-md-12,.my-md-12{margin-bottom:96px}.m-md-15{margin:120px}.my-md-15{margin-top:120px}.mr-md-15{margin-right:120px}.mb-md-15,.my-md-15{margin-bottom:120px}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:8px}.pt-md-1,.py-md-1{padding-top:8px}.pb-md-1,.py-md-1{padding-bottom:8px}.p-md-2{padding:16px}.pt-md-2,.py-md-2{padding-top:16px}.pb-md-2,.py-md-2{padding-bottom:16px}.p-md-3{padding:24px}.pt-md-3,.py-md-3{padding-top:24px}.pb-md-3,.py-md-3{padding-bottom:24px}.p-md-4{padding:32px}.pt-md-4,.py-md-4{padding-top:32px}.pb-md-4,.py-md-4{padding-bottom:32px}.p-md-5{padding:40px}.pt-md-5,.py-md-5{padding-top:40px}.pb-md-5,.py-md-5{padding-bottom:40px}.p-md-6{padding:48px}.pt-md-6,.py-md-6{padding-top:48px}.pb-md-6,.py-md-6{padding-bottom:48px}.p-md-7{padding:56px}.pt-md-7,.py-md-7{padding-top:56px}.pb-md-7,.py-md-7{padding-bottom:56px}.p-md-8{padding:64px}.pt-md-8,.py-md-8{padding-top:64px}.pb-md-8,.py-md-8{padding-bottom:64px}.p-md-9{padding:72px}.pt-md-9,.py-md-9{padding-top:72px}.pb-md-9,.py-md-9{padding-bottom:72px}.p-md-10{padding:80px}.pt-md-10,.py-md-10{padding-top:80px}.pb-md-10,.py-md-10{padding-bottom:80px}.p-md-12{padding:96px}.pt-md-12,.py-md-12{padding-top:96px}.pb-md-12,.py-md-12{padding-bottom:96px}.p-md-15{padding:120px}.pt-md-15,.py-md-15{padding-top:120px}.pb-md-15,.py-md-15{padding-bottom:120px}.m-md-n1{margin:-8px}.my-md-n1{margin-top:-8px}.mr-md-n1{margin-right:-8px}.mb-md-n1,.my-md-n1{margin-bottom:-8px}.m-md-n2{margin:-16px}.my-md-n2{margin-top:-16px}.mr-md-n2{margin-right:-16px}.mb-md-n2,.my-md-n2{margin-bottom:-16px}.m-md-n3{margin:-24px}.my-md-n3{margin-top:-24px}.mr-md-n3{margin-right:-24px}.mb-md-n3,.my-md-n3{margin-bottom:-24px}.m-md-n4{margin:-32px}.my-md-n4{margin-top:-32px}.mr-md-n4{margin-right:-32px}.mb-md-n4,.my-md-n4{margin-bottom:-32px}.m-md-n5{margin:-40px}.my-md-n5{margin-top:-40px}.mr-md-n5{margin-right:-40px}.mb-md-n5,.my-md-n5{margin-bottom:-40px}.m-md-n6{margin:-48px}.my-md-n6{margin-top:-48px}.mr-md-n6{margin-right:-48px}.mb-md-n6,.my-md-n6{margin-bottom:-48px}.m-md-n7{margin:-56px}.my-md-n7{margin-top:-56px}.mr-md-n7{margin-right:-56px}.mb-md-n7,.my-md-n7{margin-bottom:-56px}.m-md-n8{margin:-64px}.my-md-n8{margin-top:-64px}.mr-md-n8{margin-right:-64px}.mb-md-n8,.my-md-n8{margin-bottom:-64px}.m-md-n9{margin:-72px}.my-md-n9{margin-top:-72px}.mr-md-n9{margin-right:-72px}.mb-md-n9,.my-md-n9{margin-bottom:-72px}.m-md-n10{margin:-80px}.my-md-n10{margin-top:-80px}.mr-md-n10{margin-right:-80px}.mb-md-n10,.my-md-n10{margin-bottom:-80px}.m-md-n12{margin:-96px}.my-md-n12{margin-top:-96px}.mr-md-n12{margin-right:-96px}.mb-md-n12,.my-md-n12{margin-bottom:-96px}.m-md-n15{margin:-120px}.my-md-n15{margin-top:-120px}.mr-md-n15{margin-right:-120px}.mb-md-n15,.my-md-n15{margin-bottom:-120px}}@media(min-width:980px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:8px}.my-lg-1{margin-top:8px}.mr-lg-1{margin-right:8px}.mb-lg-1,.my-lg-1{margin-bottom:8px}.m-lg-2{margin:16px}.my-lg-2{margin-top:16px}.mr-lg-2{margin-right:16px}.mb-lg-2,.my-lg-2{margin-bottom:16px}.m-lg-3{margin:24px}.my-lg-3{margin-top:24px}.mr-lg-3{margin-right:24px}.mb-lg-3,.my-lg-3{margin-bottom:24px}.m-lg-4{margin:32px}.my-lg-4{margin-top:32px}.mr-lg-4{margin-right:32px}.mb-lg-4,.my-lg-4{margin-bottom:32px}.m-lg-5{margin:40px}.my-lg-5{margin-top:40px}.mr-lg-5{margin-right:40px}.mb-lg-5,.my-lg-5{margin-bottom:40px}.m-lg-6{margin:48px}.my-lg-6{margin-top:48px}.mr-lg-6{margin-right:48px}.mb-lg-6,.my-lg-6{margin-bottom:48px}.m-lg-7{margin:56px}.my-lg-7{margin-top:56px}.mr-lg-7{margin-right:56px}.mb-lg-7,.my-lg-7{margin-bottom:56px}.m-lg-8{margin:64px}.my-lg-8{margin-top:64px}.mr-lg-8{margin-right:64px}.mb-lg-8,.my-lg-8{margin-bottom:64px}.m-lg-9{margin:72px}.my-lg-9{margin-top:72px}.mr-lg-9{margin-right:72px}.mb-lg-9,.my-lg-9{margin-bottom:72px}.m-lg-10{margin:80px}.my-lg-10{margin-top:80px}.mr-lg-10{margin-right:80px}.mb-lg-10,.my-lg-10{margin-bottom:80px}.m-lg-12{margin:96px}.my-lg-12{margin-top:96px}.mr-lg-12{margin-right:96px}.mb-lg-12,.my-lg-12{margin-bottom:96px}.m-lg-15{margin:120px}.my-lg-15{margin-top:120px}.mr-lg-15{margin-right:120px}.mb-lg-15,.my-lg-15{margin-bottom:120px}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:8px}.pt-lg-1,.py-lg-1{padding-top:8px}.pb-lg-1,.py-lg-1{padding-bottom:8px}.p-lg-2{padding:16px}.pt-lg-2,.py-lg-2{padding-top:16px}.pb-lg-2,.py-lg-2{padding-bottom:16px}.p-lg-3{padding:24px}.pt-lg-3,.py-lg-3{padding-top:24px}.pb-lg-3,.py-lg-3{padding-bottom:24px}.p-lg-4{padding:32px}.pt-lg-4,.py-lg-4{padding-top:32px}.pb-lg-4,.py-lg-4{padding-bottom:32px}.p-lg-5{padding:40px}.pt-lg-5,.py-lg-5{padding-top:40px}.pb-lg-5,.py-lg-5{padding-bottom:40px}.p-lg-6{padding:48px}.pt-lg-6,.py-lg-6{padding-top:48px}.pb-lg-6,.py-lg-6{padding-bottom:48px}.p-lg-7{padding:56px}.pt-lg-7,.py-lg-7{padding-top:56px}.pb-lg-7,.py-lg-7{padding-bottom:56px}.p-lg-8{padding:64px}.pt-lg-8,.py-lg-8{padding-top:64px}.pb-lg-8,.py-lg-8{padding-bottom:64px}.p-lg-9{padding:72px}.pt-lg-9,.py-lg-9{padding-top:72px}.pb-lg-9,.py-lg-9{padding-bottom:72px}.p-lg-10{padding:80px}.pt-lg-10,.py-lg-10{padding-top:80px}.pb-lg-10,.py-lg-10{padding-bottom:80px}.p-lg-12{padding:96px}.pt-lg-12,.py-lg-12{padding-top:96px}.pb-lg-12,.py-lg-12{padding-bottom:96px}.p-lg-15{padding:120px}.pt-lg-15,.py-lg-15{padding-top:120px}.pb-lg-15,.py-lg-15{padding-bottom:120px}.m-lg-n1{margin:-8px}.my-lg-n1{margin-top:-8px}.mr-lg-n1{margin-right:-8px}.mb-lg-n1,.my-lg-n1{margin-bottom:-8px}.m-lg-n2{margin:-16px}.my-lg-n2{margin-top:-16px}.mr-lg-n2{margin-right:-16px}.mb-lg-n2,.my-lg-n2{margin-bottom:-16px}.m-lg-n3{margin:-24px}.my-lg-n3{margin-top:-24px}.mr-lg-n3{margin-right:-24px}.mb-lg-n3,.my-lg-n3{margin-bottom:-24px}.m-lg-n4{margin:-32px}.my-lg-n4{margin-top:-32px}.mr-lg-n4{margin-right:-32px}.mb-lg-n4,.my-lg-n4{margin-bottom:-32px}.m-lg-n5{margin:-40px}.my-lg-n5{margin-top:-40px}.mr-lg-n5{margin-right:-40px}.mb-lg-n5,.my-lg-n5{margin-bottom:-40px}.m-lg-n6{margin:-48px}.my-lg-n6{margin-top:-48px}.mr-lg-n6{margin-right:-48px}.mb-lg-n6,.my-lg-n6{margin-bottom:-48px}.m-lg-n7{margin:-56px}.my-lg-n7{margin-top:-56px}.mr-lg-n7{margin-right:-56px}.mb-lg-n7,.my-lg-n7{margin-bottom:-56px}.m-lg-n8{margin:-64px}.my-lg-n8{margin-top:-64px}.mr-lg-n8{margin-right:-64px}.mb-lg-n8,.my-lg-n8{margin-bottom:-64px}.m-lg-n9{margin:-72px}.my-lg-n9{margin-top:-72px}.mr-lg-n9{margin-right:-72px}.mb-lg-n9,.my-lg-n9{margin-bottom:-72px}.m-lg-n10{margin:-80px}.my-lg-n10{margin-top:-80px}.mr-lg-n10{margin-right:-80px}.mb-lg-n10,.my-lg-n10{margin-bottom:-80px}.m-lg-n12{margin:-96px}.my-lg-n12{margin-top:-96px}.mr-lg-n12{margin-right:-96px}.mb-lg-n12,.my-lg-n12{margin-bottom:-96px}.m-lg-n15{margin:-120px}.my-lg-n15{margin-top:-120px}.mr-lg-n15{margin-right:-120px}.mb-lg-n15,.my-lg-n15{margin-bottom:-120px}}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:980px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-warning{color:#ffc107}a.text-warning:focus,a.text-warning:hover{color:#ba8b00}.text-light{color:#f1f6f9}a.text-light:focus,a.text-light:hover{color:#bbd4e2}.text-dark{color:#495057}a.text-dark:focus,a.text-dark:hover{color:#262a2d}.text-white{color:#fff}a.text-white:focus,a.text-white:hover{color:#d9d9d9}.text-black{color:#212529}a.text-black:focus,a.text-black:hover{color:#000}.text-orange{color:#ff8c00}a.text-orange:focus,a.text-orange:hover{color:#b36200}.text-light-orange{color:#ffe4b5}a.text-light-orange:focus,a.text-light-orange:hover{color:#ffc869}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(33,37,41,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #d6dbdf;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:980px}.container{min-width:980px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}.blog a:link,.blog a:visited,.docs a:link,.docs a:visited{color:#f14600;text-decoration:none}.blog a:active,.blog a:hover,.docs a:active,.docs a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.w-15{width:15%}.height-20{height:20px}details{background:#444451;color:#eee;padding:1rem;margin-bottom:1rem;margin-top:1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body.blog,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}@media(prefers-color-scheme:dark){.syntax{background:#2d2d2d;color:#f2f0ec}.syntax .c{color:#747369}.syntax .err{color:#f2777a}.syntax .k{color:#c9c}.syntax .l{color:#f99157}.syntax .n{color:#f2f0ec}.syntax .o{color:#6cc}.syntax .p{color:#f2f0ec}.syntax .cp{color:#747369}.syntax .c1{color:#747369}.syntax .ld{color:#9c9}.syntax .m{color:#f99157}.syntax .s{color:#9c9}.syntax .na{color:#69c}.syntax .nb{color:#f2f0ec}.syntax .no{color:#f2777a}.syntax .nl{color:#f2f0ec}.syntax .py{color:#f2f0ec}.syntax .nv{color:#f2777a}.syntax .w{color:#f2f0ec}.syntax .mi{color:#f99157}.syntax .s2{color:#9c9}.syntax .sh{color:#9c9}.syntax .s1{color:#9c9}}@media screen and (max-width:978.98px){.btn{padding:8px 16px}}@media screen and (max-width:978.98px){.btn-lg{padding:12px 24px}}img{max-width:100%}.display-5{color:#212529;font-size:20px;font-weight:500}.display-6{color:#212529;font-size:14px;font-weight:700}</style>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body class="amp" dir="ltr">
    <div class="container-fluid container-lg pb-5">
      <div class="row pt-3 mb-3">
        <div class="col">
          <a href="/" class="text-decoration-none">
            <amp-img class="d-inline-block mr-3" layout="fixed" width="40" height="36" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout="fixed" width="238" height="36" src="/images/clickhouse-black.svg" alt="ClickHouse" title="ClickHouse"></amp-img>
          </a>
        </div>
      </div>
      <div class="row">
        <div id="content" class="col">
          
          <h1 id=instruktsiia-dlia-razrabotchikov>Инструкция для разработчиков<a class=headerlink href=../amp/#instruktsiia-dlia-razrabotchikov title="Permanent link"> </a></h1> <p>Сборка ClickHouse поддерживается на Linux, FreeBSD, Mac OS X.</p> <h2 id=esli-vy-ispolzuete-windows>Если вы используете Windows<a class=headerlink href=../amp/#esli-vy-ispolzuete-windows title="Permanent link"> </a></h2> <p>Если вы используете Windows, вам потребуется создать виртуальную машину с Ubuntu. Для работы с виртуальной машиной, установите VirtualBox. Скачать Ubuntu можно на сайте: <a href=https://www.ubuntu.com/#download target=_blank>https://www.ubuntu.com/#download</a> Создайте виртуальную машину из полученного образа. Выделите для неё не менее 4 GB оперативной памяти. Для запуска терминала в Ubuntu, найдите в меню программу со словом terminal (gnome-terminal, konsole или что-то в этом роде) или нажмите Ctrl+Alt+T.</p> <h2 id=esli-vy-ispolzuete-32-bitnuiu-sistemu>Если вы используете 32-битную систему<a class=headerlink href=../amp/#esli-vy-ispolzuete-32-bitnuiu-sistemu title="Permanent link"> </a></h2> <p>ClickHouse не работает и не собирается на 32-битных системах. Получите доступ к 64-битной системе и продолжайте.</p> <h2 id=sozdanie-repozitoriia-na-github>Создание репозитория на GitHub<a class=headerlink href=../amp/#sozdanie-repozitoriia-na-github title="Permanent link"> </a></h2> <p>Для работы с репозиторием ClickHouse, вам потребуется аккаунт на GitHub. Наверное, он у вас уже есть.</p> <p>Если аккаунта нет - зарегистрируйтесь на <a href=https://github.com/ target=_blank>https://github.com/</a>. Создайте ssh ключи, если их нет, и загрузите публичные ключи на GitHub. Это потребуется для отправки изменений. Для работы с GitHub можно использовать такие же ssh ключи, как и для работы с другими ssh серверами - скорее всего, они уже у вас есть.</p> <p>Создайте fork репозитория ClickHouse. Для этого, на странице <a href=https://github.com/ClickHouse/ClickHouse target=_blank>https://github.com/ClickHouse/ClickHouse</a> нажмите на кнопку «fork» в правом верхнем углу. Вы получите полную копию репозитория ClickHouse на своём аккаунте, которая называется «форк». Процесс разработки состоит в том, чтобы внести нужные изменения в свой форк репозитория, а затем создать «pull request» для принятия изменений в основной репозиторий.</p> <p>Для работы с git репозиториями, установите <code class=syntax>git</code>.</p> <p>В Ubuntu выполните в терминале:</p> <div class=codehilite><pre><span></span><code class=syntax>sudo apt update
sudo apt install git
</code></pre></div> <p>Краткое руководство по использованию Git: <a href=https://education.github.com/git-cheat-sheet-education.pdf target=_blank>https://education.github.com/git-cheat-sheet-education.pdf</a></p> <p>Подробное руководство по использованию Git: <a href=https://git-scm.com/book/ru/v2 target=_blank>https://git-scm.com/book/ru/v2</a></p> <h2 id=klonirovanie-repozitoriia-na-rabochuiu-mashinu>Клонирование репозитория на рабочую машину<a class=headerlink href=../amp/#klonirovanie-repozitoriia-na-rabochuiu-mashinu title="Permanent link"> </a></h2> <p>Затем вам потребуется загрузить исходники для работы на свой компьютер. Это называется «клонирование репозитория», потому что создаёт на вашем компьютере локальную копию репозитория, с которой вы будете работать.</p> <p>Выполните в терминале:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>git</span><span class=w> </span><span class=n>clone</span><span class=w> </span><span class=o>--</span><span class=k>recursive</span><span class=w> </span><span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=nl>com</span><span class=p>:</span><span class=n>ClickHouse</span><span class=o>/</span><span class=n>ClickHouse</span><span class=p>.</span><span class=n>git</span><span class=w></span>
<span class=n>cd</span><span class=w> </span><span class=n>ClickHouse</span><span class=w></span>
</code></pre></div> <p>Замените первое вхождение слова <code class=syntax>ClickHouse</code> в команде для git на имя вашего аккаунта на GitHub.</p> <p>Эта команда создаст директорию ClickHouse, содержащую рабочую копию проекта.</p> <p>Необходимо, чтобы путь к рабочей копии не содержал пробелы в именах директорий. Это может привести к проблемам в работе системы сборки.</p> <p>Обратите внимание, что репозиторий ClickHouse использует submodules. Так называются ссылки на дополнительные репозитории (например, внешние библиотеки, от которых зависит проект). Это значит, что при клонировании репозитория, следует указывать ключ <code class=syntax>--recursive</code>, как в примере выше. Если репозиторий был клонирован без submodules, то для их скачивания, необходимо выполнить:</p> <div class=codehilite><pre><span></span><code class=syntax>git submodule init
git submodule update
</code></pre></div> <p>Проверить наличие submodules можно с помощью команды <code class=syntax>git submodule status</code>.</p> <p>Если вы получили сообщение об ошибке:</p> <div class=codehilite><pre><span></span><code class=syntax>Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre></div> <p>Как правило это означает, что отсутствуют ssh ключи для соединения с GitHub. Ключи расположены в директории <code class=syntax>~/.ssh</code>. В интерфейсе GitHub, в настройках, необходимо загрузить публичные ключи, чтобы он их понимал.</p> <p>Вы также можете клонировать репозиторий по протоколу https:</p> <div class=codehilite><pre><span></span><code class=syntax>git clone https://github.com/ClickHouse/ClickHouse.git
</code></pre></div> <p>Этот вариант не подходит для отправки изменений на сервер. Вы можете временно его использовать, а затем добавить ssh ключи и заменить адрес репозитория с помощью команды <code class=syntax>git remote</code>.</p> <p>Вы можете также добавить для своего локального репозитория адрес оригинального репозитория Яндекса, чтобы притягивать оттуда обновления:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>git</span><span class=w> </span><span class=n>remote</span><span class=w> </span><span class=k>add</span><span class=w> </span><span class=n>upstream</span><span class=w> </span><span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=nl>com</span><span class=p>:</span><span class=n>ClickHouse</span><span class=o>/</span><span class=n>ClickHouse</span><span class=p>.</span><span class=n>git</span><span class=w></span>
</code></pre></div> <p>После этого, вы сможете добавлять в свой репозиторий обновления из репозитория Яндекса с помощью команды <code class=syntax>git pull upstream master</code>.</p> <h3 id=rabota-s-sabmoduliami-git>Работа с сабмодулями Git<a class=headerlink href=../amp/#rabota-s-sabmoduliami-git title="Permanent link"> </a></h3> <p>Работа с сабмодулями git может быть достаточно болезненной. Следующие команды позволят содержать их в порядке:</p> <div class=codehilite><pre><span></span><code class=syntax># ! Каждая команда принимает аргумент --recursive
# Обновить URLs удалённого репозитория для каждого сабмодуля, используется относительно редко
git submodule sync
# Добавить новые сабмодули
git submodule init
# Обновить сабмодули до актуального состояния
git submodule update
# Две последние команды могут быть объединены вместе:
git submodule update --init
</code></pre></div> <p>Следующие команды помогут сбросить все сабмодули в изначальное состояние (!ВНИМАНИЕ! - все изменения в сабмодулях будут утеряны):</p> <div class=codehilite><pre><span></span><code class=syntax># Synchronizes submodules' remote URL with .gitmodules
# Обновить URLs удалённого репозитория для каждого сабмодуля
git submodule sync --recursive
# Обновить существующие модули и добавить отсутствующие
git submodule update --init --recursive
# Удалить все изменения в сабмодуле относительно HEAD
git submodule foreach git reset --hard
# Очистить игнорируемые файлы
git submodule foreach git clean -xfd
# Повторить последние 4 команды для каждого из сабмодулей
git submodule foreach git submodule sync --recursive
git submodule foreach git submodule update --init --recursive
git submodule foreach git submodule foreach git reset --hard
git submodule foreach git submodule foreach git clean -xfd
</code></pre></div> <h2 id=sistema-sborki>Система сборки<a class=headerlink href=../amp/#sistema-sborki title="Permanent link"> </a></h2> <p>ClickHouse использует систему сборки CMake и Ninja.</p> <p>CMake - генератор задач сборки.<br> Ninja - система запуска сборочных задач.</p> <p>Для установки на Ubuntu или Debian, Mint, выполните <code class=syntax>sudo apt install cmake ninja-build</code>.</p> <p>Для установки на CentOS, RedHat, выполните <code class=syntax>sudo yum install cmake ninja-build</code>.</p> <p>Если у вас Arch или Gentoo, то вы сами знаете, как установить CMake.</p> <p>Для установки CMake и Ninja на Mac OS X, сначала установите Homebrew, а затем, с помощью него, установите всё остальное.</p> <div class=codehilite><pre><span></span><code class=syntax>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
brew install cmake ninja
</code></pre></div> <p>Проверьте версию CMake: <code class=syntax>cmake --version</code>. Если версия меньше 3.12, то установите новую версию с сайта <a href=https://cmake.org/download/ target=_blank>https://cmake.org/download/</a></p> <h2 id=neobiazatelnye-vneshnie-biblioteki>Необязательные внешние библиотеки<a class=headerlink href=../amp/#neobiazatelnye-vneshnie-biblioteki title="Permanent link"> </a></h2> <p>ClickHouse использует для сборки некоторое количество внешних библиотек. Но ни одну из них не требуется отдельно устанавливать, так как они собираются вместе с ClickHouse, из исходников, которые расположены в submodules. Посмотреть набор этих библиотек можно в директории contrib.</p> <h2 id=kompiliator-c>Компилятор C++<a class=headerlink href=../amp/#kompiliator-c title="Permanent link"> </a></h2> <p>В качестве компилятора C++ поддерживается Clang начиная с версии 11.</p> <p>Впрочем, наша среда continuous integration проверяет около десятка вариантов сборки, включая gcc, но сборка с помощью gcc непригодна для использования в продакшене.</p> <p>На Ubuntu и Debian вы можете использовать скрипт для автоматической установки (см. <a href=https://apt.llvm.org/ rel="external nofollow noreferrer" target=_blank>официальный сайт</a>)</p> <div class=codehilite><pre><span></span><code class=syntax>sudo bash -c <span class=s2>"</span><span class=k>$(</span>wget -O - https://apt.llvm.org/llvm.sh<span class=k>)</span><span class=s2>"</span>
</code></pre></div> <p>Сборка под Mac OS X поддерживается только для компилятора Clang. Чтобы установить его выполните <code class=syntax>brew install llvm</code></p> <h2 id=protsess-sborki>Процесс сборки<a class=headerlink href=../amp/#protsess-sborki title="Permanent link"> </a></h2> <p>Теперь вы готовы к сборке ClickHouse. Для размещения собранных файлов, рекомендуется создать отдельную директорию build внутри директории ClickHouse:</p> <div class=codehilite><pre><span></span><code class=syntax>mkdir build
cd build
</code></pre></div> <p>Вы можете иметь несколько разных директорий (build_release, build_debug) для разных вариантов сборки.</p> <p>Находясь в директории build, выполните конфигурацию сборки с помощью CMake.<br> Перед первым запуском необходимо выставить переменные окружения, отвечающие за выбор компилятора.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>export</span> <span class=n>CC</span><span class=o>=</span><span class=n>clang</span> <span class=n>CXX</span><span class=o>=</span><span class=n>clang</span><span class=o>++</span>
<span class=n>cmake</span> <span class=o>..</span>
</code></pre></div> <p>Переменная CC отвечает за компилятор C (сокращение от слов C Compiler), переменная CXX отвечает за выбор компилятора C++ (символ X - это как плюс, но положенный набок, ради того, чтобы превратить его в букву). При получении ошибки типа <code class=syntax>Could not find compiler set in environment variable CC: clang</code> необходимо указать в значениях для переменных CC и CXX явную версию компилятора, например, <code class=syntax>clang-12</code> и <code class=syntax>clang++-12</code>.</p> <p>Для более быстрой сборки, можно использовать debug вариант - сборку без оптимизаций. Для этого, укажите параметр <code class=syntax>-D CMAKE_BUILD_TYPE=Debug</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>cmake -D CMAKE_BUILD_TYPE=Debug ..
</code></pre></div> <p>В случае использования на разработческой машине старого HDD или SSD, а также при желании использовать меньше места для артефактов сборки можно использовать следующую команду:</p> <div class=codehilite><pre><span></span><code class=syntax>cmake -DUSE_DEBUG_HELPERS<span class=o>=</span><span class=m>1</span> -DUSE_STATIC_LIBRARIES<span class=o>=</span><span class=m>0</span> -DSPLIT_SHARED_LIBRARIES<span class=o>=</span><span class=m>1</span> -DCLICKHOUSE_SPLIT_BINARY<span class=o>=</span><span class=m>1</span> ..
</code></pre></div> <p>При этом надо учесть, что получаемые в результате сборки исполнимые файлы будут динамически слинкованы с библиотеками, и поэтому фактически станут непереносимыми на другие компьютеры (либо для этого нужно будет предпринять значительно больше усилий по сравнению со статической сборкой). Плюсом же в данном случае является значительно меньшее время сборки (это проявляется не на первой сборке, а на последующих, после внесения изменений в исходный код - тратится меньшее время на линковку по сравнению со статической сборкой) и значительно меньшее использование места на жёстком диске (экономия более, чем в 3 раза по сравнению со статической сборкой). Для целей разработки, когда планируются только отладочные запуски на том же компьютере, где осуществлялась сборка, это может быть наиболее удобным вариантом.</p> <p>Вы можете изменить вариант сборки, выполнив новую команду в директории build.</p> <p>Запустите ninja для сборки:</p> <div class=codehilite><pre><span></span><code class=syntax>ninja clickhouse-server clickhouse-client
</code></pre></div> <p>В этом примере собираются только нужные в первую очередь программы.</p> <p>Если вы хотите собрать все программы (утилиты и тесты), то запустите ninja без параметров:</p> <div class=codehilite><pre><span></span><code class=syntax>ninja
</code></pre></div> <p>Для полной сборки требуется около 30 GB свободного места на диске или 15 GB для сборки только основных программ.</p> <p>При наличии небольшого количества оперативной памяти на компьютере, следует ограничить количество параллельных задач с помощью параметра <code class=syntax>-j</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>ninja -j 1 clickhouse-server clickhouse-client
</code></pre></div> <p>На машинах с 4 GB памяти, рекомендуется указывать значение 1, а если памяти до 8 GB, укажите значение 2.</p> <p>Если вы получили сообщение <code class=syntax>ninja: error: loading 'build.ninja': No such file or directory</code>, значит конфигурация сборки прошла с ошибкой и вам необходимо посмотреть на сообщение об ошибке выше.</p> <p>В случае успешного запуска, вы увидите прогресс сборки - количество обработанных задач и общее количество задач.</p> <p>В процессе сборки могут появится сообщения <code class=syntax>libprotobuf WARNING</code> про protobuf файлы в библиотеке libhdfs2. Это не имеет значения.</p> <p>В случае получения ошибок вида <code class=syntax>error: variable 'y' set but not used [-Werror,-Wunused-but-set-variable]</code> ножно попробовать использовать другую версию компилятора сlang. Например, на момент написания данного текста описанная выше команда по установке clang для Ubuntu 20.04 по-умолчанию устанавливает clang-13, с которым возникает эта ошибка. Для решения проблемы можно установить clang-12 с помощью команд:</p> <div class=codehilite><pre><span></span><code class=syntax>wget https://apt.llvm.org/llvm.sh
chmod +x llvm.sh
sudo ./llvm.sh <span class=m>12</span>
</code></pre></div> <p>И далее использовать именно его, указав соответствующую версию при установке переменных окружения CC и CXX перед вызовом cmake.</p> <p>При успешной сборке, вы получите готовый исполняемый файл <code class=syntax>ClickHouse/build/programs/clickhouse</code>:</p> <div class=codehilite><pre><span></span><code class=syntax>ls -l programs/clickhouse
</code></pre></div> <h2 id=zapusk-sobrannoi-versii-clickhouse>Запуск собранной версии ClickHouse<a class=headerlink href=../amp/#zapusk-sobrannoi-versii-clickhouse title="Permanent link"> </a></h2> <p>Для запуска сервера из под текущего пользователя, с выводом логов в терминал и с использованием примеров конфигурационных файлов, расположенных в исходниках, перейдите в директорию <code class=syntax>ClickHouse/programs/server/</code> (эта директория находится не в директории build) и выполните:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=cp>../../build/programs/clickhouse server</span>
</code></pre></div> <p>В этом случае, ClickHouse будет использовать конфигурационные файлы, расположенные в текущей директории. Вы можете запустить <code class=syntax>clickhouse server</code> из любой директории, передав ему путь к конфигурационному файлу в аргументе командной строки <code class=syntax>--config-file</code>.</p> <p>Для подключения к ClickHouse с помощью clickhouse-client, в соседнем терминале, зайдите в директорию <code class=syntax>ClickHouse/build/programs/</code> и выполните <code class=syntax>./clickhouse client</code>.</p> <p>Если вы получили сообщение <code class=syntax>Connection refused</code> на Mac OS X или FreeBSD, то укажите для клиента 127.0.0.1 в качестве имени хоста:</p> <div class=codehilite><pre><span></span><code class=syntax>clickhouse client --host 127.0.0.1
</code></pre></div> <p>Вы можете заменить собранным вами ClickHouse продакшен версию, установленную в системе. Для этого, установите ClickHouse на свою машину по инструкции с официального сайта. Затем выполните:</p> <div class=codehilite><pre><span></span><code class=syntax>sudo service clickhouse-server stop
sudo cp ClickHouse/build/programs/clickhouse /usr/bin/
sudo service clickhouse-server start
</code></pre></div> <p>Обратите внимание, что <code class=syntax>clickhouse-client</code>, <code class=syntax>clickhouse-server</code> и другие, являеются симлинками на общий бинарник <code class=syntax>clickhouse</code>.</p> <p>Также вы можете запустить собранный вами ClickHouse с конфигурационным файлом системного ClickHouse:</p> <div class=codehilite><pre><span></span><code class=syntax>sudo service clickhouse-server stop
sudo -u clickhouse ClickHouse/build/programs/clickhouse server --config-file /etc/clickhouse-server/config.xml
</code></pre></div> <h2 id=sreda-razrabotki>Среда разработки<a class=headerlink href=../amp/#sreda-razrabotki title="Permanent link"> </a></h2> <p>Если вы не знаете, какую среду разработки использовать, то рекомендуется использовать CLion. CLion является платным ПО, но его можно использовать бесплатно в течение пробного периода. Также он бесплатен для учащихся. CLion можно использовать как под Linux, так и под Mac OS X.</p> <p>Также в качестве среды разработки, вы можете использовать KDevelop или QTCreator. KDevelop - очень удобная, но нестабильная среда разработки. Если KDevelop вылетает через небольшое время после открытия проекта, вам следует нажать на кнопку «Stop All» как только он открыл список файлов проекта. После этого, KDevelop можно будет использовать.</p> <p>В качестве простых редакторов кода можно использовать Sublime Text или Visual Studio Code или Kate (все варианты доступны под Linux).</p> <p>На всякий случай заметим, что CLion самостоятельно создаёт свою build директорию, самостоятельно выбирает тип сборки debug по-умолчанию, для конфигурации использует встроенную в CLion версию CMake вместо установленного вами, а для запуска задач использует make вместо ninja (но при желании начиная с версии CLion 2019.3 EAP можно настроить использование ninja, см. подробнее <a href=https://blog.jetbrains.com/clion/2019/10/clion-2019-3-eap-ninja-cmake-generators/ rel="external nofollow noreferrer" target=_blank>тут</a>). Это нормально, просто имейте это ввиду, чтобы не возникало путаницы.</p> <h2 id=napisanie-koda>Написание кода<a class=headerlink href=../amp/#napisanie-koda title="Permanent link"> </a></h2> <p>Описание архитектуры ClickHouse: <a href=https://clickhouse.com/docs/ru/development/architecture/ target=_blank>https://clickhouse.com/docs/ru/development/architecture/</a></p> <p>Стиль кода: <a href=https://clickhouse.com/docs/ru/development/style/ target=_blank>https://clickhouse.com/docs/ru/development/style/</a></p> <p>Рекомендации по добавлению сторонних библиотек и поддержанию в них пользовательских изменений: <a href=https://clickhouse.com/docs/ru/development/contrib/#adding-third-party-libraries target=_blank>https://clickhouse.com/docs/ru/development/contrib/#adding-third-party-libraries</a></p> <p>Разработка тестов: <a href=https://clickhouse.com/docs/ru/development/tests/ target=_blank>https://clickhouse.com/docs/ru/development/tests/</a></p> <p>Список задач: <a href="https://github.com/ClickHouse/ClickHouse/issues?q=is%3Aopen+is%3Aissue+label%3A%22easy+task%22" target=_blank>https://github.com/ClickHouse/ClickHouse/issues?q=is%3Aopen+is%3Aissue+label%3A%22easy+task%22</a></p> <h2 id=testovye-dannye>Тестовые данные<a class=headerlink href=../amp/#testovye-dannye title="Permanent link"> </a></h2> <p>Разработка ClickHouse часто требует загрузки реалистичных наборов данных. Особенно это важно для тестирования производительности. Специально для вас мы подготовили набор данных, представляющий собой анонимизированные данные Яндекс.Метрики. Загрузка этих данных потребует ещё 3 GB места на диске. Для выполнения большинства задач разработки, загружать эти данные не обязательно.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>sudo</span> <span class=n>apt</span> <span class=n>install</span> <span class=n>wget</span> <span class=n>xz</span><span class=o>-</span><span class=n>utils</span>

<span class=n>wget</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>datasets</span><span class=o>.</span><span class=n>clickhouse</span><span class=o>.</span><span class=n>tech</span><span class=o>/</span><span class=n>hits</span><span class=o>/</span><span class=n>tsv</span><span class=o>/</span><span class=n>hits_v1</span><span class=o>.</span><span class=n>tsv</span><span class=o>.</span><span class=n>xz</span>
<span class=n>wget</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>datasets</span><span class=o>.</span><span class=n>clickhouse</span><span class=o>.</span><span class=n>tech</span><span class=o>/</span><span class=n>visits</span><span class=o>/</span><span class=n>tsv</span><span class=o>/</span><span class=n>visits_v1</span><span class=o>.</span><span class=n>tsv</span><span class=o>.</span><span class=n>xz</span>

<span class=n>xz</span> <span class=o>-</span><span class=n>v</span> <span class=o>-</span><span class=n>d</span> <span class=n>hits_v1</span><span class=o>.</span><span class=n>tsv</span><span class=o>.</span><span class=n>xz</span>
<span class=n>xz</span> <span class=o>-</span><span class=n>v</span> <span class=o>-</span><span class=n>d</span> <span class=n>visits_v1</span><span class=o>.</span><span class=n>tsv</span><span class=o>.</span><span class=n>xz</span>

<span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span>

<span class=n>CREATE</span> <span class=n>TABLE</span> <span class=n>test</span><span class=o>.</span><span class=n>hits</span> <span class=p>(</span> <span class=n>WatchID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>JavaEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Title</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>GoodEvent</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>EventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>EventDate</span> <span class=n>Date</span><span class=p>,</span>  <span class=n>CounterID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>RegionID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>UserID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>CounterClass</span> <span class=n>Int8</span><span class=p>,</span>  <span class=n>OS</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>UserAgent</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>URL</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>Referer</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>URLDomain</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>RefererDomain</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>Refresh</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsRobot</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>RefererCategories</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLCategories</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLRegions</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>RefererRegions</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>ResolutionWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ResolutionHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ResolutionDepth</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMinor2</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>NetMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>NetMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>UserAgentMajor</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>UserAgentMinor</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>  <span class=n>CookieEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>JavascriptEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsMobile</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>MobilePhone</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>MobilePhoneModel</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>Params</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>IPNetworkID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>TraficSourceID</span> <span class=n>Int8</span><span class=p>,</span>  <span class=n>SearchEngineID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SearchPhrase</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>AdvEngineID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsArtifical</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>WindowClientWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>WindowClientHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClientTimeZone</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>ClientEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>SilverlightVersion1</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion2</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion3</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>SilverlightVersion4</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>PageCharset</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>CodeVersion</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>IsLink</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsDownload</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsNotBounce</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FUniqID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>HID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>IsOldCounter</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsEvent</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsParameter</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>DontCountHits</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>WithHash</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>HitColor</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>1</span><span class=p>),</span>  <span class=n>UTCEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>Age</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Sex</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Income</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Interests</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>Robotness</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>GeneralInterests</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>RemoteIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>RemoteIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>WindowName</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>OpenerName</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>HistoryLength</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>BrowserLanguage</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>  <span class=n>BrowserCountry</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>  <span class=n>SocialNetwork</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>SocialAction</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>HTTPError</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SendTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DNSTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ConnectTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ResponseStartTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ResponseEndTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>FetchTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>RedirectTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DOMInteractiveTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DOMContentLoadedTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DOMCompleteTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>LoadEventStartTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>LoadEventEndTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>NSToDOMContentLoadedTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>FirstPaintTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>RedirectCount</span> <span class=n>Int8</span><span class=p>,</span>  <span class=n>SocialSourceNetworkID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SocialSourcePage</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ParamPrice</span> <span class=n>Int64</span><span class=p>,</span>  <span class=n>ParamOrderID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ParamCurrency</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span>  <span class=n>ParamCurrencyID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>GoalsReached</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>OpenstatServiceName</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>OpenstatCampaignID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>OpenstatAdID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>OpenstatSourceID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMSource</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMMedium</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMCampaign</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMContent</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMTerm</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>FromTag</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>HasGCLID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>RefererHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>URLHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>CLID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>YCLID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>ShareService</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ShareURL</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ShareTitle</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key1</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key2</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key3</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key4</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key5</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>ValueDouble</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Float64</span><span class=p>),</span>  <span class=n>IslandID</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>RequestNum</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>RequestTry</span> <span class=n>UInt8</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span> <span class=n>PARTITION</span> <span class=n>BY</span> <span class=n>toYYYYMM</span><span class=p>(</span><span class=n>EventDate</span><span class=p>)</span> <span class=n>SAMPLE</span> <span class=n>BY</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>)</span> <span class=n>ORDER</span> <span class=n>BY</span> <span class=p>(</span><span class=n>CounterID</span><span class=p>,</span> <span class=n>EventDate</span><span class=p>,</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>),</span> <span class=n>EventTime</span><span class=p>);</span>

<span class=n>CREATE</span> <span class=n>TABLE</span> <span class=n>test</span><span class=o>.</span><span class=n>visits</span> <span class=p>(</span> <span class=n>CounterID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>StartDate</span> <span class=n>Date</span><span class=p>,</span>  <span class=n>Sign</span> <span class=n>Int8</span><span class=p>,</span>  <span class=n>IsNew</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>VisitID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UserID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>StartTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>Duration</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>UTCStartTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>PageViews</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>Hits</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>IsBounce</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Referer</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>StartURL</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>RefererDomain</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>StartURLDomain</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>EndURL</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>LinkURL</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>IsDownload</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>TraficSourceID</span> <span class=n>Int8</span><span class=p>,</span>  <span class=n>SearchEngineID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SearchPhrase</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>AdvEngineID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>PlaceID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>RefererCategories</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLCategories</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLRegions</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>RefererRegions</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>IsYandex</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>GoalReachesDepth</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>GoalReachesURL</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>GoalReachesAny</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>SocialSourceNetworkID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SocialSourcePage</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>MobilePhoneModel</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClientEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>RegionID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>RemoteIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>RemoteIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>IPNetworkID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>SilverlightVersion3</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>CodeVersion</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ResolutionWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ResolutionHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>UserAgentMajor</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>UserAgentMinor</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>WindowClientWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>WindowClientHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SilverlightVersion2</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion4</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>FlashVersion3</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>FlashVersion4</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClientTimeZone</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>OS</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>UserAgent</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>ResolutionDepth</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>NetMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>NetMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>MobilePhone</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion1</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Age</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Sex</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Income</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>JavaEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>CookieEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>JavascriptEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsMobile</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>BrowserLanguage</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>BrowserCountry</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>Interests</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>Robotness</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>GeneralInterests</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>Params</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>Goals</span><span class=o>.</span><span class=n>ID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Goals</span><span class=o>.</span><span class=n>Serial</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Goals</span><span class=o>.</span><span class=n>EventTime</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>DateTime</span><span class=p>),</span>  <span class=err>`</span><span class=n>Goals</span><span class=o>.</span><span class=n>Price</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Int64</span><span class=p>),</span>  <span class=err>`</span><span class=n>Goals</span><span class=o>.</span><span class=n>OrderID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>Goals</span><span class=o>.</span><span class=n>CurrencyID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>WatchIDs</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt64</span><span class=p>),</span>  <span class=n>ParamSumPrice</span> <span class=n>Int64</span><span class=p>,</span>  <span class=n>ParamCurrency</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span>  <span class=n>ParamCurrencyID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClickLogID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>ClickEventID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickGoodEvent</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>ClickPriorityID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickPhraseID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickPageID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickPlaceID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickTypeID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickResourceID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickCost</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickClientIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickDomainID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickURL</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClickAttempt</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>ClickOrderID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickBannerID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickMarketCategoryID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickMarketPP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickMarketCategoryName</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClickMarketPPName</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClickAWAPSCampaignName</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClickPageName</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClickTargetType</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClickTargetPhraseID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>ClickContextType</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>ClickSelectType</span> <span class=n>Int8</span><span class=p>,</span>  <span class=n>ClickOptions</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>ClickGroupBannerID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>OpenstatServiceName</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>OpenstatCampaignID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>OpenstatAdID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>OpenstatSourceID</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMSource</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMMedium</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMCampaign</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMContent</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>UTMTerm</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>FromTag</span> <span class="nb nb-Type">String</span><span class=p>,</span>  <span class=n>HasGCLID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FirstVisit</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>PredLastVisit</span> <span class=n>Date</span><span class=p>,</span>  <span class=n>LastVisit</span> <span class=n>Date</span><span class=p>,</span>  <span class=n>TotalVisits</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>ID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Int8</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>SearchEngineID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>AdvEngineID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>PlaceID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>SocialSourceNetworkID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>Domain</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>SearchPhrase</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>TraficSource</span><span class=o>.</span><span class=n>SocialSourcePage</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=n>Attendance</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>CLID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>YCLID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>NormalizedRefererHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>SearchPhraseHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>RefererDomainHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>NormalizedStartURLHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>StartURLDomainHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>NormalizedEndURLHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>TopLevelDomain</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>URLScheme</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatServiceNameHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatCampaignIDHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatAdIDHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatSourceIDHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMSourceHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMMediumHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMCampaignHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMContentHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMTermHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>FromHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>WebVisorEnabled</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>WebVisorActivity</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key1</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key2</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key3</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key4</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>Key5</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>ParsedParams</span><span class=o>.</span><span class=n>ValueDouble</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Float64</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>Type</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>GoalID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>OrderID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>OrderPrice</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Int64</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>PP</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>DirectPlaceID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>DirectOrderID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>DirectBannerID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>GoodID</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>GoodName</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class="nb nb-Type">String</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>GoodQuantity</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Int32</span><span class=p>),</span>  <span class=err>`</span><span class=n>Market</span><span class=o>.</span><span class=n>GoodPrice</span><span class=err>`</span> <span class="nb nb-Type">Array</span><span class=p>(</span><span class=n>Int64</span><span class=p>),</span>  <span class=n>IslandID</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>))</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>CollapsingMergeTree</span><span class=p>(</span><span class=n>Sign</span><span class=p>)</span> <span class=n>PARTITION</span> <span class=n>BY</span> <span class=n>toYYYYMM</span><span class=p>(</span><span class=n>StartDate</span><span class=p>)</span> <span class=n>SAMPLE</span> <span class=n>BY</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>)</span> <span class=n>ORDER</span> <span class=n>BY</span> <span class=p>(</span><span class=n>CounterID</span><span class=p>,</span> <span class=n>StartDate</span><span class=p>,</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>),</span> <span class=n>VisitID</span><span class=p>);</span>

<span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span> <span class=o>--</span><span class=n>max_insert_block_size</span> <span class=mi>100000</span> <span class=o>--</span><span class=n>query</span> <span class=s2>"INSERT INTO test.hits FORMAT TSV"</span> <span class=o>&lt;</span> <span class=n>hits_v1</span><span class=o>.</span><span class=n>tsv</span>
<span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span> <span class=o>--</span><span class=n>max_insert_block_size</span> <span class=mi>100000</span> <span class=o>--</span><span class=n>query</span> <span class=s2>"INSERT INTO test.visits FORMAT TSV"</span> <span class=o>&lt;</span> <span class=n>visits_v1</span><span class=o>.</span><span class=n>tsv</span>
</code></pre></div> <h2 id=sozdanie-pull-request>Создание Pull Request<a class=headerlink href=../amp/#sozdanie-pull-request title="Permanent link"> </a></h2> <p>Откройте свой форк репозитория в интерфейсе GitHub. Если вы вели разработку в бранче, выберите этот бранч. На странице будет доступна кнопка «Pull request». По сути, это означает «создать заявку на принятие моих изменений в основной репозиторий».</p> <p>Pull request можно создать, даже если работа над задачей ещё не завершена. В этом случае, добавьте в его название слово «WIP» (work in progress). Название можно будет изменить позже. Это полезно для совместного просмотра и обсуждения изменений, а также для запуска всех имеющихся тестов. Введите краткое описание изменений - впоследствии, оно будет использовано для релизных changelog.</p> <p>Тесты будут запущены, как только сотрудники Яндекса поставят для pull request тег «Can be tested». Результаты первых проверок (стиль кода) появятся уже через несколько минут. Результаты сборки появятся примерно через пол часа. Результаты основного набора тестов будут доступны в пределах часа.</p> <p>Система подготовит сборки ClickHouse специально для вашего pull request. Для их получения, нажмите на ссылку «Details» у проверки «Clickhouse build check». Там вы сможете найти прямые ссылки на собранные .deb пакеты ClickHouse, которые, при желании, вы даже сможете установить на свои продакшен серверы (если не страшно).</p> <p>Вероятнее всего, часть сборок не будет успешной с первого раза. Ведь мы проверяем сборку кода и gcc и clang, а при сборке с помощью clang включаются почти все существующие в природе warnings (всегда с флагом <code class=syntax>-Werror</code>). На той же странице, вы сможете найти логи сборки - вам не обязательно самому собирать ClickHouse всеми возможными способами.</p>
        </div>
      </div>
      <div class="row">
        <div class="col">
          
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p>
  <span class="alert-heading display-6">Article Rating</span>
  <div id="rating-stars" class="display-6 mb-0"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2021 ClickHouse, Inc.</div>
    <div>Built from <a href="https://github.com/ClickHouse/ClickHouse/commit/0456f20bf4dfe43e56279f2734c4dda7e89f437b" rel="external nofollow noreferrer" target="_blank" class="text-reset">0456f20bf4</a>
    
    </div>
</div>

        </div>
      </div>
      <div id="to-full-website" class="row fixed-bottom text-center bg-white py-3">
        <div class="col">
          <a class="btn btn-lg btn-outline-orange" href="https://clickhouse.com/docs/ru/development/developer-instruction/">To full website</a>
        </div>
      </div>
    </div>
    <amp-analytics type="metrika">
      <script type="application/json">{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script>
  </amp-analytics>
  </body>
</html>
