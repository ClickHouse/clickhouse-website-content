<!DOCTYPE html><html lang=ru data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Функции для работы с датами и временем | Документация ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/images/logo-180x180.png><meta property=og:title content="Функции для работы с датами и временем | Документация ClickHouse"><meta property=og:description content="Функции для работы с датами и временем Поддержка часовых поясов Все функции по работе с датой и временем, для которых эт"><meta property=og:type content=article><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta content=https://clickhouse.tech/docs/ru/sql-reference/functions/date-time-functions/ property=og:url><link href=https://clickhouse.tech/docs/ru/sql-reference/functions/date-time-functions/ rel=canonical><link href=https://clickhouse.tech/docs/ru/sql-reference/functions/date-time-functions/amp/ rel=amphtml><link rel=search href=/opensearch.xml title=ClickHouse type=application/opensearchdescription+xml><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Функции для работы с датами и временем | Документация ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/ru/sql-reference/functions/date-time-functions/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Функции для работы с датами и временем | Документация ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><meta name=description content="Функции для работы с датами и временем Поддержка часовых поясов Все функции по работе с датой и временем, для которых эт"><meta name=keywords content="ClickHouse, DBMS, OLAP, SQL, open-source, relational, analytics, analytical, Big Data, web-analytics"><link rel=alternate href=https://clickhouse.tech/docs/en/sql-reference/functions/date-time-functions/ hreflang=en><link rel=alternate href=https://clickhouse.tech/docs/zh/sql-reference/functions/date-time-functions/ hreflang=zh><link rel=alternate href=https://clickhouse.tech/docs/ru/sql-reference/functions/date-time-functions/ hreflang=ru><link rel=alternate href=https://clickhouse.tech/docs/ja/sql-reference/functions/date-time-functions/ hreflang=ja><link rel=alternate href=https://clickhouse.tech/docs/en/sql-reference/functions/date-time-functions/ hreflang=x-default><link href=/css/base.css?48d3d791 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> Функции для работы с датами и временем </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li id=edit-wrapper class=nav-item> <a id=edit-link href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/sql-reference/functions/date-time-functions.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ru.svg alt=Русский title=Русский width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql-reference/functions/date-time-functions/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql-reference/functions/date-time-functions/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/ru/sql-reference/functions/date-time-functions/ class="dropdown-item disabled"> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql-reference/functions/date-time-functions/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Введение class="nav-link text-light dropdown-toggle px-0">Введение</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../../introduction/distinctive-features/ title="Отличительные возможности ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Отличительные возможности ClickHouse</a> <a href=../../../introduction/performance/ title=Производительность class="nav-link text-light text-wrap d-inline-block w-100 px-0">Производительность</a> <a href=../../../introduction/history/ title="История ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">История ClickHouse</a> <a href=../../../introduction/adopters/ title=Adopters class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adopters</a> <a href=../../../introduction/info/ title="Информационная поддержка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Информационная поддержка</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Начало работы" class="nav-link text-light dropdown-toggle px-0">Начало работы</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting-started/install/ title=Установка class="nav-link text-light text-wrap d-inline-block w-100 px-0">Установка</a> <a href=../../../getting-started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../../getting-started/playground/ title=Playground class="nav-link text-light text-wrap d-inline-block w-100 px-0">Playground</a> <a href=#sidebar-sidebar-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-5 title="Тестовые массивы данных" class="nav-link text-light dropdown-toggle px-0">Тестовые массивы данных</a> <div id=sidebar-sidebar-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting-started/example-datasets/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../getting-started/example-datasets/metrica/ title="Анонимизированные данные Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Анонимизированные данные Яндекс.Метрики</a> <a href=../../../getting-started/example-datasets/star-schema/ title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a> <a href=../../../getting-started/example-datasets/recipes/ title="Набор данных кулинарных рецептов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Набор данных кулинарных рецептов</a> <a href=../../../getting-started/example-datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../../getting-started/example-datasets/criteo/ title="Терабайт логов кликов от Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Терабайт логов кликов от Criteo</a> <a href=../../../getting-started/example-datasets/amplab-benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../../getting-started/example-datasets/brown-benchmark/ title="Brown University Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Brown University Benchmark</a> <a href=../../../getting-started/example-datasets/nyc-taxi/ title="Данные о такси в Нью-Йорке" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные о такси в Нью-Йорке</a> <a href=../../../getting-started/example-datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../../getting-started/example-datasets/cell-towers/ title="Вышки сотовой связи" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Вышки сотовой связи</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Интерфейсы class="nav-link text-light dropdown-toggle px-0">Интерфейсы</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../interfaces/cli/ title="Клиент командной строки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиент командной строки</a> <a href=../../../interfaces/tcp/ title="Родной интерфейс (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Родной интерфейс (TCP)</a> <a href=../../../interfaces/http/ title=HTTP-интерфейс class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP-интерфейс</a> <a href=../../../interfaces/mysql/ title=MySQL-интерфейс class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL-интерфейс</a> <a href=../../../interfaces/formats/ title="Форматы входных и выходных данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Форматы входных и выходных данных</a> <a href=../../../interfaces/jdbc/ title=JDBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC-драйвер</a> <a href=../../../interfaces/odbc/ title=ODBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC-драйвер</a> <a href=../../../interfaces/cpp/ title="C++ клиентская библиотека" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ клиентская библиотека</a> <a href=#sidebar-sidebar-3-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-10 title="Сторонние интерфейсы" class="nav-link text-light dropdown-toggle px-0">Сторонние интерфейсы</a> <div id=sidebar-sidebar-3-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title="Сторонние интерфейсы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Сторонние интерфейсы</a> <a href=../../../interfaces/third-party/client-libraries/ title="Клиентские библиотеки от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиентские библиотеки от сторонних разработчиков</a> <a href=../../../interfaces/third-party/integrations/ title="Библиотеки для интеграции от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Библиотеки для интеграции от сторонних разработчиков</a> <a href=../../../interfaces/third-party/gui/ title="Визуальные интерфейсы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Визуальные интерфейсы от сторонних разработчиков</a> <a href=../../../interfaces/third-party/proxy/ title="Прокси-серверы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прокси-серверы от сторонних разработчиков</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Engines class="nav-link text-light dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title="Движки таблиц" class="nav-link text-light dropdown-toggle px-0">Движки таблиц</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-4-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-2 title="MergeTree Family" class="nav-link text-light dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-4-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/mergetree-family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../../engines/table-engines/mergetree-family/replication/ title="Репликация данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Репликация данных</a> <a href=../../../engines/table-engines/mergetree-family/custom-partitioning-key/ title="Произвольный ключ партиционирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Произвольный ключ партиционирования</a> <a href=../../../engines/table-engines/mergetree-family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-4-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-3 title="Семейство Log" class="nav-link text-light dropdown-toggle px-0">Семейство Log</a> <div id=sidebar-sidebar-4-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/log-family/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../engines/table-engines/log-family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table-engines/log-family/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../../engines/table-engines/log-family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-4-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-4 title="Движки таблиц для интеграции" class="nav-link text-light dropdown-toggle px-0">Движки таблиц для интеграции</a> <div id=sidebar-sidebar-4-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table-engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table-engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table-engines/integrations/s3/ title=S3 class="nav-link text-light text-wrap d-inline-block w-100 px-0">S3</a> <a href=../../../engines/table-engines/integrations/mongodb/ title=MongoDB class="nav-link text-light text-wrap d-inline-block w-100 px-0">MongoDB</a> <a href=../../../engines/table-engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> <a href=../../../engines/table-engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table-engines/integrations/embedded-rocksdb/ title=EmbeddedRocksDB class="nav-link text-light text-wrap d-inline-block w-100 px-0">EmbeddedRocksDB</a> <a href=../../../engines/table-engines/integrations/postgresql/ title=PostgreSQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">PostgreSQL</a> <a href=../../../engines/table-engines/integrations/ExternalDistributed/ title=ExternalDistributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">ExternalDistributed</a> <a href=../../../engines/table-engines/integrations/ title="Движки таблиц для интеграции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки таблиц для интеграции</a> <a href=../../../engines/table-engines/integrations/rabbitmq/ title=RabbitMQ class="nav-link text-light text-wrap d-inline-block w-100 px-0">RabbitMQ</a> </nav> </div> <a href=#sidebar-sidebar-4-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-5 title="Специальные движки таблиц" class="nav-link text-light dropdown-toggle px-0">Специальные движки таблиц</a> <div id=sidebar-sidebar-4-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/special/ title="Специальные движки таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Специальные движки таблиц</a> <a href=../../../engines/table-engines/special/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../../engines/table-engines/special/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../../engines/table-engines/special/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../../engines/table-engines/special/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../../engines/table-engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../../engines/table-engines/special/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../../engines/table-engines/special/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../../engines/table-engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table-engines/special/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../../engines/table-engines/special/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../../engines/table-engines/special/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../../engines/table-engines/special/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> <a href=../../../engines/table-engines/special/external-data/ title="Внешние данные для обработки запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние данные для обработки запроса</a> <a href=../../../engines/table-engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-3 title="Движки баз данных" class="nav-link text-light dropdown-toggle px-0">Движки баз данных</a> <div id=sidebar-sidebar-4-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database-engines/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../engines/database-engines/materialize-mysql/ title=MaterializeMySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializeMySQL</a> <a href=../../../engines/database-engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database-engines/lazy/ title=Lazy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a> <a href=../../../engines/database-engines/atomic/ title=Atomic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Atomic</a> <a href=../../../engines/database-engines/postgresql/ title=PostgreSQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">PostgreSQL</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Справка по SQL" class="nav-link text-light dropdown-toggle px-0">Справка по SQL</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title=Выражения class="nav-link text-light dropdown-toggle px-0">Выражения</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/statements/ title="SQL выражения в ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SQL выражения в ClickHouse</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title=SELECT class="nav-link text-light dropdown-toggle px-0">SELECT</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/statements/select/ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../../sql-reference/statements/select/all/ title=ALL class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALL</a> <a href=../../../sql-reference/statements/select/array-join/ title="ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ARRAY JOIN</a> <a href=../../../sql-reference/statements/select/distinct/ title=DISTINCT class="nav-link text-light text-wrap d-inline-block w-100 px-0">DISTINCT</a> <a href=../../../sql-reference/statements/select/format/ title=FORMAT class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT</a> <a href=../../../sql-reference/statements/select/from/ title=FROM class="nav-link text-light text-wrap d-inline-block w-100 px-0">FROM</a> <a href=../../../sql-reference/statements/select/group-by/ title="GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GROUP BY</a> <a href=../../../sql-reference/statements/select/having/ title=HAVING class="nav-link text-light text-wrap d-inline-block w-100 px-0">HAVING</a> <a href=../../../sql-reference/statements/select/into-outfile/ title="INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INTO OUTFILE</a> <a href=../../../sql-reference/statements/select/join/ title=JOIN class="nav-link text-light text-wrap d-inline-block w-100 px-0">JOIN</a> <a href=../../../sql-reference/statements/select/limit/ title=LIMIT class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a> <a href=../../../sql-reference/statements/select/limit-by/ title="LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT BY</a> <a href=../../../sql-reference/statements/select/offset/ title=OFFSET class="nav-link text-light text-wrap d-inline-block w-100 px-0">OFFSET</a> <a href=../../../sql-reference/statements/select/order-by/ title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a> <a href=../../../sql-reference/statements/select/prewhere/ title=PREWHERE class="nav-link text-light text-wrap d-inline-block w-100 px-0">PREWHERE</a> <a href=../../../sql-reference/statements/select/sample/ title=SAMPLE class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE</a> <a href=../../../sql-reference/statements/select/union/ title=UNION class="nav-link text-light text-wrap d-inline-block w-100 px-0">UNION</a> <a href=../../../sql-reference/statements/select/where/ title=WHERE class="nav-link text-light text-wrap d-inline-block w-100 px-0">WHERE</a> <a href=../../../sql-reference/statements/select/with/ title=WITH class="nav-link text-light text-wrap d-inline-block w-100 px-0">WITH</a> </nav> </div> <a href=../../../sql-reference/statements/insert-into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=CREATE class="nav-link text-light dropdown-toggle px-0">CREATE</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/statements/create/ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../../sql-reference/statements/create/database/ title="База данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">База данных</a> <a href=../../../sql-reference/statements/create/table/ title=Таблица class="nav-link text-light text-wrap d-inline-block w-100 px-0">Таблица</a> <a href=../../../sql-reference/statements/create/view/ title=Представление class="nav-link text-light text-wrap d-inline-block w-100 px-0">Представление</a> <a href=../../../sql-reference/statements/create/dictionary/ title=Словарь class="nav-link text-light text-wrap d-inline-block w-100 px-0">Словарь</a> <a href=../../../sql-reference/statements/create/user/ title=Пользователь class="nav-link text-light text-wrap d-inline-block w-100 px-0">Пользователь</a> <a href=../../../sql-reference/statements/create/role/ title=Роль class="nav-link text-light text-wrap d-inline-block w-100 px-0">Роль</a> <a href=../../../sql-reference/statements/create/row-policy/ title="Политика доступа" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Политика доступа</a> <a href=../../../sql-reference/statements/create/quota/ title=Квота class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квота</a> <a href=../../../sql-reference/statements/create/settings-profile/ title="Профиль настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профиль настроек</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=ALTER class="nav-link text-light dropdown-toggle px-0">ALTER</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql-reference/statements/alter/column/ title="Манипуляции со столбцами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Манипуляции со столбцами</a> <a href=../../../sql-reference/statements/alter/partition/ title=PARTITION class="nav-link text-light text-wrap d-inline-block w-100 px-0">PARTITION</a> <a href=../../../sql-reference/statements/alter/delete/ title=DELETE class="nav-link text-light text-wrap d-inline-block w-100 px-0">DELETE</a> <a href=../../../sql-reference/statements/alter/update/ title=UPDATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">UPDATE</a> <a href=../../../sql-reference/statements/alter/order-by/ title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a> <a href=../../../sql-reference/statements/alter/sample-by/ title="SAMPLE BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE BY</a> <a href=../../../sql-reference/statements/alter/index/ title="Манипуляции с индексами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Манипуляции с индексами</a> <a href=../../../sql-reference/statements/alter/constraint/ title="Манипуляции с ограничениями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Манипуляции с ограничениями</a> <a href=../../../sql-reference/statements/alter/ttl/ title=TTL class="nav-link text-light text-wrap d-inline-block w-100 px-0">TTL</a> <a href=../../../sql-reference/statements/alter/user/ title=USER class="nav-link text-light text-wrap d-inline-block w-100 px-0">USER</a> <a href=../../../sql-reference/statements/alter/quota/ title=QUOTA class="nav-link text-light text-wrap d-inline-block w-100 px-0">QUOTA</a> <a href=../../../sql-reference/statements/alter/role/ title=ROLE class="nav-link text-light text-wrap d-inline-block w-100 px-0">ROLE</a> <a href=../../../sql-reference/statements/alter/row-policy/ title="ROW POLICY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ROW POLICY</a> <a href=../../../sql-reference/statements/alter/settings-profile/ title="SETTINGS PROFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SETTINGS PROFILE</a> </nav> </div> <a href=../../../sql-reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql-reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql-reference/statements/grant/ title=GRANT class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a> <a href=../../../sql-reference/statements/explain/ title=EXPLAIN class="nav-link text-light text-wrap d-inline-block w-100 px-0">EXPLAIN</a> <a href=../../../sql-reference/statements/revoke/ title=REVOKE class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a> <a href=../../../sql-reference/statements/attach/ title=ATTACH class="nav-link text-light text-wrap d-inline-block w-100 px-0">ATTACH</a> <a href=../../../sql-reference/statements/check-table/ title=CHECK class="nav-link text-light text-wrap d-inline-block w-100 px-0">CHECK</a> <a href=../../../sql-reference/statements/describe-table/ title=DESCRIBE class="nav-link text-light text-wrap d-inline-block w-100 px-0">DESCRIBE</a> <a href=../../../sql-reference/statements/detach/ title=DETACH class="nav-link text-light text-wrap d-inline-block w-100 px-0">DETACH</a> <a href=../../../sql-reference/statements/drop/ title=DROP class="nav-link text-light text-wrap d-inline-block w-100 px-0">DROP</a> <a href=../../../sql-reference/statements/exists/ title=EXISTS class="nav-link text-light text-wrap d-inline-block w-100 px-0">EXISTS</a> <a href=../../../sql-reference/statements/kill/ title=KILL class="nav-link text-light text-wrap d-inline-block w-100 px-0">KILL</a> <a href=../../../sql-reference/statements/optimize/ title=OPTIMIZE class="nav-link text-light text-wrap d-inline-block w-100 px-0">OPTIMIZE</a> <a href=../../../sql-reference/statements/rename/ title=RENAME class="nav-link text-light text-wrap d-inline-block w-100 px-0">RENAME</a> <a href=../../../sql-reference/statements/set/ title=SET class="nav-link text-light text-wrap d-inline-block w-100 px-0">SET</a> <a href=../../../sql-reference/statements/set-role/ title="SET ROLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SET ROLE</a> <a href=../../../sql-reference/statements/truncate/ title=TRUNCATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">TRUNCATE</a> <a href=../../../sql-reference/statements/use/ title=USE class="nav-link text-light text-wrap d-inline-block w-100 px-0">USE</a> <a href=../../../sql-reference/statements/watch/ title=WATCH class="nav-link text-light text-wrap d-inline-block w-100 px-0">WATCH</a> </nav> </div> <a href=../../../sql-reference/syntax/ title=Синтаксис class="nav-link text-light text-wrap d-inline-block w-100 px-0">Синтаксис</a> <a href=../../../sql-reference/distributed-ddl/ title="Распределенные DDL запросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Распределенные DDL запросы</a> <a href=#sidebar-sidebar-5-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5 title=Функции class="nav-link text-light dropdown-toggle px-0">Функции</a> <div id=sidebar-sidebar-5-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../sql-reference/functions/arithmetic-functions/ title="Арифметические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Арифметические функции</a> <a href=../../../sql-reference/functions/array-functions/ title=Массивы class="nav-link text-light text-wrap d-inline-block w-100 px-0">Массивы</a> <a href=../../../sql-reference/functions/comparison-functions/ title="Функции сравнения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции сравнения</a> <a href=../../../sql-reference/functions/logical-functions/ title="Логические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Логические функции</a> <a href=../../../sql-reference/functions/type-conversion-functions/ title="Функции преобразования типов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции преобразования типов</a> <a href=../../../sql-reference/functions/date-time-functions/ title="Функции для работы с датами и временем" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">Функции для работы с датами и временем</a> <a href=../../../sql-reference/functions/string-functions/ title="Функции для работы со строками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со строками</a> <a href=../../../sql-reference/functions/string-search-functions/ title="Функции поиска в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска в строках</a> <a href=../../../sql-reference/functions/string-replace-functions/ title="Функции поиска и замены в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска и замены в строках</a> <a href=../../../sql-reference/functions/conditional-functions/ title="Условные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Условные функции</a> <a href=../../../sql-reference/functions/files/ title="Функции для работы с файлами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с файлами</a> <a href=../../../sql-reference/functions/math-functions/ title="Математические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Математические функции</a> <a href=../../../sql-reference/functions/rounding-functions/ title="Функции округления" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции округления</a> <a href=../../../sql-reference/functions/tuple-map-functions/ title="Работа с контейнерами map" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Работа с контейнерами map</a> <a href=../../../sql-reference/functions/splitting-merging-functions/ title="Функции разбиения и слияния строк и массивов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции разбиения и слияния строк и массивов</a> <a href=../../../sql-reference/functions/bit-functions/ title="Битовые функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Битовые функции</a> <a href=../../../sql-reference/functions/bitmap-functions/ title="Функции для битмапов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для битмапов</a> <a href=../../../sql-reference/functions/hash-functions/ title="Функции хэширования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции хэширования</a> <a href=../../../sql-reference/functions/random-functions/ title="Функции генерации псевдослучайных чисел" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции генерации псевдослучайных чисел</a> <a href=../../../sql-reference/functions/encoding-functions/ title="Функции кодирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции кодирования</a> <a href=../../../sql-reference/functions/uuid-functions/ title="Функции для работы с UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с UUID</a> <a href=../../../sql-reference/functions/url-functions/ title="Функции для работы с URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с URL</a> <a href=../../../sql-reference/functions/ip-address-functions/ title="Функции для работы с IP-адресами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с IP-адресами</a> <a href=../../../sql-reference/functions/json-functions/ title=JSON class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSON</a> <a href=../../../sql-reference/functions/ext-dict-functions/ title="Функции для работы с внешними словарями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с внешними словарями</a> <a href=../../../sql-reference/functions/ym-dict-functions/ title="Функции для работы со словарями Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со словарями Яндекс.Метрики</a> <a href=../../../sql-reference/functions/in-functions/ title="Функции для реализации оператора IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для реализации оператора IN</a> <a href=../../../sql-reference/functions/array-join/ title="Функция ArrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функция ArrayJoin</a> <a href=#sidebar-sidebar-5-5-30 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5-30 title=Гео-данные class="nav-link text-light dropdown-toggle px-0">Гео-данные</a> <div id=sidebar-sidebar-5-5-30 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/functions/geo/coordinates/ title="Функции для работы с географическими координатами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с географическими координатами</a> <a href=../../../sql-reference/functions/geo/h3/ title="Функции для работы с индексами H3" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с индексами H3</a> <a href=../../../sql-reference/functions/geo/geohash/ title="Функции для работы с системой Geohash" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с системой Geohash</a> </nav> </div> <a href=../../../sql-reference/functions/functions-for-nulls/ title="Функции для работы с Nullable-аргументами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с Nullable-аргументами</a> <a href=../../../sql-reference/functions/machine-learning-functions/ title="Функции машинного обучения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции машинного обучения</a> <a href=../../../sql-reference/functions/introspection/ title="Функции интроспекции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции интроспекции</a> <a href=../../../sql-reference/functions/other-functions/ title="Прочие функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие функции</a> <a href=../../../sql-reference/functions/encryption-functions/ title="Функции для шифрования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для шифрования</a> <a href=../../../sql-reference/functions/tuple-functions/ title="Функции для работы с кортежами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с кортежами</a> </nav> </div> <a href=#sidebar-sidebar-5-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-6 title="Агрегатные функции" class="nav-link text-light dropdown-toggle px-0">Агрегатные функции</a> <div id=sidebar-sidebar-5-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/aggregate-functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-5-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-6-2 title=Справочник class="nav-link text-light dropdown-toggle px-0">Справочник</a> <div id=sidebar-sidebar-5-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/aggregate-functions/reference/count/ title=count class="nav-link text-light text-wrap d-inline-block w-100 px-0">count</a> <a href=../../../sql-reference/aggregate-functions/reference/min/ title=min class="nav-link text-light text-wrap d-inline-block w-100 px-0">min</a> <a href=../../../sql-reference/aggregate-functions/reference/max/ title=max class="nav-link text-light text-wrap d-inline-block w-100 px-0">max</a> <a href=../../../sql-reference/aggregate-functions/reference/sum/ title=sum class="nav-link text-light text-wrap d-inline-block w-100 px-0">sum</a> <a href=../../../sql-reference/aggregate-functions/reference/avg/ title=avg class="nav-link text-light text-wrap d-inline-block w-100 px-0">avg</a> <a href=../../../sql-reference/aggregate-functions/reference/any/ title=any class="nav-link text-light text-wrap d-inline-block w-100 px-0">any</a> <a href=../../../sql-reference/aggregate-functions/reference/stddevpop/ title=stddevPop class="nav-link text-light text-wrap d-inline-block w-100 px-0">stddevPop</a> <a href=../../../sql-reference/aggregate-functions/reference/stddevsamp/ title=stddevSamp class="nav-link text-light text-wrap d-inline-block w-100 px-0">stddevSamp</a> <a href=../../../sql-reference/aggregate-functions/reference/varpop/ title=varPop(x) class="nav-link text-light text-wrap d-inline-block w-100 px-0">varPop(x)</a> <a href=../../../sql-reference/aggregate-functions/reference/varsamp/ title=varSamp class="nav-link text-light text-wrap d-inline-block w-100 px-0">varSamp</a> <a href=../../../sql-reference/aggregate-functions/reference/covarpop/ title=covarPop class="nav-link text-light text-wrap d-inline-block w-100 px-0">covarPop</a> <a href=../../../sql-reference/aggregate-functions/reference/covarsamp/ title=covarSamp class="nav-link text-light text-wrap d-inline-block w-100 px-0">covarSamp</a> <a href=../../../sql-reference/aggregate-functions/reference/anyheavy/ title=anyHeavy class="nav-link text-light text-wrap d-inline-block w-100 px-0">anyHeavy</a> <a href=../../../sql-reference/aggregate-functions/reference/anylast/ title=anyLast class="nav-link text-light text-wrap d-inline-block w-100 px-0">anyLast</a> <a href=../../../sql-reference/aggregate-functions/reference/argmin/ title=argMin class="nav-link text-light text-wrap d-inline-block w-100 px-0">argMin</a> <a href=../../../sql-reference/aggregate-functions/reference/argmax/ title=argMax class="nav-link text-light text-wrap d-inline-block w-100 px-0">argMax</a> <a href=../../../sql-reference/aggregate-functions/reference/avgweighted/ title=avgWeighted class="nav-link text-light text-wrap d-inline-block w-100 px-0">avgWeighted</a> <a href=../../../sql-reference/aggregate-functions/reference/corr/ title=corr class="nav-link text-light text-wrap d-inline-block w-100 px-0">corr</a> <a href=../../../sql-reference/aggregate-functions/reference/topk/ title=topK class="nav-link text-light text-wrap d-inline-block w-100 px-0">topK</a> <a href=../../../sql-reference/aggregate-functions/reference/topkweighted/ title=topKWeighted class="nav-link text-light text-wrap d-inline-block w-100 px-0">topKWeighted</a> <a href=../../../sql-reference/aggregate-functions/reference/grouparray/ title=groupArray class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArray</a> <a href=../../../sql-reference/aggregate-functions/reference/groupuniqarray/ title=groupUniqArray class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupUniqArray</a> <a href=../../../sql-reference/aggregate-functions/reference/grouparrayinsertat/ title=groupArrayInsertAt class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArrayInsertAt</a> <a href=../../../sql-reference/aggregate-functions/reference/grouparraymovingsum/ title=groupArrayMovingSum class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArrayMovingSum</a> <a href=../../../sql-reference/aggregate-functions/reference/grouparraymovingavg/ title=groupArrayMovingAvg class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArrayMovingAvg</a> <a href=../../../sql-reference/aggregate-functions/reference/grouparraysample/ title=groupArraySample class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupArraySample</a> <a href=../../../sql-reference/aggregate-functions/reference/groupbitand/ title=groupBitAnd class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitAnd</a> <a href=../../../sql-reference/aggregate-functions/reference/groupbitor/ title=groupBitOr class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitOr</a> <a href=../../../sql-reference/aggregate-functions/reference/groupbitxor/ title=groupBitXor class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitXor</a> <a href=../../../sql-reference/aggregate-functions/reference/groupbitmap/ title=groupBitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">groupBitmap</a> <a href=../../../sql-reference/aggregate-functions/reference/sumwithoverflow/ title=sumWithOverflow class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumWithOverflow</a> <a href=../../../sql-reference/aggregate-functions/reference/deltasum/ title=deltaSum class="nav-link text-light text-wrap d-inline-block w-100 px-0">deltaSum</a> <a href=../../../sql-reference/aggregate-functions/reference/deltasumtimestamp/ title=deltaSumTimestamp class="nav-link text-light text-wrap d-inline-block w-100 px-0">deltaSumTimestamp</a> <a href=../../../sql-reference/aggregate-functions/reference/summap/ title="sumMap(key, value), sumMap(Tuple(key, value))" class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumMap(key, value), sumMap(Tuple(key, value))</a> <a href=../../../sql-reference/aggregate-functions/reference/minmap/ title=minMap class="nav-link text-light text-wrap d-inline-block w-100 px-0">minMap</a> <a href=../../../sql-reference/aggregate-functions/reference/maxmap/ title=maxMap class="nav-link text-light text-wrap d-inline-block w-100 px-0">maxMap</a> <a href=../../../sql-reference/aggregate-functions/reference/sumcount/ title=sumCount class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumCount</a> <a href=../../../sql-reference/aggregate-functions/reference/rankCorr/ title=rankCorr class="nav-link text-light text-wrap d-inline-block w-100 px-0">rankCorr</a> <a href=../../../sql-reference/aggregate-functions/reference/sumkahan/ title=sumKahan class="nav-link text-light text-wrap d-inline-block w-100 px-0">sumKahan</a> <a href=../../../sql-reference/aggregate-functions/reference/intervalLengthSum/ title=intervalLengthSum class="nav-link text-light text-wrap d-inline-block w-100 px-0">intervalLengthSum</a> <a href=../../../sql-reference/aggregate-functions/reference/skewpop/ title=skewPop class="nav-link text-light text-wrap d-inline-block w-100 px-0">skewPop</a> <a href=../../../sql-reference/aggregate-functions/reference/skewsamp/ title=skewSamp class="nav-link text-light text-wrap d-inline-block w-100 px-0">skewSamp</a> <a href=../../../sql-reference/aggregate-functions/reference/kurtpop/ title=kurtPop class="nav-link text-light text-wrap d-inline-block w-100 px-0">kurtPop</a> <a href=../../../sql-reference/aggregate-functions/reference/kurtsamp/ title=kurtSamp class="nav-link text-light text-wrap d-inline-block w-100 px-0">kurtSamp</a> <a href=../../../sql-reference/aggregate-functions/reference/uniq/ title=uniq class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniq</a> <a href=../../../sql-reference/aggregate-functions/reference/uniqexact/ title=uniqExact class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqExact</a> <a href=../../../sql-reference/aggregate-functions/reference/uniqcombined/ title=uniqCombined class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqCombined</a> <a href=../../../sql-reference/aggregate-functions/reference/uniqcombined64/ title=uniqCombined64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqCombined64</a> <a href=../../../sql-reference/aggregate-functions/reference/uniqhll12/ title=uniqHLL12 class="nav-link text-light text-wrap d-inline-block w-100 px-0">uniqHLL12</a> <a href=../../../sql-reference/aggregate-functions/reference/quantile/ title=quantile class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantile</a> <a href=../../../sql-reference/aggregate-functions/reference/quantiles/ title=quantiles class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantiles</a> <a href=../../../sql-reference/aggregate-functions/reference/quantileexact/ title=quantileExact class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileExact</a> <a href=../../../sql-reference/aggregate-functions/reference/quantileexactweighted/ title=quantileExactWeighted class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileExactWeighted</a> <a href=../../../sql-reference/aggregate-functions/reference/quantiletiming/ title=quantileTiming class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTiming</a> <a href=../../../sql-reference/aggregate-functions/reference/quantiletimingweighted/ title=quantileTimingWeighted class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTimingWeighted</a> <a href=../../../sql-reference/aggregate-functions/reference/quantiledeterministic/ title=quantileDeterministic class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileDeterministic</a> <a href=../../../sql-reference/aggregate-functions/reference/quantiletdigest/ title=quantileTDigest class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTDigest</a> <a href=../../../sql-reference/aggregate-functions/reference/quantiletdigestweighted/ title=quantileTDigestWeighted class="nav-link text-light text-wrap d-inline-block w-100 px-0">quantileTDigestWeighted</a> <a href=../../../sql-reference/aggregate-functions/reference/simplelinearregression/ title=simpleLinearRegression class="nav-link text-light text-wrap d-inline-block w-100 px-0">simpleLinearRegression</a> <a href=../../../sql-reference/aggregate-functions/reference/stochasticlinearregression/ title=stochasticLinearRegression class="nav-link text-light text-wrap d-inline-block w-100 px-0">stochasticLinearRegression</a> <a href=../../../sql-reference/aggregate-functions/reference/stochasticlogisticregression/ title=stochasticLogisticRegression class="nav-link text-light text-wrap d-inline-block w-100 px-0">stochasticLogisticRegression</a> <a href=../../../sql-reference/aggregate-functions/reference/studentttest/ title=studentTTest class="nav-link text-light text-wrap d-inline-block w-100 px-0">studentTTest</a> <a href=../../../sql-reference/aggregate-functions/reference/welchttest/ title=welchTTest class="nav-link text-light text-wrap d-inline-block w-100 px-0">welchTTest</a> <a href=../../../sql-reference/aggregate-functions/reference/mannwhitneyutest/ title=mannWhitneyUTest class="nav-link text-light text-wrap d-inline-block w-100 px-0">mannWhitneyUTest</a> <a href=../../../sql-reference/aggregate-functions/reference/median/ title=median class="nav-link text-light text-wrap d-inline-block w-100 px-0">median</a> </nav> </div> <a href=../../../sql-reference/aggregate-functions/combinators/ title="Комбинаторы агрегатных функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Комбинаторы агрегатных функций</a> <a href=../../../sql-reference/aggregate-functions/parametric-functions/ title="Параметрические агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Параметрические агрегатные функции</a> </nav> </div> <a href=#sidebar-sidebar-5-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7 title="Табличные функции" class="nav-link text-light dropdown-toggle px-0">Табличные функции</a> <div id=sidebar-sidebar-5-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/table-functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../sql-reference/table-functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../../sql-reference/table-functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../../sql-reference/table-functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../../sql-reference/table-functions/remote/ title=remote class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a> <a href=../../../sql-reference/table-functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../../sql-reference/table-functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql-reference/table-functions/postgresql/ title=postgresql class="nav-link text-light text-wrap d-inline-block w-100 px-0">postgresql</a> <a href=../../../sql-reference/table-functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql-reference/table-functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../../sql-reference/table-functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql-reference/table-functions/s3/ title=s3 class="nav-link text-light text-wrap d-inline-block w-100 px-0">s3</a> <a href=../../../sql-reference/table-functions/input/ title=input class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a> <a href=../../../sql-reference/table-functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> <a href=../../../sql-reference/table-functions/cluster/ title=cluster class="nav-link text-light text-wrap d-inline-block w-100 px-0">cluster</a> <a href=../../../sql-reference/table-functions/null/ title="null функция" class="nav-link text-light text-wrap d-inline-block w-100 px-0">null функция</a> <a href=../../../sql-reference/table-functions/dictionary/ title=dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">dictionary</a> <a href=../../../sql-reference/table-functions/view/ title=view class="nav-link text-light text-wrap d-inline-block w-100 px-0">view</a> </nav> </div> <a href=#sidebar-sidebar-5-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8 title=Словари class="nav-link text-light dropdown-toggle px-0">Словари</a> <div id=sidebar-sidebar-5-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/dictionaries/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-5-8-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8-2 title="Внешние словари" class="nav-link text-light dropdown-toggle px-0">Внешние словари</a> <div id=sidebar-sidebar-5-8-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts/ title="Внешние словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние словари</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/ title="Настройка внешнего словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройка внешнего словаря</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/ title="Хранение словарей в памяти" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Хранение словарей в памяти</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/ title="Обновление словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление словарей</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/ title="Источники внешних словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Источники внешних словарей</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/ title="Ключ и поля словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ключ и поля словаря</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/ title="Иерархические словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Иерархические словари</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-polygon/ title="Cловари полигонов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cловари полигонов</a> </nav> </div> <a href=../../../sql-reference/dictionaries/internal-dicts/ title="Встроенные словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Встроенные словари</a> </nav> </div> <a href=#sidebar-sidebar-5-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9 title="Типы данных" class="nav-link text-light dropdown-toggle px-0">Типы данных</a> <div id=sidebar-sidebar-5-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../sql-reference/data-types/int-uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql-reference/data-types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../../sql-reference/data-types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../../sql-reference/data-types/boolean/ title="Булевы значения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Булевы значения</a> <a href=../../../sql-reference/data-types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../../sql-reference/data-types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../../sql-reference/data-types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql-reference/data-types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../../sql-reference/data-types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../sql-reference/data-types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql-reference/data-types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql-reference/data-types/lowcardinality/ title=LowCardinality class="nav-link text-light text-wrap d-inline-block w-100 px-0">LowCardinality</a> <a href=../../../sql-reference/data-types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../../sql-reference/data-types/aggregatefunction/ title=AggregateFunction class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction</a> <a href=../../../sql-reference/data-types/tuple/ title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a> <a href=#sidebar-sidebar-5-9-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-17 title="Вложенные структуры данных" class="nav-link text-light dropdown-toggle px-0">Вложенные структуры данных</a> <div id=sidebar-sidebar-5-9-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/nested-data-structures/nested/ title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a> </nav> </div> <a href=../../../sql-reference/data-types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-5-9-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-19 title="Служебные типы данных" class="nav-link text-light dropdown-toggle px-0">Служебные типы данных</a> <div id=sidebar-sidebar-5-9-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/special-data-types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../../sql-reference/data-types/special-data-types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../../sql-reference/data-types/special-data-types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> <a href=../../../sql-reference/data-types/special-data-types/interval/ title=Interval class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a> </nav> </div> <a href=#sidebar-sidebar-5-9-20 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-20 title=Домены class="nav-link text-light dropdown-toggle px-0">Домены</a> <div id=sidebar-sidebar-5-9-20 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/domains/ title=Домены class="nav-link text-light text-wrap d-inline-block w-100 px-0">Домены</a> <a href=../../../sql-reference/data-types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql-reference/data-types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../../sql-reference/data-types/multiword-types/ title="Составные типы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Составные типы</a> <a href=../../../sql-reference/data-types/geo/ title="Географические структуры" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Географические структуры</a> <a href=../../../sql-reference/data-types/map/ title="Map(key, value)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Map(key, value)</a> <a href=../../../sql-reference/data-types/simpleaggregatefunction/ title="SimpleAggregateFunction(func, type)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction(func, type)</a> </nav> </div> <a href=#sidebar-sidebar-5-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-10 title=Операторы class="nav-link text-light dropdown-toggle px-0">Операторы</a> <div id=sidebar-sidebar-5-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/operators/ title=Операторы class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы</a> <a href=../../../sql-reference/operators/in/ title="Операторы IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы IN</a> </nav> </div> <a href=../../../sql-reference/ansi/ title="ANSI Compatibility" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSI Compatibility</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=Руководства class="nav-link text-light dropdown-toggle px-0">Руководства</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../../guides/apply-catboost-model/ title="Применение модели CatBoost в ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Применение модели CatBoost в ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Эксплуатация class="nav-link text-light dropdown-toggle px-0">Эксплуатация</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Эксплуатация class="nav-link text-light text-wrap d-inline-block w-100 px-0">Эксплуатация</a> <a href=../../../operations/requirements/ title=Требования class="nav-link text-light text-wrap d-inline-block w-100 px-0">Требования</a> <a href=../../../operations/monitoring/ title=Мониторинг class="nav-link text-light text-wrap d-inline-block w-100 px-0">Мониторинг</a> <a href=../../../operations/troubleshooting/ title="Устранение неисправностей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Устранение неисправностей</a> <a href=../../../operations/update/ title="Обновление ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление ClickHouse</a> <a href=#sidebar-sidebar-7-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-6 title="Внешние аутентификаторы пользователей и каталоги" class="nav-link text-light dropdown-toggle px-0">Внешние аутентификаторы пользователей и каталоги</a> <div id=sidebar-sidebar-7-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/external-authenticators/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/external-authenticators/kerberos/ title=Kerberos class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kerberos</a> <a href=../../../operations/external-authenticators/ldap/ title=LDAP class="nav-link text-light text-wrap d-inline-block w-100 px-0">LDAP</a> </nav> </div> <a href=../../../operations/access-rights/ title="Управление доступом" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Управление доступом</a> <a href=../../../operations/backup/ title="Резервное копирование данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Резервное копирование данных</a> <a href=../../../operations/configuration-files/ title="Конфигурационные файлы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные файлы</a> <a href=../../../operations/quotas/ title=Квоты class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квоты</a> <a href=#sidebar-sidebar-7-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-11 title="Optimizing Performance" class="nav-link text-light dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-7-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing-performance/sampling-query-profiler/ title="Query Profiling" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Query Profiling</a> </nav> </div> <a href=#sidebar-sidebar-7-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-12 title="Системные таблицы" class="nav-link text-light dropdown-toggle px-0">Системные таблицы</a> <div id=sidebar-sidebar-7-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/system-tables/ title="Системные таблицы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Системные таблицы</a> <a href=../../../operations/system-tables/asynchronous_metric_log/ title=system.asynchronous_metric_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.asynchronous_metric_log</a> <a href=../../../operations/system-tables/asynchronous_metrics/ title=system.asynchronous_metrics class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.asynchronous_metrics</a> <a href=../../../operations/system-tables/clusters/ title=system.clusters class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.clusters</a> <a href=../../../operations/system-tables/columns/ title=system.columns class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.columns</a> <a href=../../../operations/system-tables/contributors/ title=system.contributors class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.contributors</a> <a href=../../../operations/system-tables/crash-log/ title=system.crash_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.crash_log</a> <a href=../../../operations/system-tables/current-roles/ title=system.current_roles class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.current_roles</a> <a href=../../../operations/system-tables/data_type_families/ title=system.data_type_families class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.data_type_families</a> <a href=../../../operations/system-tables/databases/ title=system.databases class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.databases</a> <a href=../../../operations/system-tables/detached_parts/ title=system.detached_parts class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.detached_parts</a> <a href=../../../operations/system-tables/dictionaries/ title=system.dictionaries class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.dictionaries</a> <a href=../../../operations/system-tables/disks/ title=system.disks class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.disks</a> <a href=../../../operations/system-tables/distributed_ddl_queue/ title=system.distributed_ddl_queue class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.distributed_ddl_queue</a> <a href=../../../operations/system-tables/distribution_queue/ title=system.distribution_queue class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.distribution_queue</a> <a href=../../../operations/system-tables/enabled-roles/ title=system.enabled_roles class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.enabled_roles</a> <a href=../../../operations/system-tables/errors/ title=system.errors class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.errors</a> <a href=../../../operations/system-tables/events/ title=system.events class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.events</a> <a href=../../../operations/system-tables/functions/ title=system.functions class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.functions</a> <a href=../../../operations/system-tables/grants/ title=system.grants class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.grants</a> <a href=../../../operations/system-tables/graphite_retentions/ title=system.graphite_retentions class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.graphite_retentions</a> <a href=../../../operations/system-tables/licenses/ title=system.licenses class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.licenses</a> <a href=../../../operations/system-tables/merges/ title=system.merges class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.merges</a> <a href=../../../operations/system-tables/metric_log/ title=system.metric_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.metric_log</a> <a href=../../../operations/system-tables/metrics/ title=system.metrics class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.metrics</a> <a href=../../../operations/system-tables/mutations/ title=system.mutations class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.mutations</a> <a href=../../../operations/system-tables/numbers/ title=system.numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.numbers</a> <a href=../../../operations/system-tables/numbers_mt/ title=system.numbers_mt class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.numbers_mt</a> <a href=../../../operations/system-tables/one/ title=system.one class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.one</a> <a href=../../../operations/system-tables/opentelemetry_span_log/ title=system.opentelemetry_span_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.opentelemetry_span_log</a> <a href=../../../operations/system-tables/part_log/ title=system.part_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.part_log</a> <a href=../../../operations/system-tables/parts/ title=system.parts class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.parts</a> <a href=../../../operations/system-tables/parts_columns/ title=system.parts_columns class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.parts_columns</a> <a href=../../../operations/system-tables/processes/ title=system.processes class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.processes</a> <a href=../../../operations/system-tables/query_log/ title=system.query_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.query_log</a> <a href=../../../operations/system-tables/query_thread_log/ title=system.query_thread_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.query_thread_log</a> <a href=../../../operations/system-tables/quota_limits/ title=system.quota_limits class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quota_limits</a> <a href=../../../operations/system-tables/quota_usage/ title=system.quota_usage class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quota_usage</a> <a href=../../../operations/system-tables/quotas/ title=system.quotas class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quotas</a> <a href=../../../operations/system-tables/quotas_usage/ title=system.quotas_usage class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.quotas_usage</a> <a href=../../../operations/system-tables/replicas/ title=system.replicas class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.replicas</a> <a href=../../../operations/system-tables/replicated_fetches/ title=system.replicated_fetches class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.replicated_fetches</a> <a href=../../../operations/system-tables/replication_queue/ title=system.replication_queue class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.replication_queue</a> <a href=../../../operations/system-tables/role-grants/ title=system.role_grants class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.role_grants</a> <a href=../../../operations/system-tables/roles/ title=system.roles class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.roles</a> <a href=../../../operations/system-tables/row_policies/ title=system.row_policies class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.row_policies</a> <a href=../../../operations/system-tables/settings/ title=system.settings class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.settings</a> <a href=../../../operations/system-tables/settings_profile_elements/ title=system.settings_profile_elements class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.settings_profile_elements</a> <a href=../../../operations/system-tables/settings_profiles/ title=system.settings_profiles class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.settings_profiles</a> <a href=../../../operations/system-tables/stack_trace/ title=system.stack_trace class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.stack_trace</a> <a href=../../../operations/system-tables/storage_policies/ title=system.storage_policies class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.storage_policies</a> <a href=../../../operations/system-tables/table_engines/ title=system.table_engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.table_engines</a> <a href=../../../operations/system-tables/tables/ title=system.tables class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.tables</a> <a href=../../../operations/system-tables/text_log/ title=system.text_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.text_log</a> <a href=../../../operations/system-tables/trace_log/ title=system.trace_log class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.trace_log</a> <a href=../../../operations/system-tables/users/ title=system.users class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.users</a> <a href=../../../operations/system-tables/zookeeper/ title=system.zookeeper class="nav-link text-light text-wrap d-inline-block w-100 px-0">system.zookeeper</a> </nav> </div> <a href=../../../operations/performance-test/ title="Testing Hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing Hardware</a> <a href=#sidebar-sidebar-7-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-14 title="Конфигурационные параметры сервера" class="nav-link text-light dropdown-toggle px-0">Конфигурационные параметры сервера</a> <div id=sidebar-sidebar-7-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server-configuration-parameters/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/server-configuration-parameters/settings/ title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные параметры сервера</a> </nav> </div> <a href=#sidebar-sidebar-7-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-15 title=Settings class="nav-link text-light dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-7-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/settings/permissions-for-queries/ title="Разрешения для запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разрешения для запросов</a> <a href=../../../operations/settings/query-complexity/ title="Ограничения на сложность запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на сложность запроса</a> <a href=../../../operations/settings/settings/ title=Настройки class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки</a> <a href=../../../operations/settings/settings-profiles/ title="Профили настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профили настроек</a> <a href=../../../operations/settings/constraints-on-settings/ title="Ограничения на изменение настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на изменение настроек</a> <a href=../../../operations/settings/settings-users/ title="Настройки пользователей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки пользователей</a> <a href=../../../operations/settings/merge-tree-settings/ title="Настройки MergeTree таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки MergeTree таблиц</a> </nav> </div> <a href=#sidebar-sidebar-7-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-16 title=Утилиты class="nav-link text-light dropdown-toggle px-0">Утилиты</a> <div id=sidebar-sidebar-7-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../../operations/utilities/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../../operations/utilities/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title=clickhouse-benchmark class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a> <a href=../../../operations/utilities/clickhouse-format/ title=clickhouse-format class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-format</a> <a href=../../../operations/utilities/clickhouse-compressor/ title="ClickHouse compressor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse compressor</a> <a href=../../../operations/utilities/odbc-bridge/ title=clickhouse-odbc-bridge class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-odbc-bridge</a> <a href=../../../operations/utilities/clickhouse-obfuscator/ title="Обфускатор ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обфускатор ClickHouse</a> </nav> </div> <a href=../../../operations/tips/ title="Usage Recommendations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Usage Recommendations</a> <a href=../../../operations/opentelemetry/ title="Поддержка OpenTelemetry" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Поддержка OpenTelemetry</a> <a href=../../../operations/caches/ title=Кеши class="nav-link text-light text-wrap d-inline-block w-100 px-0">Кеши</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Development class="nav-link text-light dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/developer-instruction/ title="Инструкция для разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Инструкция для разработчиков</a> <a href=../../../development/architecture/ title="Обзор архитектуры ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор архитектуры ClickHouse</a> <a href=../../../development/build/ title="Build on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Linux</a> <a href=../../../development/build-osx/ title="Build on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Mac OS X</a> <a href=../../../development/build-cross-osx/ title="Build on Linux for Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Linux for Mac OS X</a> <a href=../../../development/build-cross-arm/ title="Build on Linux for AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Build on Linux for AARCH64 (ARM64)</a> <a href=../../../development/style/ title="Как писать код на C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как писать код на C++</a> <a href=../../../development/tests/ title=Testing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing</a> <a href=../../../development/contrib/ title="Используемые сторонние библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Используемые сторонние библиотеки</a> <a href=../../../development/browse-code/ title="Навигация по коду ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Навигация по коду ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title="Коммерческие услуги" class="nav-link text-light dropdown-toggle px-0">Коммерческие услуги</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/cloud/ title="Поставщики облачных услуг ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Поставщики облачных услуг ClickHouse</a> <a href=../../../commercial/support/ title=Support class="nav-link text-light text-wrap d-inline-block w-100 px-0">Support</a> <a href=../../../commercial/ title="Коммерческие услуги" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Коммерческие услуги</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=F.A.Q. class="nav-link text-light dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/general/ title="Общие вопросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общие вопросы</a> <a href=../../../faq/use-cases/ title=Применение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Применение</a> <a href=../../../faq/operations/ title=Операции class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операции</a> <a href=../../../faq/integration/ title=Интеграция class="nav-link text-light text-wrap d-inline-block w-100 px-0">Интеграция</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="Что нового?" class="nav-link text-light dropdown-toggle px-0">Что нового?</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-11-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-1 title=Changelog class="nav-link text-light dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats-new/changelog/ title=2021 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2021</a> <a href=../../../whats-new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats-new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats-new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats-new/extended-roadmap/ title=Roadmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a> <a href=../../../whats-new/security-changelog/ title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a> <a href=../../../whats-new/ title="Что нового в ClickHouse?" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Что нового в ClickHouse?</a> </nav> </div> <a href=../../../single/clickhouse_ru.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-4"> <div id=content class=mt-md-n3> <nav class=text-muted aria-label=breadcrumb> <ol class="breadcrumb bg-transparent p-0"> <li class=breadcrumb-item><a href=../../ class=text-reset>Справка по SQL</a> </li> <li class=breadcrumb-item><a href=../ class=text-reset>Функции</a> </li> </ol> </nav> <h1 id=funktsii-dlia-raboty-s-datami-i-vremenem>Функции для работы с датами и временем<a class=headerlink href=#funktsii-dlia-raboty-s-datami-i-vremenem title="Permanent link"> </a></h1> <p>Поддержка часовых поясов</p> <p>Все функции по работе с датой и временем, для которых это имеет смысл, могут принимать второй, необязательный аргумент - имя часового пояса. Пример: Asia/Yekaterinburg. В этом случае, они используют не локальный часовой пояс (по умолчанию), а указанный.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2016-06-15 23:00:00'</span><span class=p>)</span> <span class=k>AS</span> <span class=k>time</span><span class=p>,</span>
    <span class=n>toDate</span><span class=p>(</span><span class=k>time</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_local</span><span class=p>,</span>
    <span class=n>toDate</span><span class=p>(</span><span class=k>time</span><span class=p>,</span> <span class=s1>'Asia/Yekaterinburg'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_yekat</span><span class=p>,</span>
    <span class=n>toString</span><span class=p>(</span><span class=k>time</span><span class=p>,</span> <span class=s1>'US/Samoa'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_samoa</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌────────────────time─┬─date_local─┬─date_yekat─┬─time_samoa──────────┐
│ 2016-06-15 23:00:00 │ 2016-06-15 │ 2016-06-16 │ 2016-06-15 09:00:00 │
└─────────────────────┴────────────┴────────────┴─────────────────────┘
</code></pre></div> <h2 id=timezone>timeZone<a class=headerlink href=#timezone title="Permanent link"> </a></h2> <p>Возвращает часовой пояс сервера.</p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timeZone</span><span class=p>()</span>
</code></pre></div> <p>Псевдоним: <code class=syntax>timezone</code>. </p> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Часовой пояс. </li> </ul> <p>Тип: <a href=../../data-types/string/ >String</a>.</p> <h2 id=totimezone>toTimeZone<a class=headerlink href=#totimezone title="Permanent link"> </a></h2> <p>Переводит дату или дату с временем в указанный часовой пояс. Часовой пояс - это атрибут типов <code class=syntax>Date</code> и <code class=syntax>DateTime</code>. Внутреннее значение (количество секунд) поля таблицы или результирующего столбца не изменяется, изменяется тип поля и, соответственно, его текстовое отображение. </p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toTimezone</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>timezone</span><span class=p>)</span>
</code></pre></div> <p>Псевдоним: <code class=syntax>toTimezone</code>.</p> <p><strong>Аргументы</strong> </p> <ul> <li><code class=syntax>value</code> — время или дата с временем. <a href=../../data-types/datetime64/ >DateTime64</a>.</li> <li><code class=syntax>timezone</code> — часовой пояс для возвращаемого значения. <a href=../../data-types/string/ >String</a>.</li> </ul> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Дата с временем. </li> </ul> <p>Тип: <a href=../../data-types/datetime/ >DateTime</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2019-01-01 00:00:00'</span><span class=p>,</span> <span class=s1>'UTC'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_utc</span><span class=p>,</span>
    <span class=n>toTypeName</span><span class=p>(</span><span class=n>time_utc</span><span class=p>)</span> <span class=k>AS</span> <span class=n>type_utc</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=n>time_utc</span><span class=p>)</span> <span class=k>AS</span> <span class=n>int32utc</span><span class=p>,</span>
    <span class=n>toTimeZone</span><span class=p>(</span><span class=n>time_utc</span><span class=p>,</span> <span class=s1>'Asia/Yekaterinburg'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_yekat</span><span class=p>,</span>
    <span class=n>toTypeName</span><span class=p>(</span><span class=n>time_yekat</span><span class=p>)</span> <span class=k>AS</span> <span class=n>type_yekat</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=n>time_yekat</span><span class=p>)</span> <span class=k>AS</span> <span class=n>int32yekat</span><span class=p>,</span>
    <span class=n>toTimeZone</span><span class=p>(</span><span class=n>time_utc</span><span class=p>,</span> <span class=s1>'US/Samoa'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_samoa</span><span class=p>,</span>
    <span class=n>toTypeName</span><span class=p>(</span><span class=n>time_samoa</span><span class=p>)</span> <span class=k>AS</span> <span class=n>type_samoa</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=n>time_samoa</span><span class=p>)</span> <span class=k>AS</span> <span class=n>int32samoa</span>
<span class=n>FORMAT</span> <span class=n>Vertical</span><span class=p>;</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>Row 1:
──────
time_utc:   2019-01-01 00:00:00
type_utc:   DateTime('UTC')
int32utc:   1546300800
time_yekat: 2019-01-01 05:00:00
type_yekat: DateTime('Asia/Yekaterinburg')
int32yekat: 1546300800
time_samoa: 2018-12-31 13:00:00
type_samoa: DateTime('US/Samoa')
int32samoa: 1546300800
</code></pre></div> <p><code class=syntax>toTimeZone(time_utc, 'Asia/Yekaterinburg')</code> изменяет тип <code class=syntax>DateTime('UTC')</code> в <code class=syntax>DateTime('Asia/Yekaterinburg')</code>. Значение (unix-время) 1546300800 остается неизменным, но текстовое отображение (результат функции toString()) меняется <code class=syntax>time_utc: 2019-01-01 00:00:00</code> в <code class=syntax>time_yekat: 2019-01-01 05:00:00</code>.</p> <h2 id=timezoneof>timeZoneOf<a class=headerlink href=#timezoneof title="Permanent link"> </a></h2> <p>Возвращает название часового пояса для значений типа <a href=../../data-types/datetime/ >DateTime</a> и <a href=../../data-types/datetime64/ >DateTime64</a>.</p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timeZoneOf</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</code></pre></div> <p>Псевдоним: <code class=syntax>timezoneOf</code>. </p> <p><strong>Аргументы</strong></p> <ul> <li><code class=syntax>value</code> — Дата с временем. <a href=../../data-types/datetime/ >DateTime</a> или <a href=../../data-types/datetime64/ >DateTime64</a>. </li> </ul> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Название часового пояса. </li> </ul> <p>Тип: <a href=../../data-types/string/ >String</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>timezoneOf</span><span class=p>(</span><span class=n>now</span><span class=p>());</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─timezoneOf(now())─┐
│ Etc/UTC           │
└───────────────────┘
</code></pre></div> <h2 id=timezoneoffset>timeZoneOffset<a class=headerlink href=#timezoneoffset title="Permanent link"> </a></h2> <p>Возвращает смещение часового пояса в секундах от <a href=https://ru.wikipedia.org/wiki/Всемирное_координированное_время rel="external nofollow noreferrer" target=_blank>UTC</a>. Функция учитывает <a href=https://ru.wikipedia.org/wiki/Летнее_время rel="external nofollow noreferrer" target=_blank>летнее время</a> и исторические изменения часовых поясов, которые действовали на указанную дату.<br> Для вычисления смещения используется информация из <a href=https://www.iana.org/time-zones rel="external nofollow noreferrer" target=_blank>базы данных IANA</a>.</p> <p><strong>Синтаксис</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timeZoneOffset</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</code></pre></div> <p>Псевдоним: <code class=syntax>timezoneOffset</code>. </p> <p><strong>Аргументы</strong></p> <ul> <li><code class=syntax>value</code> — Дата с временем. <a href=../../data-types/datetime/ >DateTime</a> or <a href=../../data-types/datetime64/ >DateTime64</a>. </li> </ul> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Смещение в секундах от UTC. </li> </ul> <p>Тип: <a href=../../data-types/int-uint/ >Int32</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2021-04-21 10:20:30'</span><span class=p>,</span> <span class=s1>'Europe/Moscow'</span><span class=p>)</span> <span class=k>AS</span> <span class=k>Time</span><span class=p>,</span> <span class=n>toTypeName</span><span class=p>(</span><span class=k>Time</span><span class=p>)</span> <span class=k>AS</span> <span class=k>Type</span><span class=p>,</span>
       <span class=n>timeZoneOffset</span><span class=p>(</span><span class=k>Time</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Offset_in_seconds</span><span class=p>,</span> <span class=p>(</span><span class=n>Offset_in_seconds</span> <span class=o>/</span> <span class=mi>3600</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Offset_in_hours</span><span class=p>;</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌────────────────Time─┬─Type──────────────────────┬─Offset_in_seconds─┬─Offset_in_hours─┐
│ 2021-04-21 10:20:30 │ DateTime('Europe/Moscow') │             10800 │               3 │
└─────────────────────┴───────────────────────────┴───────────────────┴─────────────────┘
</code></pre></div> <h2 id=toyear>toYear<a class=headerlink href=#toyear title="Permanent link"> </a></h2> <p>Переводит дату или дату-с-временем в число типа UInt16, содержащее номер года (AD).</p> <p>Синоним: <code class=syntax>YEAR</code>.</p> <h2 id=toquarter>toQuarter<a class=headerlink href=#toquarter title="Permanent link"> </a></h2> <p>Переводит дату или дату-с-временем в число типа UInt8, содержащее номер квартала.</p> <p>Синоним: <code class=syntax>QUARTER</code>.</p> <h2 id=tomonth>toMonth<a class=headerlink href=#tomonth title="Permanent link"> </a></h2> <p>Переводит дату или дату-с-временем в число типа UInt8, содержащее номер месяца (1-12).</p> <p>Синоним: <code class=syntax>MONTH</code>.</p> <h2 id=todayofyear>toDayOfYear<a class=headerlink href=#todayofyear title="Permanent link"> </a></h2> <p>Переводит дату или дату-с-временем в число типа UInt16, содержащее номер дня года (1-366).</p> <p>Синоним: <code class=syntax>DAYOFYEAR</code>.</p> <h2 id=todayofmonth>toDayOfMonth<a class=headerlink href=#todayofmonth title="Permanent link"> </a></h2> <p>Переводит дату или дату-с-временем в число типа UInt8, содержащее номер дня в месяце (1-31).</p> <p>Синонимы: <code class=syntax>DAYOFMONTH</code>, <code class=syntax>DAY</code>.</p> <h2 id=todayofweek>toDayOfWeek<a class=headerlink href=#todayofweek title="Permanent link"> </a></h2> <p>Переводит дату или дату-с-временем в число типа UInt8, содержащее номер дня в неделе (понедельник - 1, воскресенье - 7).</p> <p>Синоним: <code class=syntax>DAYOFWEEK</code>.</p> <h2 id=tohour>toHour<a class=headerlink href=#tohour title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в число типа UInt8, содержащее номер часа в сутках (0-23).<br> Функция исходит из допущения, что перевод стрелок вперёд, если осуществляется, то на час, в два часа ночи, а перевод стрелок назад, если осуществляется, то на час, в три часа ночи (что, в общем, не верно - даже в Москве два раза перевод стрелок был осуществлён в другое время).</p> <p>Синоним: <code class=syntax>HOUR</code>.</p> <h2 id=tominute>toMinute<a class=headerlink href=#tominute title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в число типа UInt8, содержащее номер минуты в часе (0-59).</p> <p>Синоним: <code class=syntax>MINUTE</code>.</p> <h2 id=tosecond>toSecond<a class=headerlink href=#tosecond title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в число типа UInt8, содержащее номер секунды в минуте (0-59).<br> Секунды координации не учитываются.</p> <p>Синоним: <code class=syntax>SECOND</code>.</p> <h2 id=to-unix-timestamp>toUnixTimestamp<a class=headerlink href=#to-unix-timestamp title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в число типа UInt32 -- Unix Timestamp (<a href=https://en.wikipedia.org/wiki/Unix_time target=_blank>https://en.wikipedia.org/wiki/Unix_time</a>).<br> Для аргумента String, строка конвертируется в дату и время в соответствии с часовым поясом (необязательный второй аргумент, часовой пояс сервера используется по умолчанию).</p> <p><strong>Синтаксис</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>datetime</span><span class=p>)</span>
<span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>str</span><span class=p>,</span> <span class=p>[</span><span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Возвращает Unix Timestamp.</li> </ul> <p>Тип: <code class=syntax>UInt32</code>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toUnixTimestamp</span><span class=p>(</span><span class=s1>'2017-11-05 08:07:47'</span><span class=p>,</span> <span class=s1>'Asia/Tokyo'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>unix_timestamp</span><span class=p>;</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─unix_timestamp─┐
│     1509836867 │
└────────────────┘
</code></pre></div> <div class="admonition attention alert pb-0 mb-4 alert-warning" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Attention</p> <p><code class=syntax>Date</code> или <code class=syntax>DateTime</code> это возвращаемый тип функций <code class=syntax>toStartOf*</code>, который описан ниже. Несмотря на то, что эти функции могут принимать <code class=syntax>DateTime64</code> в качестве аргумента, если переданное значение типа <code class=syntax>DateTime64</code> выходит за пределы нормального диапазона (с 1925 по 2283 год), то это даст неверный результат.</p> </div> <h2 id=tostartofyear>toStartOfYear<a class=headerlink href=#tostartofyear title="Permanent link"> </a></h2> <p>Округляет дату или дату-с-временем вниз до первого дня года.<br> Возвращается дата.</p> <h2 id=tostartofisoyear>toStartOfISOYear<a class=headerlink href=#tostartofisoyear title="Permanent link"> </a></h2> <p>Округляет дату или дату-с-временем вниз до первого дня ISO года. Возвращается дата.<br> Начало ISO года отличается от начала обычного года, потому что в соответствии с <a href=https://en.wikipedia.org/wiki/ISO_8601 rel="external nofollow noreferrer" target=_blank>ISO 8601:1988</a> первая неделя года - это неделя с четырьмя или более днями в этом году.</p> <p>1 Января 2017 г. - воскресение, т.е. первая ISO неделя 2017 года началась в понедельник 2 января, поэтому 1 января 2017 это 2016 ISO-год, который начался 2016-01-04.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toStartOfISOYear</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2017-01-01'</span><span class=p>))</span> <span class=k>AS</span> <span class=n>ISOYear20170101</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code class=syntax>┌─ISOYear20170101─┐
│      2016-01-04 │
└─────────────────┘
</code></pre></div> <h2 id=tostartofquarter>toStartOfQuarter<a class=headerlink href=#tostartofquarter title="Permanent link"> </a></h2> <p>Округляет дату или дату-с-временем вниз до первого дня квартала.<br> Первый день квартала - это одно из 1 января, 1 апреля, 1 июля, 1 октября.<br> Возвращается дата.</p> <h2 id=tostartofmonth>toStartOfMonth<a class=headerlink href=#tostartofmonth title="Permanent link"> </a></h2> <p>Округляет дату или дату-с-временем вниз до первого дня месяца.<br> Возвращается дата.</p> <div class="admonition attention alert pb-0 mb-4 alert-warning" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Attention</p> <p>Возвращаемое значение для некорректных дат зависит от реализации. ClickHouse может вернуть нулевую дату, выбросить исключение, или выполнить «естественное» перетекание дат между месяцами.</p> </div> <h2 id=tomonday>toMonday<a class=headerlink href=#tomonday title="Permanent link"> </a></h2> <p>Округляет дату или дату-с-временем вниз до ближайшего понедельника.<br> Возвращается дата.</p> <h2 id=tostartofweek>toStartOfWeek(t[,mode])<a class=headerlink href=#tostartofweek title="Permanent link"> </a></h2> <p>Округляет дату или дату со временем до ближайшего воскресенья или понедельника в соответствии с mode.<br> Возвращается дата.<br> Аргумент mode работает точно так же, как аргумент mode <a href=#toweek>toWeek()</a>. Если аргумент mode опущен, то используется режим 0.</p> <h2 id=tostartofday>toStartOfDay<a class=headerlink href=#tostartofday title="Permanent link"> </a></h2> <p>Округляет дату-с-временем вниз до начала дня. Возвращается дата-с-временем.</p> <h2 id=tostartofhour>toStartOfHour<a class=headerlink href=#tostartofhour title="Permanent link"> </a></h2> <p>Округляет дату-с-временем вниз до начала часа.</p> <h2 id=tostartofminute>toStartOfMinute<a class=headerlink href=#tostartofminute title="Permanent link"> </a></h2> <p>Округляет дату-с-временем вниз до начала минуты.</p> <h2 id=tostartofsecond>toStartOfSecond<a class=headerlink href=#tostartofsecond title="Permanent link"> </a></h2> <p>Отсекает доли секунды.</p> <p><strong>Синтаксис</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>toStartOfSecond</span><span class=p>(</span><span class=n>value</span><span class=p>[,</span> <span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Аргументы</strong></p> <ul> <li><code class=syntax>value</code> — дата и время. <a href=../../data-types/datetime64/ >DateTime64</a>.</li> <li><code class=syntax>timezone</code> — <a href=../../../operations/server-configuration-parameters/settings/#server_configuration_parameters-timezone>часовой пояс</a> для возвращаемого значения (необязательно). Если параметр не задан, используется часовой пояс параметра <code class=syntax>value</code>. <a href=../../data-types/string/ >String</a>. </li> </ul> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Входное значение с отсеченными долями секунды.</li> </ul> <p>Тип: <a href=../../data-types/datetime64/ >DateTime64</a>.</p> <p><strong>Примеры</strong></p> <p>Пример без часового пояса:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span> <span class=n>toDateTime64</span><span class=p>(</span><span class=s1>'2020-01-01 10:20:30.999'</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=k>AS</span> <span class=n>dt64</span> <span class=k>SELECT</span> <span class=n>toStartOfSecond</span><span class=p>(</span><span class=n>dt64</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───toStartOfSecond(dt64)─┐
│ 2020-01-01 10:20:30.000 │
└─────────────────────────┘
</code></pre></div> <p>Пример с часовым поясом:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>WITH</span> <span class=n>toDateTime64</span><span class=p>(</span><span class=s1>'2020-01-01 10:20:30.999'</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=k>AS</span> <span class=n>dt64</span> <span class=k>SELECT</span> <span class=n>toStartOfSecond</span><span class=p>(</span><span class=n>dt64</span><span class=p>,</span> <span class=s1>'Europe/Moscow'</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─toStartOfSecond(dt64, 'Europe/Moscow')─┐
│                2020-01-01 13:20:30.000 │
└────────────────────────────────────────┘
</code></pre></div> <p><strong>Смотрите также</strong></p> <ul> <li>Часовая зона сервера, конфигурационный параметр <a href=../../../operations/server-configuration-parameters/settings/#server_configuration_parameters-timezone>timezone</a>.</li> </ul> <h2 id=tostartoffiveminute>toStartOfFiveMinute<a class=headerlink href=#tostartoffiveminute title="Permanent link"> </a></h2> <p>Округляет дату-с-временем вниз до начала пятиминутного интервала.</p> <h2 id=tostartoftenminutes>toStartOfTenMinutes<a class=headerlink href=#tostartoftenminutes title="Permanent link"> </a></h2> <p>Округляет дату-с-временем вниз до начала десятиминутного интервала.</p> <h2 id=tostartoffifteenminutes>toStartOfFifteenMinutes<a class=headerlink href=#tostartoffifteenminutes title="Permanent link"> </a></h2> <p>Округляет дату-с-временем вниз до начала пятнадцатиминутного интервала.</p> <h2 id=tostartofintervaltime-or-data-interval-x-unit-time-zone>toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])<a class=headerlink href=#tostartofintervaltime-or-data-interval-x-unit-time-zone title="Permanent link"> </a></h2> <p>Обобщение остальных функций <code class=syntax>toStartOf*</code>. Например,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 year)</code> возвращает то же самое, что и <code class=syntax>toStartOfYear(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 month)</code> возвращает то же самое, что и <code class=syntax>toStartOfMonth(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 1 day)</code> возвращает то же самое, что и <code class=syntax>toStartOfDay(t)</code>,<br> <code class=syntax>toStartOfInterval(t, INTERVAL 15 minute)</code> возвращает то же самое, что и <code class=syntax>toStartOfFifteenMinutes(t)</code>, и т.п.</p> <h2 id=totime>toTime<a class=headerlink href=#totime title="Permanent link"> </a></h2> <p>Переводит дату-с-временем на некоторую фиксированную дату, сохраняя при этом время.</p> <h2 id=torelativeyearnum>toRelativeYearNum<a class=headerlink href=#torelativeyearnum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в номер года, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativequarternum>toRelativeQuarterNum<a class=headerlink href=#torelativequarternum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в номер квартала, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativemonthnum>toRelativeMonthNum<a class=headerlink href=#torelativemonthnum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в номер месяца, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativeweeknum>toRelativeWeekNum<a class=headerlink href=#torelativeweeknum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в номер недели, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativedaynum>toRelativeDayNum<a class=headerlink href=#torelativedaynum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в номер дня, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativehournum>toRelativeHourNum<a class=headerlink href=#torelativehournum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в номер часа, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativeminutenum>toRelativeMinuteNum<a class=headerlink href=#torelativeminutenum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в номер минуты, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=torelativesecondnum>toRelativeSecondNum<a class=headerlink href=#torelativesecondnum title="Permanent link"> </a></h2> <p>Переводит дату-с-временем в номер секунды, начиная с некоторого фиксированного момента в прошлом.</p> <h2 id=toisoyear>toISOYear<a class=headerlink href=#toisoyear title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в число типа UInt16, содержащее номер ISO года. ISO год отличается от обычного года, потому что в соответствии с <a href=https://en.wikipedia.org/wiki/ISO_8601 rel="external nofollow noreferrer" target=_blank>ISO 8601:1988</a> ISO год начинается необязательно первого января.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>toDate</span><span class=p>(</span><span class=s1>'2017-01-01'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span>
    <span class=n>toYear</span><span class=p>(</span><span class=nb>date</span><span class=p>),</span>
    <span class=n>toISOYear</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─toYear(toDate('2017-01-01'))─┬─toISOYear(toDate('2017-01-01'))─┐
│ 2017-01-01 │                         2017 │                            2016 │
└────────────┴──────────────────────────────┴─────────────────────────────────┘
</code></pre></div> <h2 id=toisoweek>toISOWeek<a class=headerlink href=#toisoweek title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в число типа UInt8, содержащее номер ISO недели.<br> Начало ISO года отличается от начала обычного года, потому что в соответствии с <a href=https://en.wikipedia.org/wiki/ISO_8601 rel="external nofollow noreferrer" target=_blank>ISO 8601:1988</a> первая неделя года - это неделя с четырьмя или более днями в этом году.</p> <p>1 Января 2017 г. - воскресение, т.е. первая ISO неделя 2017 года началась в понедельник 2 января, поэтому 1 января 2017 это последняя неделя 2016 года.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>toISOWeek</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2017-01-01'</span><span class=p>))</span> <span class=k>AS</span> <span class=n>ISOWeek20170101</span><span class=p>,</span>
    <span class=n>toISOWeek</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2017-01-02'</span><span class=p>))</span> <span class=k>AS</span> <span class=n>ISOWeek20170102</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─ISOWeek20170101─┬─ISOWeek20170102─┐
│              52 │               1 │
└─────────────────┴─────────────────┘
</code></pre></div> <h2 id=toweek>toWeek(date[, mode][, timezone])<a class=headerlink href=#toweek title="Permanent link"> </a></h2> <p>Переводит дату-с-временем или дату в число UInt8, содержащее номер недели. Второй аргументам mode задает режим, начинается ли неделя с воскресенья или с понедельника и должно ли возвращаемое значение находиться в диапазоне от 0 до 53 или от 1 до 53. Если аргумент mode опущен, то используется режим 0.</p> <p><code class=syntax>toISOWeek()</code> эквивалентно <code class=syntax>toWeek(date,3)</code>.</p> <p>Описание режимов (mode):</p> <table> <thead> <tr> <th>Mode</th> <th>Первый день недели</th> <th>Диапазон</th> <th>Неделя 1 это первая неделя …</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>Воскресенье</td> <td>0-53</td> <td>с воскресеньем в этом году</td> </tr> <tr> <td>1</td> <td>Понедельник</td> <td>0-53</td> <td>с 4-мя или более днями в этом году</td> </tr> <tr> <td>2</td> <td>Воскресенье</td> <td>1-53</td> <td>с воскресеньем в этом году</td> </tr> <tr> <td>3</td> <td>Понедельник</td> <td>1-53</td> <td>с 4-мя или более днями в этом году</td> </tr> <tr> <td>4</td> <td>Воскресенье</td> <td>0-53</td> <td>с 4-мя или более днями в этом году</td> </tr> <tr> <td>5</td> <td>Понедельник</td> <td>0-53</td> <td>с понедельником в этом году</td> </tr> <tr> <td>6</td> <td>Воскресенье</td> <td>1-53</td> <td>с 4-мя или более днями в этом году</td> </tr> <tr> <td>7</td> <td>Понедельник</td> <td>1-53</td> <td>с понедельником в этом году</td> </tr> <tr> <td>8</td> <td>Воскресенье</td> <td>1-53</td> <td>содержащая 1 января</td> </tr> <tr> <td>9</td> <td>Понедельник</td> <td>1-53</td> <td>содержащая 1 января</td> </tr> </tbody> </table> <p>Для режимов со значением «с 4 или более днями в этом году» недели нумеруются в соответствии с ISO 8601:1988:</p> <ul> <li> <p>Если неделя, содержащая 1 января, имеет 4 или более дней в новом году, это неделя 1.</p> </li> <li> <p>В противном случае это последняя неделя предыдущего года, а следующая неделя - неделя 1.</p> </li> </ul> <p>Для режимов со значением «содержит 1 января», неделя 1 – это неделя содержащая 1 января. Не имеет значения, сколько дней в новом году содержала неделя, даже если она содержала только один день.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2016-12-27'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span> <span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span> <span class=k>AS</span> <span class=n>week0</span><span class=p>,</span> <span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>week1</span><span class=p>,</span> <span class=n>toWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>9</span><span class=p>)</span> <span class=k>AS</span> <span class=n>week9</span><span class=p>;</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─week0─┬─week1─┬─week9─┐
│ 2016-12-27 │    52 │    52 │     1 │
└────────────┴───────┴───────┴───────┘
</code></pre></div> <h2 id=toyearweek>toYearWeek(date[,mode])<a class=headerlink href=#toyearweek title="Permanent link"> </a></h2> <p>Возвращает год и неделю для даты. Год в результате может отличаться от года в аргументе даты для первой и последней недели года.</p> <p>Аргумент mode работает точно так же, как аргумент mode <a href=#toweek>toWeek()</a>. Если mode не задан, используется режим 0.</p> <p><code class=syntax>toISOYear()</code> эквивалентно <code class=syntax>intDiv(toYearWeek(date,3),100)</code>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2016-12-27'</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span> <span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>)</span> <span class=k>AS</span> <span class=n>yearWeek0</span><span class=p>,</span> <span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>yearWeek1</span><span class=p>,</span> <span class=n>toYearWeek</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span><span class=mi>9</span><span class=p>)</span> <span class=k>AS</span> <span class=n>yearWeek9</span><span class=p>;</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────date─┬─yearWeek0─┬─yearWeek1─┬─yearWeek9─┐
│ 2016-12-27 │    201652 │    201652 │    201701 │
└────────────┴───────────┴───────────┴───────────┘
</code></pre></div> <h2 id=date_trunc>date_trunc<a class=headerlink href=#date_trunc title="Permanent link"> </a></h2> <p>Отсекает от даты и времени части, меньшие чем указанная часть.</p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_trunc</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>[,</span> <span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p>Синоним: <code class=syntax>dateTrunc</code>. </p> <p><strong>Аргументы</strong></p> <ul> <li> <p><code class=syntax>unit</code> — единица измерения времени, в которой задана отсекаемая часть. <a href=../../syntax/#syntax-string-literal>String Literal</a>.<br> Возможные значения:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>value</code> — дата и время. <a href=../../data-types/datetime/ >DateTime</a> или <a href=../../data-types/datetime64/ >DateTime64</a>.</p> </li> <li><code class=syntax>timezone</code> — <a href=../../../operations/server-configuration-parameters/settings/#server_configuration_parameters-timezone>часовой пояс</a> для возвращаемого значения (необязательно). Если параметр не задан, используется часовой пояс параметра <code class=syntax>value</code>. <a href=../../data-types/string/ >String</a></li> </ul> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Дата и время, отсеченные до указанной части.</li> </ul> <p>Тип: <a href=../../data-types/datetime/ >Datetime</a>.</p> <p><strong>Примеры</strong></p> <p>Запрос без указания часового пояса:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>(),</span> <span class=n>date_trunc</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span> <span class=n>now</span><span class=p>());</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────────────now()─┬─date_trunc('hour', now())─┐
│ 2020-09-28 10:40:45 │       2020-09-28 10:00:00 │
└─────────────────────┴───────────────────────────┘
</code></pre></div> <p>Запрос с указанием часового пояса:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>(),</span> <span class=n>date_trunc</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span> <span class=n>now</span><span class=p>(),</span> <span class=s1>'Europe/Moscow'</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────────────now()─┬─date_trunc('hour', now(), 'Europe/Moscow')─┐
│ 2020-09-28 10:46:26 │                        2020-09-28 13:00:00 │
└─────────────────────┴────────────────────────────────────────────┘
</code></pre></div> <p><strong>Смотрите также</strong></p> <ul> <li><a href=#tostartofintervaltime-or-data-interval-x-unit-time-zone>toStartOfInterval</a></li> </ul> <h2 id=date_add>date_add<a class=headerlink href=#date_add title="Permanent link"> </a></h2> <p>Добавляет интервал времени или даты к указанной дате или дате со временем.</p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_add</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Синонимы: <code class=syntax>dateAdd</code>, <code class=syntax>DATE_ADD</code>.</p> <p><strong>Аргументы</strong></p> <ul> <li> <p><code class=syntax>unit</code> — единица измерения времени, в которой задан интервал для добавления. <a href=../../data-types/string/ >String</a>.<br> Возможные значения:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>value</code> — значение интервала для добавления. <a href=../../data-types/int-uint/ >Int</a>.</p> </li> <li><code class=syntax>date</code> — дата или дата со временем, к которой добавляется <code class=syntax>value</code>. <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</li> </ul> <p><strong>Возвращаемое значение</strong></p> <p>Дата или дата со временем, полученная в результате добавления <code class=syntax>value</code>, выраженного в <code class=syntax>unit</code>, к <code class=syntax>date</code>.</p> <p>Тип: <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>date_add</span><span class=p>(</span><span class=k>YEAR</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>));</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─plus(toDate('2018-01-01'), toIntervalYear(3))─┐
│                                    2021-01-01 │
└───────────────────────────────────────────────┘
</code></pre></div> <h2 id=date_diff>date_diff<a class=headerlink href=#date_diff title="Permanent link"> </a></h2> <p>Вычисляет разницу между двумя значениями дат или дат со временем.</p> <p><strong>Синтаксис</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_diff</span><span class=p>(</span><span class=s1>'unit'</span><span class=p>,</span> <span class=n>startdate</span><span class=p>,</span> <span class=n>enddate</span><span class=p>,</span> <span class=p>[</span><span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p>Синонимы: <code class=syntax>dateDiff</code>, <code class=syntax>DATE_DIFF</code>.</p> <p><strong>Аргументы</strong></p> <ul> <li> <p><code class=syntax>unit</code> — единица измерения времени, в которой будет выражено возвращаемое значение функции. <a href=../../data-types/string/ >String</a>.<br> Возможные значения:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>startdate</code> — первая дата или дата со временем, которая вычитается из <code class=syntax>enddate</code>. <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</p> </li> <li> <p><code class=syntax>enddate</code> — вторая дата или дата со временем, из которой вычитается <code class=syntax>startdate</code>. <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</p> </li> <li> <p><code class=syntax>timezone</code> — <a href=../../../operations/server-configuration-parameters/settings/#server_configuration_parameters-timezone>часовой пояс</a> (необязательно). Если этот аргумент указан, то он применяется как для <code class=syntax>startdate</code>, так и для <code class=syntax>enddate</code>. Если этот аргумент не указан, то используются часовые пояса аргументов <code class=syntax>startdate</code> и <code class=syntax>enddate</code>. Если часовые пояса аргументов <code class=syntax>startdate</code> и <code class=syntax>enddate</code> не совпадают, то результат не определен. <a href=../../data-types/string/ >String</a>.</p> </li> </ul> <p><strong>Возвращаемое значение</strong></p> <p>Разница между <code class=syntax>enddate</code> и <code class=syntax>startdate</code>, выраженная в <code class=syntax>unit</code>.</p> <p>Тип: <a href=../../data-types/int-uint/ >Int</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>dateDiff</span><span class=p>(</span><span class=s1>'hour'</span><span class=p>,</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-01 22:00:00'</span><span class=p>),</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-01-02 23:00:00'</span><span class=p>));</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─dateDiff('hour', toDateTime('2018-01-01 22:00:00'), toDateTime('2018-01-02 23:00:00'))─┐
│                                                                                     25 │
└────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=date_sub>date_sub<a class=headerlink href=#date_sub title="Permanent link"> </a></h2> <p>Вычитает интервал времени или даты из указанной даты или даты со временем.</p> <p><strong>Синтаксис</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>date_sub</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Синонимы: <code class=syntax>dateSub</code>, <code class=syntax>DATE_SUB</code>.</p> <p><strong>Аргументы</strong></p> <ul> <li> <p><code class=syntax>unit</code> — единица измерения времени, в которой задан интервал для вычитания. <a href=../../data-types/string/ >String</a>.<br> Возможные значения:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>value</code> — значение интервала для вычитания. <a href=../../data-types/int-uint/ >Int</a>.</p> </li> <li><code class=syntax>date</code> — дата или дата со временем, из которой вычитается <code class=syntax>value</code>. <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</li> </ul> <p><strong>Возвращаемое значение</strong></p> <p>Дата или дата со временем, полученная в результате вычитания <code class=syntax>value</code>, выраженного в <code class=syntax>unit</code>, из <code class=syntax>date</code>.</p> <p>Тип: <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>date_sub</span><span class=p>(</span><span class=k>YEAR</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>));</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─minus(toDate('2018-01-01'), toIntervalYear(3))─┐
│                                     2015-01-01 │
└────────────────────────────────────────────────┘
</code></pre></div> <h2 id=timestamp_add>timestamp_add<a class=headerlink href=#timestamp_add title="Permanent link"> </a></h2> <p>Добавляет интервал времени к указанной дате или дате со временем.</p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timestamp_add</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=nb>INTERVAL</span> <span class=n>value</span> <span class=n>unit</span><span class=p>)</span>
</code></pre></div> <p>Синонимы: <code class=syntax>timeStampAdd</code>, <code class=syntax>TIMESTAMP_ADD</code>. </p> <p><strong>Аргументы</strong></p> <ul> <li><code class=syntax>date</code> — дата или дата со временем. <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</li> <li><code class=syntax>value</code> — значение интервала для добавления. <a href=../../data-types/int-uint/ >Int</a>.</li> <li> <p><code class=syntax>unit</code> — единица измерения времени, в которой задан интервал для добавления. <a href=../../data-types/string/ >String</a>.<br> Возможные значения:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> </ul> <p><strong>Возвращаемое значение</strong></p> <p>Дата или дата со временем, полученная в результате добавления <code class=syntax>value</code>, выраженного в <code class=syntax>unit</code>, к <code class=syntax>date</code>.</p> <p>Тип: <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>select</span> <span class=n>timestamp_add</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2018-01-01'</span><span class=p>),</span> <span class=nb>INTERVAL</span> <span class=mi>3</span> <span class=k>MONTH</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─plus(toDate('2018-01-01'), toIntervalMonth(3))─┐
│                                     2018-04-01 │
└────────────────────────────────────────────────┘
</code></pre></div> <h2 id=timestamp_sub>timestamp_sub<a class=headerlink href=#timestamp_sub title="Permanent link"> </a></h2> <p>Вычитает интервал времени из указанной даты или даты со временем.</p> <p><strong>Синтакис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>timestamp_sub</span><span class=p>(</span><span class=n>unit</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=nb>date</span><span class=p>)</span>
</code></pre></div> <p>Синонимы: <code class=syntax>timeStampSub</code>, <code class=syntax>TIMESTAMP_SUB</code>. </p> <p><strong>Аргументы</strong></p> <ul> <li> <p><code class=syntax>unit</code> — единица измерения времени, в которой задан интервал для вычитания. <a href=../../data-types/string/ >String</a>.<br> Возможные значения:</p> <ul> <li><code class=syntax>second</code></li> <li><code class=syntax>minute</code></li> <li><code class=syntax>hour</code></li> <li><code class=syntax>day</code></li> <li><code class=syntax>week</code></li> <li><code class=syntax>month</code></li> <li><code class=syntax>quarter</code></li> <li><code class=syntax>year</code></li> </ul> </li> <li> <p><code class=syntax>value</code> — значение интервала для вычитания. <a href=../../data-types/int-uint/ >Int</a>. </p> </li> <li><code class=syntax>date</code> — дата или дата со временем. <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</li> </ul> <p><strong>Возвращаемое значение</strong></p> <p>Дата или дата со временем, полученная в результате вычитания <code class=syntax>value</code>, выраженного в <code class=syntax>unit</code>, из <code class=syntax>date</code>.</p> <p>Тип: <a href=../../data-types/date/ >Date</a> или <a href=../../data-types/datetime/ >DateTime</a>.</p> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>select</span> <span class=n>timestamp_sub</span><span class=p>(</span><span class=k>MONTH</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=n>toDateTime</span><span class=p>(</span><span class=s1>'2018-12-18 01:02:03'</span><span class=p>));</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─minus(toDateTime('2018-12-18 01:02:03'), toIntervalMonth(5))─┐
│                                          2018-07-18 01:02:03 │
└──────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=now>now<a class=headerlink href=#now title="Permanent link"> </a></h2> <p>Возвращает текущую дату и время. </p> <p><strong>Синтаксис</strong> </p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>now</span><span class=p>([</span><span class=n>timezone</span><span class=p>])</span>
</code></pre></div> <p><strong>Параметры</strong></p> <ul> <li><code class=syntax>timezone</code> — <a href=../../../operations/server-configuration-parameters/settings/#server_configuration_parameters-timezone>часовой пояс</a> для возвращаемого значения (необязательно). <a href=../../data-types/string/ >String</a>.</li> </ul> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Текущие дата и время.</li> </ul> <p>Тип: <a href=../../data-types/datetime/ >Datetime</a>.</p> <p><strong>Пример</strong></p> <p>Запрос без указания часового пояса:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>();</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌───────────────now()─┐
│ 2020-10-17 07:42:09 │
└─────────────────────┘
</code></pre></div> <p>Запрос с указанием часового пояса:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>now</span><span class=p>(</span><span class=s1>'Europe/Moscow'</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─now('Europe/Moscow')─┐
│  2020-10-17 10:42:23 │
└──────────────────────┘
</code></pre></div> <h2 id=today>today<a class=headerlink href=#today title="Permanent link"> </a></h2> <p>Возвращает текущую дату на момент выполнения запроса. Функция не требует аргументов.<br> То же самое, что toDate(now())</p> <h2 id=yesterday>yesterday<a class=headerlink href=#yesterday title="Permanent link"> </a></h2> <p>Возвращает вчерашнюю дату на момент выполнения запроса.<br> Делает то же самое, что today() - 1. Функция не требует аргументов.</p> <h2 id=timeslot>timeSlot<a class=headerlink href=#timeslot title="Permanent link"> </a></h2> <p>Округляет время до получаса.<br> Эта функция является специфичной для Яндекс.Метрики, так как пол часа - минимальное время, для которого, если соседние по времени хиты одного посетителя на одном счётчике отстоят друг от друга строго более, чем на это время, визит может быть разбит на два визита. То есть, кортежи (номер счётчика, идентификатор посетителя, тайм-слот) могут использоваться для поиска хитов, входящий в соответствующий визит.</p> <h2 id=timeslotsstarttime-duration-size>timeSlots(StartTime, Duration,[, Size])<a class=headerlink href=#timeslotsstarttime-duration-size title="Permanent link"> </a></h2> <p>Для интервала времени, начинающегося в ‘StartTime’ и продолжающегося ‘Duration’ секунд, возвращает массив моментов времени, состоящий из округлений вниз до ‘Size’ точек в секундах из этого интервала. ‘Size’ - необязательный параметр, константный UInt32, по умолчанию равен 1800.</p> <p>Например, <code class=syntax>timeSlots(toDateTime('2012-01-01 12:20:00'), toUInt32(600)) = [toDateTime('2012-01-01 12:00:00'), toDateTime('2012-01-01 12:30:00')]</code>.<br> Это нужно для поиска хитов, входящих в соответствующий визит.</p> <h2 id=toyyyymm>toYYYYMM<a class=headerlink href=#toyyyymm title="Permanent link"> </a></h2> <p>Переводит дату или дату со временем в число типа UInt32, содержащее номер года и месяца (YYYY * 100 + MM).</p> <h2 id=toyyyymmdd>toYYYYMMDD<a class=headerlink href=#toyyyymmdd title="Permanent link"> </a></h2> <p>Переводит дату или дату со временем в число типа UInt32, содержащее номер года, месяца и дня (YYYY * 10000 + MM * 100 + DD).</p> <h2 id=toyyyymmddhhmmss>toYYYYMMDDhhmmss<a class=headerlink href=#toyyyymmddhhmmss title="Permanent link"> </a></h2> <p>Переводит дату или дату со временем в число типа UInt64 содержащее номер года, месяца, дня и время (YYYY * 10000000000 + MM * 100000000 + DD * 1000000 + hh * 10000 + mm * 100 + ss).</p> <h2 id=formatdatetime>formatDateTime<a class=headerlink href=#formatdatetime title="Permanent link"> </a></h2> <p>Функция преобразует дату-и-время в строку по заданному шаблону. Важно: шаблон — константное выражение, поэтому использовать разные шаблоны в одной колонке не получится.</p> <p><strong>Синтаксис</strong></p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>formatDateTime</span><span class=p>(</span><span class=k>Time</span><span class=p>,</span> <span class=n>Format</span><span class=err>\</span><span class=p>[,</span> <span class=n>Timezone</span><span class=err>\</span><span class=p>])</span>
</code></pre></div> <p><strong>Возвращаемое значение</strong></p> <p>Возвращает значение времени и даты в определенном вами формате.</p> <p><strong>Поля подстановки</strong></p> <p>Используйте поля подстановки для того, чтобы определить шаблон для выводимой строки. В колонке «Пример» результат работы функции для времени <code class=syntax>2018-01-02 22:33:44</code>.</p> <table> <thead> <tr> <th>Поле</th> <th>Описание</th> <th>Пример</th> </tr> </thead> <tbody> <tr> <td>%C</td> <td>номер года, поделённый на 100 (00-99)</td> <td>20</td> </tr> <tr> <td>%d</td> <td>день месяца, с ведущим нулём (01-31)</td> <td>02</td> </tr> <tr> <td>%D</td> <td>короткая запись %m/%d/%y</td> <td>01/02/18</td> </tr> <tr> <td>%e</td> <td>день месяца, с ведущим пробелом ( 1-31)</td> <td>  2</td> </tr> <tr> <td>%F</td> <td>короткая запись %Y-%m-%d</td> <td>2018-01-02</td> </tr> <tr> <td>%G</td> <td>четырехзначный формат вывода ISO-года, который основывается на особом подсчете номера недели согласно <a href=https://ru.wikipedia.org/wiki/ISO_8601 rel="external nofollow noreferrer" target=_blank>стандарту ISO 8601</a>, обычно используется вместе с %V</td> <td>2018</td> </tr> <tr> <td>%g</td> <td>двузначный формат вывода года по стандарту ISO 8601</td> <td>18</td> </tr> <tr> <td>%H</td> <td>час в 24-часовом формате (00-23)</td> <td>22</td> </tr> <tr> <td>%I</td> <td>час в 12-часовом формате (01-12)</td> <td>10</td> </tr> <tr> <td>%j</td> <td>номер дня в году, с ведущими нулями (001-366)</td> <td>002</td> </tr> <tr> <td>%m</td> <td>месяц, с ведущим нулём (01-12)</td> <td>01</td> </tr> <tr> <td>%M</td> <td>минуты, с ведущим нулём (00-59)</td> <td>33</td> </tr> <tr> <td>%n</td> <td>символ переноса строки (‘’)</td> <td></td> </tr> <tr> <td>%p</td> <td>обозначения AM или PM</td> <td>PM</td> </tr> <tr> <td>%Q</td> <td>квартал (1-4)</td> <td>1</td> </tr> <tr> <td>%R</td> <td>короткая запись %H:%M</td> <td>22:33</td> </tr> <tr> <td>%S</td> <td>секунды, с ведущими нулями (00-59)</td> <td>44</td> </tr> <tr> <td>%t</td> <td>символ табуляции (’)</td> <td></td> </tr> <tr> <td>%T</td> <td>формат времени ISO 8601, одинаковый с %H:%M:%S</td> <td>22:33:44</td> </tr> <tr> <td>%u</td> <td>номер дня недели согласно ISO 8601, понедельник - 1, воскресенье - 7</td> <td>2</td> </tr> <tr> <td>%V</td> <td>номер недели согласно ISO 8601 (01-53)</td> <td>01</td> </tr> <tr> <td>%w</td> <td>номер дня недели, начиная с воскресенья (0-6)</td> <td>2</td> </tr> <tr> <td>%y</td> <td>год, последние 2 цифры (00-99)</td> <td>18</td> </tr> <tr> <td>%Y</td> <td>год, 4 цифры</td> <td>2018</td> </tr> <tr> <td>%%</td> <td>символ %</td> <td>%</td> </tr> </tbody> </table> <p><strong>Пример</strong></p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>formatDateTime</span><span class=p>(</span><span class=n>toDate</span><span class=p>(</span><span class=s1>'2010-01-04'</span><span class=p>),</span> <span class=s1>'%g'</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─formatDateTime(toDate('2010-01-04'), '%g')─┐
│ 10                                         │
└────────────────────────────────────────────┘
</code></pre></div> <h2 id=fromunixtime>FROM_UNIXTIME<a class=headerlink href=#fromunixtime title="Permanent link"> </a></h2> <p>Функция преобразует Unix timestamp в календарную дату и время. </p> <p><strong>Примеры</strong></p> <p>Если указан только один аргумент типа <a href=../../data-types/int-uint/ >Integer</a>, то функция действует так же, как <a href=../type-conversion-functions/#todatetime>toDateTime</a>, и возвращает тип <a href=../../data-types/datetime/ >DateTime</a>.</p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>FROM_UNIXTIME</span><span class=p>(</span><span class=mi>423543535</span><span class=p>);</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─FROM_UNIXTIME(423543535)─┐
│      1983-06-04 10:58:55 │
└──────────────────────────┘
</code></pre></div> <p>В случае, когда есть два аргумента: первый типа <a href=../../data-types/int-uint/ >Integer</a> или <a href=../../data-types/datetime/ >DateTime</a>, а второй является строкой постоянного формата — функция работает также, как <a href=#formatdatetime>formatDateTime</a>, и возвращает значение типа <a href=../../data-types/string/#string>String</a>.</p> <p>Запрос:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>FROM_UNIXTIME</span><span class=p>(</span><span class=mi>1234334543</span><span class=p>,</span> <span class=s1>'%Y-%m-%d %R:%S'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>DateTime</span><span class=p>;</span>
</code></pre></div> <p>Результат:</p> <div class=codehilite><pre><span></span><code class=syntax>┌─DateTime────────────┐
│ 2009-02-11 14:42:23 │
└─────────────────────┘
</code></pre></div> </div> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Was this content helpful?</span> <div id=rating-stars class="display-6 mb-0" data-titles="['Unusable', 'Poor', 'OK', 'Good', 'Excellent']" data-documentation=documentation>RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2021 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/878a159538935028f2d2dce3eb3074d44eb191df rel="external nofollow noreferrer" target=_blank class=text-reset>878a159538</a> </div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#timezone title=timeZone class="nav-link text-wrap d-inline-block w-100"> timeZone </a> <a href=#totimezone title=toTimeZone class="nav-link text-wrap d-inline-block w-100"> toTimeZone </a> <a href=#timezoneof title=timeZoneOf class="nav-link text-wrap d-inline-block w-100"> timeZoneOf </a> <a href=#timezoneoffset title=timeZoneOffset class="nav-link text-wrap d-inline-block w-100"> timeZoneOffset </a> <a href=#toyear title=toYear class="nav-link text-wrap d-inline-block w-100"> toYear </a> <a href=#toquarter title=toQuarter class="nav-link text-wrap d-inline-block w-100"> toQuarter </a> <a href=#tomonth title=toMonth class="nav-link text-wrap d-inline-block w-100"> toMonth </a> <a href=#todayofyear title=toDayOfYear class="nav-link text-wrap d-inline-block w-100"> toDayOfYear </a> <a href=#todayofmonth title=toDayOfMonth class="nav-link text-wrap d-inline-block w-100"> toDayOfMonth </a> <a href=#todayofweek title=toDayOfWeek class="nav-link text-wrap d-inline-block w-100"> toDayOfWeek </a> <a href=#tohour title=toHour class="nav-link text-wrap d-inline-block w-100"> toHour </a> <a href=#tominute title=toMinute class="nav-link text-wrap d-inline-block w-100"> toMinute </a> <a href=#tosecond title=toSecond class="nav-link text-wrap d-inline-block w-100"> toSecond </a> <a href=#to-unix-timestamp title=toUnixTimestamp class="nav-link text-wrap d-inline-block w-100"> toUnixTimestamp </a> <a href=#tostartofyear title=toStartOfYear class="nav-link text-wrap d-inline-block w-100"> toStartOfYear </a> <a href=#tostartofisoyear title=toStartOfISOYear class="nav-link text-wrap d-inline-block w-100"> toStartOfISOYear </a> <a href=#tostartofquarter title=toStartOfQuarter class="nav-link text-wrap d-inline-block w-100"> toStartOfQuarter </a> <a href=#tostartofmonth title=toStartOfMonth class="nav-link text-wrap d-inline-block w-100"> toStartOfMonth </a> <a href=#tomonday title=toMonday class="nav-link text-wrap d-inline-block w-100"> toMonday </a> <a href=#tostartofweek title=toStartOfWeek(t[,mode]) class="nav-link text-wrap d-inline-block w-100"> toStartOfWeek(t[,mode]) </a> <a href=#tostartofday title=toStartOfDay class="nav-link text-wrap d-inline-block w-100"> toStartOfDay </a> <a href=#tostartofhour title=toStartOfHour class="nav-link text-wrap d-inline-block w-100"> toStartOfHour </a> <a href=#tostartofminute title=toStartOfMinute class="nav-link text-wrap d-inline-block w-100"> toStartOfMinute </a> <a href=#tostartofsecond title=toStartOfSecond class="nav-link text-wrap d-inline-block w-100"> toStartOfSecond </a> <a href=#tostartoffiveminute title=toStartOfFiveMinute class="nav-link text-wrap d-inline-block w-100"> toStartOfFiveMinute </a> <a href=#tostartoftenminutes title=toStartOfTenMinutes class="nav-link text-wrap d-inline-block w-100"> toStartOfTenMinutes </a> <a href=#tostartoffifteenminutes title=toStartOfFifteenMinutes class="nav-link text-wrap d-inline-block w-100"> toStartOfFifteenMinutes </a> <a href=#tostartofintervaltime-or-data-interval-x-unit-time-zone title="toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])" class="nav-link text-wrap d-inline-block w-100"> toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone]) </a> <a href=#totime title=toTime class="nav-link text-wrap d-inline-block w-100"> toTime </a> <a href=#torelativeyearnum title=toRelativeYearNum class="nav-link text-wrap d-inline-block w-100"> toRelativeYearNum </a> <a href=#torelativequarternum title=toRelativeQuarterNum class="nav-link text-wrap d-inline-block w-100"> toRelativeQuarterNum </a> <a href=#torelativemonthnum title=toRelativeMonthNum class="nav-link text-wrap d-inline-block w-100"> toRelativeMonthNum </a> <a href=#torelativeweeknum title=toRelativeWeekNum class="nav-link text-wrap d-inline-block w-100"> toRelativeWeekNum </a> <a href=#torelativedaynum title=toRelativeDayNum class="nav-link text-wrap d-inline-block w-100"> toRelativeDayNum </a> <a href=#torelativehournum title=toRelativeHourNum class="nav-link text-wrap d-inline-block w-100"> toRelativeHourNum </a> <a href=#torelativeminutenum title=toRelativeMinuteNum class="nav-link text-wrap d-inline-block w-100"> toRelativeMinuteNum </a> <a href=#torelativesecondnum title=toRelativeSecondNum class="nav-link text-wrap d-inline-block w-100"> toRelativeSecondNum </a> <a href=#toisoyear title=toISOYear class="nav-link text-wrap d-inline-block w-100"> toISOYear </a> <a href=#toisoweek title=toISOWeek class="nav-link text-wrap d-inline-block w-100"> toISOWeek </a> <a href=#toweek title="toWeek(date[, mode][, timezone])" class="nav-link text-wrap d-inline-block w-100"> toWeek(date[, mode][, timezone]) </a> <a href=#toyearweek title=toYearWeek(date[,mode]) class="nav-link text-wrap d-inline-block w-100"> toYearWeek(date[,mode]) </a> <a href=#date_trunc title=date_trunc class="nav-link text-wrap d-inline-block w-100"> date_trunc </a> <a href=#date_add title=date_add class="nav-link text-wrap d-inline-block w-100"> date_add </a> <a href=#date_diff title=date_diff class="nav-link text-wrap d-inline-block w-100"> date_diff </a> <a href=#date_sub title=date_sub class="nav-link text-wrap d-inline-block w-100"> date_sub </a> <a href=#timestamp_add title=timestamp_add class="nav-link text-wrap d-inline-block w-100"> timestamp_add </a> <a href=#timestamp_sub title=timestamp_sub class="nav-link text-wrap d-inline-block w-100"> timestamp_sub </a> <a href=#now title=now class="nav-link text-wrap d-inline-block w-100"> now </a> <a href=#today title=today class="nav-link text-wrap d-inline-block w-100"> today </a> <a href=#yesterday title=yesterday class="nav-link text-wrap d-inline-block w-100"> yesterday </a> <a href=#timeslot title=timeSlot class="nav-link text-wrap d-inline-block w-100"> timeSlot </a> <a href=#timeslotsstarttime-duration-size title="timeSlots(StartTime, Duration,[, Size])" class="nav-link text-wrap d-inline-block w-100"> timeSlots(StartTime, Duration,[, Size]) </a> <a href=#toyyyymm title=toYYYYMM class="nav-link text-wrap d-inline-block w-100"> toYYYYMM </a> <a href=#toyyyymmdd title=toYYYYMMDD class="nav-link text-wrap d-inline-block w-100"> toYYYYMMDD </a> <a href=#toyyyymmddhhmmss title=toYYYYMMDDhhmmss class="nav-link text-wrap d-inline-block w-100"> toYYYYMMDDhhmmss </a> <a href=#formatdatetime title=formatDateTime class="nav-link text-wrap d-inline-block w-100"> formatDateTime </a> <a href=#fromunixtime title=FROM_UNIXTIME class="nav-link text-wrap d-inline-block w-100"> FROM_UNIXTIME </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?da3fd50d></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>