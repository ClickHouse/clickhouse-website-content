<!DOCTYPE html><html lang=es data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Descripción general de la arquitectura ClickHouse | Documentación de ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/images/logo-180x180.png><meta property=og:title content="Descripción general de la arquitectura ClickHouse | Documentación de ClickHouse"><meta property=og:description content="Descripción general de la arquitectura ClickHouse ClickHouse es un verdadero DBMS orientado a columnas. Los datos se alm"><meta property=og:type content=article><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta content=https://clickhouse.tech/docs/es/development/architecture/ property=og:url><link href=https://clickhouse.tech/docs/es/development/architecture/ rel=canonical><link href=https://clickhouse.tech/docs/es/development/architecture/amp/ rel=amphtml><link rel=search href=/opensearch.xml title=ClickHouse type=application/opensearchdescription+xml><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "Descripción general de la arquitectura ClickHouse | Documentación de ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/es/development/architecture/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "Descripción general de la arquitectura ClickHouse | Documentación de ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><meta name=description content="Descripción general de la arquitectura ClickHouse ClickHouse es un verdadero DBMS orientado a columnas. Los datos se alm"><meta name=keywords content="ClickHouse, DBMS, OLAP, SQL, open-source, relational, analytics, analytical, Big Data, web-analytics"><link rel=alternate href=https://clickhouse.tech/docs/en/development/architecture/ hreflang=en><link rel=alternate href=https://clickhouse.tech/docs/zh/development/architecture/ hreflang=zh><link rel=alternate href=https://clickhouse.tech/docs/es/development/architecture/ hreflang=es><link rel=alternate href=https://clickhouse.tech/docs/fr/development/architecture/ hreflang=fr><link rel=alternate href=https://clickhouse.tech/docs/ru/development/architecture/ hreflang=ru><link rel=alternate href=https://clickhouse.tech/docs/ja/development/architecture/ hreflang=ja><link rel=alternate href=https://clickhouse.tech/docs/en/development/architecture/ hreflang=x-default><link href=/css/base.css?e27f3458 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> Descripción general de la arquitectura ClickHouse </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li id=edit-wrapper class=nav-item> <a id=edit-link href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/development/architecture.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/es.svg alt=Español title=Español width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/development/architecture/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/development/architecture/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/development/architecture/ class="dropdown-item disabled"> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/development/architecture/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/development/architecture/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/development/architecture/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Implantación class="nav-link text-light dropdown-toggle px-0">Implantación</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../introduction/distinctive-features/ title="Características distintivas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características distintivas</a> <a href=../../introduction/performance/ title=Rendimiento class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rendimiento</a> <a href=../../introduction/history/ title=Historia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Historia</a> <a href=../../introduction/adopters/ title=Adoptante class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adoptante</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Primeros pasos" class="nav-link text-light dropdown-toggle px-0">Primeros pasos</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting-started/install/ title=Instalación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Instalación</a> <a href=#sidebar-sidebar-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3 title="Datos De Ejemplo" class="nav-link text-light dropdown-toggle px-0">Datos De Ejemplo</a> <div id=sidebar-sidebar-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting-started/example-datasets/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../getting-started/example-datasets/metrica/ title="El Yandex.Metrica Datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">El Yandex.Metrica Datos</a> <a href=../../getting-started/example-datasets/ontime/ title="A tiempo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">A tiempo</a> <a href=../../getting-started/example-datasets/nyc-taxi/ title="Datos de taxis de Nueva York" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos de taxis de Nueva York</a> <a href=../../getting-started/example-datasets/amplab-benchmark/ title="Referencia de Big Data de AMPLab" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia de Big Data de AMPLab</a> <a href=../../getting-started/example-datasets/wikistat/ title="Nombre de la red inalámbrica (SSID):" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nombre de la red inalámbrica (SSID):</a> <a href=../../getting-started/example-datasets/criteo/ title="Registros de clics de Terabyte de Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registros de clics de Terabyte de Criteo</a> <a href=../../getting-started/example-datasets/star-schema/ title="Estrella Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Estrella Schema Benchmark</a> </nav> </div> <a href=../../getting-started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../getting-started/playground/ title=Infantil class="nav-link text-light text-wrap d-inline-block w-100 px-0">Infantil</a> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Interfaz class="nav-link text-light dropdown-toggle px-0">Interfaz</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../interfaces/cli/ title="Cliente de línea de comandos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cliente de línea de comandos</a> <a href=../../interfaces/tcp/ title="Interfaz nativa (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz nativa (TCP)</a> <a href=../../interfaces/http/ title="Interfaz HTTP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz HTTP</a> <a href=../../interfaces/mysql/ title="Interfaz MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz MySQL</a> <a href=../../interfaces/formats/ title="Formatos de entrada y salida" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Formatos de entrada y salida</a> <a href=../../interfaces/jdbc/ title="Controlador JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Controlador JDBC</a> <a href=../../interfaces/odbc/ title="Conductor ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conductor ODBC</a> <a href=../../interfaces/cpp/ title="Biblioteca de clientes de C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Biblioteca de clientes de C++</a> <a href=#sidebar-sidebar-3-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-10 title=tercero class="nav-link text-light dropdown-toggle px-0">tercero</a> <div id=sidebar-sidebar-3-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/client-libraries/ title="Client Libraries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Client Libraries</a> <a href=../../interfaces/third-party/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../interfaces/third-party/gui/ title="Interfaces Visuales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaces Visuales</a> <a href=../../interfaces/third-party/proxy/ title=Proxy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Motor class="nav-link text-light dropdown-toggle px-0">Motor</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title="Motores de mesa" class="nav-link text-light dropdown-toggle px-0">Motores de mesa</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-4-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-2 title="Familia MergeTree" class="nav-link text-light dropdown-toggle px-0">Familia MergeTree</a> <div id=sidebar-sidebar-4-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/mergetree-family/mergetree/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../engines/table-engines/mergetree-family/replication/ title="Replicación de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Replicación de datos</a> <a href=../../engines/table-engines/mergetree-family/custom-partitioning-key/ title="Clave de partición personalizada" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave de partición personalizada</a> <a href=../../engines/table-engines/mergetree-family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../engines/table-engines/mergetree-family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../engines/table-engines/mergetree-family/aggregatingmergetree/ title=AgregaciónMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AgregaciónMergeTree</a> <a href=../../engines/table-engines/mergetree-family/collapsingmergetree/ title=ColapsarMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ColapsarMergeTree</a> <a href=../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../engines/table-engines/mergetree-family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-4-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-3 title="Familia de registro" class="nav-link text-light dropdown-toggle px-0">Familia de registro</a> <div id=sidebar-sidebar-4-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/log-family/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../engines/table-engines/log-family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../engines/table-engines/log-family/log/ title=Registro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registro</a> <a href=../../engines/table-engines/log-family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-4-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-4 title=Integración class="nav-link text-light dropdown-toggle px-0">Integración</a> <div id=sidebar-sidebar-4-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../engines/table-engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/table-engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../engines/table-engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../engines/table-engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-4-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-5 title=Especial class="nav-link text-light dropdown-toggle px-0">Especial</a> <div id=sidebar-sidebar-4-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table-engines/special/distributed/ title=Distribuido class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distribuido</a> <a href=../../engines/table-engines/special/external-data/ title="Datos externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos externos</a> <a href=../../engines/table-engines/special/dictionary/ title=Diccionario class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionario</a> <a href=../../engines/table-engines/special/merge/ title=Fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fusionar</a> <a href=../../engines/table-engines/special/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../engines/table-engines/special/null/ title=Nulo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nulo</a> <a href=../../engines/table-engines/special/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../engines/table-engines/special/join/ title=Unir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Unir</a> <a href=../../engines/table-engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../engines/table-engines/special/view/ title=Vista class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vista</a> <a href=../../engines/table-engines/special/materializedview/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../engines/table-engines/special/memory/ title=Memoria class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memoria</a> <a href=../../engines/table-engines/special/buffer/ title=Búfer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Búfer</a> <a href=../../engines/table-engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-3 title="Motores de base de datos" class="nav-link text-light dropdown-toggle px-0">Motores de base de datos</a> <div id=sidebar-sidebar-4-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/database-engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../engines/database-engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/database-engines/lazy/ title=Perezoso class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perezoso</a> <a href=../../engines/database-engines/atomic/ title=Atomic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Atomic</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Referencia SQL" class="nav-link text-light dropdown-toggle px-0">Referencia SQL</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title=Instrucción class="nav-link text-light dropdown-toggle px-0">Instrucción</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title=SELECT class="nav-link text-light dropdown-toggle px-0">SELECT</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../sql-reference/statements/select/array-join/ title="ARRAY JOIN Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ARRAY JOIN Cláusula</a> <a href=../../sql-reference/statements/select/with/ title="CON Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CON Cláusula</a> <a href=../../sql-reference/statements/select/distinct/ title="Cláusula DISTINCT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cláusula DISTINCT</a> <a href=../../sql-reference/statements/select/from/ title="Cláusula FROM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cláusula FROM</a> <a href=../../sql-reference/statements/select/having/ title="Cláusula HAVING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cláusula HAVING</a> <a href=../../sql-reference/statements/select/join/ title="Cláusula JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cláusula JOIN</a> <a href=../../sql-reference/statements/select/limit/ title="Cláusula LIMIT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cláusula LIMIT</a> <a href=../../sql-reference/statements/select/sample/ title="Cláusula SAMPLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cláusula SAMPLE</a> <a href=../../sql-reference/statements/select/where/ title="DONDE Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DONDE Cláusula</a> <a href=../../sql-reference/statements/select/format/ title="FORMAT Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT Cláusula</a> <a href=../../sql-reference/statements/select/group-by/ title="GRUPO POR Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRUPO POR Cláusula</a> <a href=../../sql-reference/statements/select/into-outfile/ title="INTO OUTFILE Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INTO OUTFILE Cláusula</a> <a href=../../sql-reference/statements/select/limit-by/ title="LIMITAR POR Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMITAR POR Cláusula</a> <a href=../../sql-reference/statements/select/order-by/ title="ORDEN POR CLÁUSULA" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDEN POR CLÁUSULA</a> <a href=../../sql-reference/statements/select/prewhere/ title="PREWHERE Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PREWHERE Cláusula</a> <a href=../../sql-reference/statements/select/union/ title="UNION Cláusula" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UNION Cláusula</a> </nav> </div> <a href=../../sql-reference/statements/insert-into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../sql-reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../sql-reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../sql-reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../sql-reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../sql-reference/statements/grant/ title=GRANT class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a> <a href=../../sql-reference/statements/revoke/ title=REVOKE class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a> <a href=../../sql-reference/statements/misc/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=../../sql-reference/syntax/ title=Sintaxis class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sintaxis</a> <a href=#sidebar-sidebar-5-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-4 title=Función class="nav-link text-light dropdown-toggle px-0">Función</a> <div id=sidebar-sidebar-5-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../sql-reference/functions/arithmetic-functions/ title=Aritmética class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aritmética</a> <a href=../../sql-reference/functions/comparison-functions/ title=Comparación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparación</a> <a href=../../sql-reference/functions/logical-functions/ title=Lógico class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lógico</a> <a href=../../sql-reference/functions/type-conversion-functions/ title="Conversión de tipo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conversión de tipo</a> <a href=../../sql-reference/functions/date-time-functions/ title="Trabajar con fechas y horas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con fechas y horas</a> <a href=../../sql-reference/functions/string-functions/ title="Trabajar con cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con cadenas</a> <a href=../../sql-reference/functions/string-search-functions/ title="Para buscar cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para buscar cadenas</a> <a href=../../sql-reference/functions/string-replace-functions/ title="Para reemplazar en cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para reemplazar en cadenas</a> <a href=../../sql-reference/functions/conditional-functions/ title=Condicional class="nav-link text-light text-wrap d-inline-block w-100 px-0">Condicional</a> <a href=../../sql-reference/functions/math-functions/ title=Matemática class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matemática</a> <a href=../../sql-reference/functions/rounding-functions/ title=Redondeo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Redondeo</a> <a href=../../sql-reference/functions/array-functions/ title="Trabajar con matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con matrices</a> <a href=../../sql-reference/functions/splitting-merging-functions/ title="División y fusión de cuerdas y matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">División y fusión de cuerdas y matrices</a> <a href=../../sql-reference/functions/bit-functions/ title=Trozo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trozo</a> <a href=../../sql-reference/functions/bitmap-functions/ title=Bits class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bits</a> <a href=../../sql-reference/functions/hash-functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../sql-reference/functions/random-functions/ title="Generación de números pseudo-aleatorios" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de números pseudo-aleatorios</a> <a href=../../sql-reference/functions/encoding-functions/ title=Codificación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Codificación</a> <a href=../../sql-reference/functions/uuid-functions/ title="Trabajando con UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con UUID</a> <a href=../../sql-reference/functions/url-functions/ title="Trabajar con URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con URL</a> <a href=../../sql-reference/functions/ip-address-functions/ title="Trabajar con direcciones IP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con direcciones IP</a> <a href=../../sql-reference/functions/json-functions/ title="Trabajar con JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con JSON</a> <a href=../../sql-reference/functions/higher-order-functions/ title="Orden superior" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Orden superior</a> <a href=../../sql-reference/functions/ext-dict-functions/ title="Trabajar con diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con diccionarios externos</a> <a href=../../sql-reference/functions/ym-dict-functions/ title="Trabajando con Yandex.Diccionarios de Metrica" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con Yandex.Diccionarios de Metrica</a> <a href=../../sql-reference/functions/in-functions/ title="Implementación del operador IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementación del operador IN</a> <a href=../../sql-reference/functions/array-join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../sql-reference/functions/geo/ title="Trabajar con coordenadas geográficas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con coordenadas geográficas</a> <a href=../../sql-reference/functions/functions-for-nulls/ title="Trabajar con argumentos Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con argumentos Nullable</a> <a href=../../sql-reference/functions/machine-learning-functions/ title="Funciones de aprendizaje automático" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones de aprendizaje automático</a> <a href=../../sql-reference/functions/introspection/ title=Introspección class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspección</a> <a href=../../sql-reference/functions/other-functions/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-5-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5 title="Funciones agregadas" class="nav-link text-light dropdown-toggle px-0">Funciones agregadas</a> <div id=sidebar-sidebar-5-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/aggregate-functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../sql-reference/aggregate-functions/reference/ title=Referencia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia</a> <a href=../../sql-reference/aggregate-functions/combinators/ title=Combinadores class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinadores</a> <a href=../../sql-reference/aggregate-functions/parametric-functions/ title=Paramétrico class="nav-link text-light text-wrap d-inline-block w-100 px-0">Paramétrico</a> </nav> </div> <a href=#sidebar-sidebar-5-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-6 title="Funciones de tabla" class="nav-link text-light dropdown-toggle px-0">Funciones de tabla</a> <div id=sidebar-sidebar-5-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/table-functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../sql-reference/table-functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../sql-reference/table-functions/merge/ title=fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">fusionar</a> <a href=../../sql-reference/table-functions/numbers/ title=numero class="nav-link text-light text-wrap d-inline-block w-100 px-0">numero</a> <a href=../../sql-reference/table-functions/remote/ title=remoto class="nav-link text-light text-wrap d-inline-block w-100 px-0">remoto</a> <a href=../../sql-reference/table-functions/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../sql-reference/table-functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../sql-reference/table-functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../sql-reference/table-functions/odbc/ title=Nosotros class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nosotros</a> <a href=../../sql-reference/table-functions/hdfs/ title=Hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hdfs</a> <a href=../../sql-reference/table-functions/input/ title=entrada class="nav-link text-light text-wrap d-inline-block w-100 px-0">entrada</a> <a href=../../sql-reference/table-functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-5-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7 title=Diccionario class="nav-link text-light dropdown-toggle px-0">Diccionario</a> <div id=sidebar-sidebar-5-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/dictionaries/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-5-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7-2 title="Diccionarios externos" class="nav-link text-light dropdown-toggle px-0">Diccionarios externos</a> <div id=sidebar-sidebar-5-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts/ title="Descripción General" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción General</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/ title="Configuración de un diccionario externo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración de un diccionario externo</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/ title="Almacenamiento de diccionarios en la memoria" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Almacenamiento de diccionarios en la memoria</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/ title="Actualizaciones del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualizaciones del diccionario</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/ title="Fuentes de diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fuentes de diccionarios externos</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/ title="Clave y campos del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave y campos del diccionario</a> <a href=../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/ title="Diccionarios jerárquicos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios jerárquicos</a> </nav> </div> <a href=../../sql-reference/dictionaries/internal-dicts/ title="Diccionarios internos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios internos</a> </nav> </div> <a href=#sidebar-sidebar-5-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8 title=Operador class="nav-link text-light dropdown-toggle px-0">Operador</a> <div id=sidebar-sidebar-5-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/operators/ title=Operador class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operador</a> <a href=../../sql-reference/operators/in/ title="IN Operadores" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN Operadores</a> </nav> </div> <a href=#sidebar-sidebar-5-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9 title="Tipos de datos" class="nav-link text-light dropdown-toggle px-0">Tipos de datos</a> <div id=sidebar-sidebar-5-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../sql-reference/data-types/int-uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../sql-reference/data-types/float/ title="Descripción del producto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción del producto</a> <a href=../../sql-reference/data-types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../sql-reference/data-types/boolean/ title=Booleana class="nav-link text-light text-wrap d-inline-block w-100 px-0">Booleana</a> <a href=../../sql-reference/data-types/string/ title=Cadena class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena</a> <a href=../../sql-reference/data-types/fixedstring/ title="Cadena fija (N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena fija (N)</a> <a href=../../sql-reference/data-types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../sql-reference/data-types/date/ title=Fecha class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fecha</a> <a href=../../sql-reference/data-types/datetime/ title=FechaHora class="nav-link text-light text-wrap d-inline-block w-100 px-0">FechaHora</a> <a href=../../sql-reference/data-types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../sql-reference/data-types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../sql-reference/data-types/array/ title="Matriz (T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matriz (T)</a> <a href=../../sql-reference/data-types/aggregatefunction/ title="Agregar función (nombre, types_of_arguments)...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Agregar función (nombre, types_of_arguments)...)</a> <a href=../../sql-reference/data-types/tuple/ title="Tuple (T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple (T1, T2, ...)</a> <a href=#sidebar-sidebar-5-9-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-16 title="Estructuras de datos anidados" class="nav-link text-light dropdown-toggle px-0">Estructuras de datos anidados</a> <div id=sidebar-sidebar-5-9-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/nested-data-structures/nested/ title="Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)</a> </nav> </div> <a href=../../sql-reference/data-types/nullable/ title=NULL class="nav-link text-light text-wrap d-inline-block w-100 px-0">NULL</a> <a href=#sidebar-sidebar-5-9-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-18 title="Tipos de datos especiales" class="nav-link text-light dropdown-toggle px-0">Tipos de datos especiales</a> <div id=sidebar-sidebar-5-9-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/special-data-types/expression/ title=Expresion class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expresion</a> <a href=../../sql-reference/data-types/special-data-types/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../sql-reference/data-types/special-data-types/nothing/ title=Nada class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nada</a> <a href=../../sql-reference/data-types/special-data-types/interval/ title=Intervalo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intervalo</a> </nav> </div> <a href=#sidebar-sidebar-5-9-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-19 title=Dominio class="nav-link text-light dropdown-toggle px-0">Dominio</a> <div id=sidebar-sidebar-5-9-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql-reference/data-types/domains/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../sql-reference/data-types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../sql-reference/data-types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../sql-reference/data-types/simpleaggregatefunction/ title=SimpleAggregateFunction class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a> </nav> </div> <a href=../../sql-reference/ansi/ title="Compatibilidad con ANSI" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Compatibilidad con ANSI</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=Guiar class="nav-link text-light dropdown-toggle px-0">Guiar</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../guides/apply-catboost-model/ title="Aplicación de modelos CatBoost" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aplicación de modelos CatBoost</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Operación class="nav-link text-light dropdown-toggle px-0">Operación</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../operations/requirements/ title=Requisito class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requisito</a> <a href=../../operations/monitoring/ title=Monitoreo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoreo</a> <a href=../../operations/troubleshooting/ title="Solución de problemas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Solución de problemas</a> <a href=../../operations/update/ title="Actualización de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualización de ClickHouse</a> <a href=../../operations/access-rights/ title="Control de acceso y gestión de cuentas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Control de acceso y gestión de cuentas</a> <a href=../../operations/backup/ title="Copia de seguridad de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Copia de seguridad de datos</a> <a href=../../operations/configuration-files/ title="Archivos de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Archivos de configuración</a> <a href=../../operations/quotas/ title=Cuota class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cuota</a> <a href=#sidebar-sidebar-7-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-10 title="Optimización del rendimiento" class="nav-link text-light dropdown-toggle px-0">Optimización del rendimiento</a> <div id=sidebar-sidebar-7-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/optimizing-performance/sampling-query-profiler/ title="Generación de perfiles de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de perfiles de consultas</a> </nav> </div> <a href=../../operations/system-tables/ title="Tablas del sistema" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tablas del sistema</a> <a href=#sidebar-sidebar-7-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-12 title="Parámetros de configuración del servidor" class="nav-link text-light dropdown-toggle px-0">Parámetros de configuración del servidor</a> <div id=sidebar-sidebar-7-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server-configuration-parameters/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../operations/server-configuration-parameters/settings/ title="Configuración del servidor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del servidor</a> </nav> </div> <a href=../../operations/performance-test/ title="Prueba de hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Prueba de hardware</a> <a href=#sidebar-sidebar-7-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-14 title=Configuración class="nav-link text-light dropdown-toggle px-0">Configuración</a> <div id=sidebar-sidebar-7-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../operations/settings/permissions-for-queries/ title="Permisos para consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permisos para consultas</a> <a href=../../operations/settings/query-complexity/ title="Restricciones en la complejidad de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la complejidad de consultas</a> <a href=../../operations/settings/settings-profiles/ title="Perfiles de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perfiles de configuración</a> <a href=../../operations/settings/constraints-on-settings/ title="Restricciones en la configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la configuración</a> <a href=../../operations/settings/settings-users/ title="Configuración del usuario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del usuario</a> <a href=../../operations/settings/settings/ title=Configuración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración</a> </nav> </div> <a href=#sidebar-sidebar-7-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-15 title=Utilidad class="nav-link text-light dropdown-toggle px-0">Utilidad</a> <div id=sidebar-sidebar-7-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utilities/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../operations/utilities/clickhouse-copier/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../operations/utilities/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> <a href=../../operations/utilities/clickhouse-benchmark/ title="Sistema abierto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sistema abierto</a> </nav> </div> <a href=../../operations/tips/ title="Recomendaciones de uso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recomendaciones de uso</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Desarrollo class="nav-link text-light dropdown-toggle px-0">Desarrollo</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/developer-instruction/ title="La instrucción para desarrolladores de ClickHouse para principiantes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La instrucción para desarrolladores de ClickHouse para principiantes</a> <a href=../../development/architecture/ title="Descripción general de la arquitectura ClickHouse" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">Descripción general de la arquitectura ClickHouse</a> <a href=../../development/browse-code/ title="Buscar código fuente" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buscar código fuente</a> <a href=../../development/build/ title="Cómo crear ClickHouse en Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Linux</a> <a href=../../development/build-osx/ title="Cómo crear ClickHouse en Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Mac OS X</a> <a href=../../development/build-cross-osx/ title="Cómo construir ClickHouse en Linux para Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para Mac OS X</a> <a href=../../development/build-cross-arm/ title="Cómo construir ClickHouse en Linux para AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para AARCH64 (ARM64)</a> <a href=../../development/style/ title="Cómo escribir código C ++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo escribir código C ++</a> <a href=../../development/tests/ title=Testing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing</a> <a href=../../development/contrib/ title="Bibliotecas de terceros utilizadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de terceros utilizadas</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Comercial class="nav-link text-light dropdown-toggle px-0">Comercial</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../commercial/cloud/ title=Nube class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nube</a> <a href=../../commercial/support/ title=Apoyo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Apoyo</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title="Qué hay de Nuevo" class="nav-link text-light dropdown-toggle px-0">Qué hay de Nuevo</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-10-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10-2 title=Changelog class="nav-link text-light dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-10-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats-new/changelog/ title=2021 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2021</a> <a href=../../whats-new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../whats-new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../whats-new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../whats-new/roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../whats-new/security-changelog/ title="Seguridad Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Seguridad Changelog</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=F.A.Q. class="nav-link text-light dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/general/ title="Preguntas generales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Preguntas generales</a> </nav> </div> <a href=../../roadmap/ title="Hoja De Ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja De Ruta</a> <a href=../../single/clickhouse_es.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-4"> <div id=content class=mt-md-n3> <nav class=text-muted aria-label=breadcrumb> <ol class="breadcrumb bg-transparent p-0"> <li class=breadcrumb-item><a href=../ class=text-reset>Desarrollo</a> </li> </ol> </nav> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/development/architecture/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/development/architecture.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h1 id=overview-of-clickhouse-architecture>Descripción general de la arquitectura ClickHouse<a class=headerlink href=#overview-of-clickhouse-architecture title="Permanent link"> </a></h1> <p>ClickHouse es un verdadero DBMS orientado a columnas. Los datos se almacenan por columnas y durante la ejecución de matrices (vectores o fragmentos de columnas). Siempre que sea posible, las operaciones se envían en matrices, en lugar de en valores individuales. Se llama “vectorized query execution,” y ayuda a reducir el costo del procesamiento de datos real.</p> <blockquote> <p>Esta idea no es nada nuevo. Se remonta a la <code class=syntax>APL</code> lenguaje de programación y sus descendientes: <code class=syntax>A +</code>, <code class=syntax>J</code>, <code class=syntax>K</code>, y <code class=syntax>Q</code>. La programación de matrices se utiliza en el procesamiento de datos científicos. Tampoco es esta idea algo nuevo en las bases de datos relacionales: por ejemplo, se usa en el <code class=syntax>Vectorwise</code> sistema.</p> </blockquote> <p>Existen dos enfoques diferentes para acelerar el procesamiento de consultas: la ejecución de consultas vectorizadas y la generación de código en tiempo de ejecución. Este último elimina toda la indirección y el despacho dinámico. Ninguno de estos enfoques es estrictamente mejor que el otro. La generación de código de tiempo de ejecución puede ser mejor cuando fusiona muchas operaciones, utilizando así las unidades de ejecución de la CPU y la canalización. La ejecución de consultas vectorizadas puede ser menos práctica porque implica vectores temporales que deben escribirse en la memoria caché y leerse. Si los datos temporales no caben en la memoria caché L2, esto se convierte en un problema. Pero la ejecución de consultas vectorizadas utiliza más fácilmente las capacidades SIMD de la CPU. Un <a href=http://15721.courses.cs.cmu.edu/spring2016/papers/p5-sompolski.pdf rel="external nofollow noreferrer" target=_blank>documento de investigación</a> escrito por nuestros amigos muestra que es mejor combinar ambos enfoques. ClickHouse utiliza la ejecución de consultas vectorizadas y tiene un soporte inicial limitado para la generación de código en tiempo de ejecución.</p> <h2 id=columns>Columna<a class=headerlink href=#columns title="Permanent link"> </a></h2> <p><code class=syntax>IColumn</code> interfaz se utiliza para representar columnas en la memoria (en realidad, fragmentos de columnas). Esta interfaz proporciona métodos auxiliares para la implementación de varios operadores relacionales. Casi todas las operaciones son inmutables: no modifican la columna original, sino que crean una nueva modificada. Por ejemplo, el <code class=syntax>IColumn :: filter</code> método acepta una máscara de bytes de filtro. Se utiliza para el <code class=syntax>WHERE</code> y <code class=syntax>HAVING</code> operadores relacionales. Ejemplos adicionales: el <code class=syntax>IColumn :: permute</code> para apoyar <code class=syntax>ORDER BY</code>, el <code class=syntax>IColumn :: cut</code> para apoyar <code class=syntax>LIMIT</code>.</p> <p>Diversos <code class=syntax>IColumn</code> aplicación (<code class=syntax>ColumnUInt8</code>, <code class=syntax>ColumnString</code>, y así sucesivamente) son responsables del diseño de memoria de las columnas. El diseño de memoria suele ser una matriz contigua. Para el tipo entero de columnas, es solo una matriz contigua, como <code class=syntax>std :: vector</code>. Para <code class=syntax>String</code> y <code class=syntax>Array</code> columnas, son dos vectores: uno para todos los elementos de la matriz, colocados contiguamente, y un segundo para los desplazamientos al comienzo de cada matriz. También hay <code class=syntax>ColumnConst</code> que almacena solo un valor en la memoria, pero parece una columna.</p> <h2 id=field>Campo<a class=headerlink href=#field title="Permanent link"> </a></h2> <p>Sin embargo, también es posible trabajar con valores individuales. Para representar un valor individual, el <code class=syntax>Field</code> se utiliza. <code class=syntax>Field</code> es sólo una unión discriminada de <code class=syntax>UInt64</code>, <code class=syntax>Int64</code>, <code class=syntax>Float64</code>, <code class=syntax>String</code> y <code class=syntax>Array</code>. <code class=syntax>IColumn</code> tiene el <code class=syntax>operator[]</code> para obtener el valor n-ésimo como un <code class=syntax>Field</code> y el <code class=syntax>insert</code> método para agregar un <code class=syntax>Field</code> al final de una columna. Estos métodos no son muy eficientes, ya que requieren tratar con temporal <code class=syntax>Field</code> objetos que representan un valor individual. Hay métodos más eficientes, tales como <code class=syntax>insertFrom</code>, <code class=syntax>insertRangeFrom</code> y así sucesivamente.</p> <p><code class=syntax>Field</code> no tiene suficiente información sobre un tipo de datos específico para una tabla. Por ejemplo, <code class=syntax>UInt8</code>, <code class=syntax>UInt16</code>, <code class=syntax>UInt32</code>, y <code class=syntax>UInt64</code> todos están representados como <code class=syntax>UInt64</code> en una <code class=syntax>Field</code>.</p> <h2 id=leaky-abstractions>Abstracciones con fugas<a class=headerlink href=#leaky-abstractions title="Permanent link"> </a></h2> <p><code class=syntax>IColumn</code> tiene métodos para transformaciones relacionales comunes de datos, pero no satisfacen todas las necesidades. Por ejemplo, <code class=syntax>ColumnUInt64</code> no tiene un método para calcular la suma de dos columnas, y <code class=syntax>ColumnString</code> no tiene un método para ejecutar una búsqueda de subcadena. Estas innumerables rutinas se implementan fuera de <code class=syntax>IColumn</code>.</p> <p>Varias funciones en columnas se pueden implementar de una manera genérica, no eficiente utilizando <code class=syntax>IColumn</code> para extraer <code class=syntax>Field</code> valores, o de una manera especializada utilizando el conocimiento del diseño de la memoria interna de los datos en un <code class=syntax>IColumn</code> aplicación. Se implementa mediante la conversión de funciones a un <code class=syntax>IColumn</code> escriba y trate con la representación interna directamente. Por ejemplo, <code class=syntax>ColumnUInt64</code> tiene el <code class=syntax>getData</code> método que devuelve una referencia a una matriz interna, luego una rutina separada lee o llena esa matriz directamente. Tenemos “leaky abstractions” para permitir especializaciones eficientes de varias rutinas.</p> <h2 id=data_types>Tipos de datos<a class=headerlink href=#data_types title="Permanent link"> </a></h2> <p><code class=syntax>IDataType</code> es responsable de la serialización y deserialización: para leer y escribir fragmentos de columnas o valores individuales en formato binario o de texto. <code class=syntax>IDataType</code> corresponde directamente a los tipos de datos en las tablas. Por ejemplo, hay <code class=syntax>DataTypeUInt32</code>, <code class=syntax>DataTypeDateTime</code>, <code class=syntax>DataTypeString</code> y así sucesivamente.</p> <p><code class=syntax>IDataType</code> y <code class=syntax>IColumn</code> están vagamente relacionados entre sí. Diferentes tipos de datos se pueden representar en la memoria por el mismo <code class=syntax>IColumn</code> aplicación. Por ejemplo, <code class=syntax>DataTypeUInt32</code> y <code class=syntax>DataTypeDateTime</code> están representados por <code class=syntax>ColumnUInt32</code> o <code class=syntax>ColumnConstUInt32</code>. Además, el mismo tipo de datos se puede representar mediante <code class=syntax>IColumn</code> aplicación. Por ejemplo, <code class=syntax>DataTypeUInt8</code> puede ser representado por <code class=syntax>ColumnUInt8</code> o <code class=syntax>ColumnConstUInt8</code>.</p> <p><code class=syntax>IDataType</code> sólo almacena metadatos. Por ejemplo, <code class=syntax>DataTypeUInt8</code> no almacena nada en absoluto (excepto vptr) y <code class=syntax>DataTypeFixedString</code> tiendas solo <code class=syntax>N</code> (el tamaño de las cadenas de tamaño fijo).</p> <p><code class=syntax>IDataType</code> tiene métodos auxiliares para varios formatos de datos. Los ejemplos son métodos para serializar un valor con posibles citas, para serializar un valor para JSON y para serializar un valor como parte del formato XML. No hay correspondencia directa con los formatos de datos. Por ejemplo, los diferentes formatos de datos <code class=syntax>Pretty</code> y <code class=syntax>TabSeparated</code> puede utilizar el mismo <code class=syntax>serializeTextEscaped</code> método de ayuda de la <code class=syntax>IDataType</code> interfaz.</p> <h2 id=block>Bloque<a class=headerlink href=#block title="Permanent link"> </a></h2> <p>A <code class=syntax>Block</code> es un contenedor que representa un subconjunto (porción) de una tabla en la memoria. Es sólo un conjunto de triples: <code class=syntax>(IColumn, IDataType, column name)</code>. Durante la ejecución de la consulta, los datos son procesados por <code class=syntax>Block</code>s. Si tenemos un <code class=syntax>Block</code>, tenemos datos (en el <code class=syntax>IColumn</code> objeto), tenemos información sobre su tipo (en <code class=syntax>IDataType</code>) que nos dice cómo lidiar con esa columna, y tenemos el nombre de la columna. Podría ser el nombre de columna original de la tabla o algún nombre artificial asignado para obtener resultados temporales de los cálculos.</p> <p>Cuando calculamos alguna función sobre columnas en un bloque, agregamos otra columna con su resultado al bloque, y no tocamos columnas para argumentos de la función porque las operaciones son inmutables. Más tarde, las columnas innecesarias se pueden eliminar del bloque, pero no se pueden modificar. Es conveniente para la eliminación de subexpresiones comunes.</p> <p>Se crean bloques para cada fragmento de datos procesado. Tenga en cuenta que para el mismo tipo de cálculo, los nombres y tipos de columna siguen siendo los mismos para diferentes bloques y solo cambian los datos de columna. Es mejor dividir los datos del bloque desde el encabezado del bloque porque los tamaños de bloque pequeños tienen una gran sobrecarga de cadenas temporales para copiar shared_ptrs y nombres de columna.</p> <h2 id=block-streams>Bloquear flujos<a class=headerlink href=#block-streams title="Permanent link"> </a></h2> <p>Los flujos de bloques son para procesar datos. Usamos flujos de bloques para leer datos de algún lugar, realizar transformaciones de datos o escribir datos en algún lugar. <code class=syntax>IBlockInputStream</code> tiene el <code class=syntax>read</code> método para buscar el siguiente bloque mientras esté disponible. <code class=syntax>IBlockOutputStream</code> tiene el <code class=syntax>write</code> método para empujar el bloque en alguna parte.</p> <p>Los flujos son responsables de:</p> <ol> <li>Leer o escribir en una mesa. La tabla solo devuelve una secuencia para leer o escribir bloques.</li> <li>Implementación de formatos de datos. Por ejemplo, si desea enviar datos a un terminal en <code class=syntax>Pretty</code> formato, crea un flujo de salida de bloque donde presiona bloques y los formatea.</li> <li>Realización de transformaciones de datos. Digamos que tienes <code class=syntax>IBlockInputStream</code> y desea crear una secuencia filtrada. Usted crea <code class=syntax>FilterBlockInputStream</code> e inicializarlo con su transmisión. Luego, cuando tiras de un bloque de <code class=syntax>FilterBlockInputStream</code>, extrae un bloque de su flujo, lo filtra y le devuelve el bloque filtrado. Las canalizaciones de ejecución de consultas se representan de esta manera.</li> </ol> <p>Hay transformaciones más sofisticadas. Por ejemplo, cuando tiras de <code class=syntax>AggregatingBlockInputStream</code>, lee todos los datos de su origen, los agrega y, a continuación, devuelve un flujo de datos agregados para usted. Otro ejemplo: <code class=syntax>UnionBlockInputStream</code> acepta muchas fuentes de entrada en el constructor y también una serie de subprocesos. Lanza múltiples hilos y lee de múltiples fuentes en paralelo.</p> <blockquote> <p>Las secuencias de bloques usan el “pull” enfoque para controlar el flujo: cuando extrae un bloque de la primera secuencia, en consecuencia extrae los bloques requeridos de las secuencias anidadas, y toda la tubería de ejecución funcionará. Ni “pull” ni “push” es la mejor solución, porque el flujo de control está implícito y eso limita la implementación de varias características, como la ejecución simultánea de múltiples consultas (fusionando muchas tuberías). Esta limitación podría superarse con coroutines o simplemente ejecutando hilos adicionales que se esperan el uno al otro. Podemos tener más posibilidades si hacemos explícito el flujo de control: si localizamos la lógica para pasar datos de una unidad de cálculo a otra fuera de esas unidades de cálculo. Lea esto <a href=http://journal.stuffwithstuff.com/2013/01/13/iteration-inside-and-out/ rel="external nofollow noreferrer" target=_blank>artículo</a> para más pensamientos.</p> </blockquote> <p>Debemos tener en cuenta que la canalización de ejecución de consultas crea datos temporales en cada paso. Tratamos de mantener el tamaño del bloque lo suficientemente pequeño para que los datos temporales se ajusten a la memoria caché de la CPU. Con esa suposición, escribir y leer datos temporales es casi gratis en comparación con otros cálculos. Podríamos considerar una alternativa, que es fusionar muchas operaciones en la tubería. Podría hacer que la tubería sea lo más corta posible y eliminar gran parte de los datos temporales, lo que podría ser una ventaja, pero también tiene inconvenientes. Por ejemplo, una canalización dividida facilita la implementación de almacenamiento en caché de datos intermedios, el robo de datos intermedios de consultas similares que se ejecutan al mismo tiempo y la fusión de canalizaciones para consultas similares.</p> <h2 id=formats>Formato<a class=headerlink href=#formats title="Permanent link"> </a></h2> <p>Los formatos de datos se implementan con flujos de bloques. Hay “presentational” sólo es adecuado para la salida de datos al cliente, tales como <code class=syntax>Pretty</code> formato, que proporciona sólo <code class=syntax>IBlockOutputStream</code>. Y hay formatos de entrada / salida, como <code class=syntax>TabSeparated</code> o <code class=syntax>JSONEachRow</code>.</p> <p>También hay secuencias de filas: <code class=syntax>IRowInputStream</code> y <code class=syntax>IRowOutputStream</code>. Permiten pull/push datos por filas individuales, no por bloques. Y solo son necesarios para simplificar la implementación de formatos orientados a filas. Envoltura <code class=syntax>BlockInputStreamFromRowInputStream</code> y <code class=syntax>BlockOutputStreamFromRowOutputStream</code> le permite convertir flujos orientados a filas en flujos regulares orientados a bloques.</p> <h2 id=io>I/O<a class=headerlink href=#io title="Permanent link"> </a></h2> <p>Para la entrada / salida orientada a bytes, hay <code class=syntax>ReadBuffer</code> y <code class=syntax>WriteBuffer</code> clases abstractas. Se usan en lugar de C ++ <code class=syntax>iostream</code>s. No se preocupe: cada proyecto maduro de C ++ está usando algo más que <code class=syntax>iostream</code>s por buenas razones.</p> <p><code class=syntax>ReadBuffer</code> y <code class=syntax>WriteBuffer</code> son solo un búfer contiguo y un cursor apuntando a la posición en ese búfer. Las implementaciones pueden poseer o no la memoria del búfer. Hay un método virtual para llenar el búfer con los siguientes datos (para <code class=syntax>ReadBuffer</code>) o para vaciar el búfer en algún lugar (para <code class=syntax>WriteBuffer</code>). Los métodos virtuales rara vez se llaman.</p> <p>Implementaciones de <code class=syntax>ReadBuffer</code>/<code class=syntax>WriteBuffer</code> se utilizan para trabajar con archivos y descriptores de archivos y sockets de red, para implementar la compresión (<code class=syntax>CompressedWriteBuffer</code> is initialized with another WriteBuffer and performs compression before writing data to it), and for other purposes – the names <code class=syntax>ConcatReadBuffer</code>, <code class=syntax>LimitReadBuffer</code>, y <code class=syntax>HashingWriteBuffer</code> hablar por sí mismos.</p> <p>Read / WriteBuffers solo se ocupan de bytes. Hay funciones de <code class=syntax>ReadHelpers</code> y <code class=syntax>WriteHelpers</code> archivos de encabezado para ayudar con el formato de entrada / salida. Por ejemplo, hay ayudantes para escribir un número en formato decimal.</p> <p>Veamos qué sucede cuando quieres escribir un conjunto de resultados en <code class=syntax>JSON</code> formato a stdout. Tiene un conjunto de resultados listo para ser recuperado de <code class=syntax>IBlockInputStream</code>. Usted crea <code class=syntax>WriteBufferFromFileDescriptor(STDOUT_FILENO)</code> para escribir bytes en stdout. Usted crea <code class=syntax>JSONRowOutputStream</code>, inicializado con eso <code class=syntax>WriteBuffer</code> para escribir filas en <code class=syntax>JSON</code> a stdout. Usted crea <code class=syntax>BlockOutputStreamFromRowOutputStream</code> encima de él, para representarlo como <code class=syntax>IBlockOutputStream</code>. Entonces usted llama <code class=syntax>copyData</code> para transferir datos desde <code class=syntax>IBlockInputStream</code> a <code class=syntax>IBlockOutputStream</code> y todo funciona. Internamente, <code class=syntax>JSONRowOutputStream</code> escribirá varios delimitadores JSON y llamará al <code class=syntax>IDataType::serializeTextJSON</code> con una referencia a <code class=syntax>IColumn</code> y el número de fila como argumentos. Consecuentemente, <code class=syntax>IDataType::serializeTextJSON</code> llamará a un método de <code class=syntax>WriteHelpers.h</code>: por ejemplo, <code class=syntax>writeText</code> para tipos numéricos y <code class=syntax>writeJSONString</code> para <code class=syntax>DataTypeString</code>.</p> <h2 id=tables>Tabla<a class=headerlink href=#tables title="Permanent link"> </a></h2> <p>El <code class=syntax>IStorage</code> interfaz representa tablas. Las diferentes implementaciones de esa interfaz son diferentes motores de tabla. Los ejemplos son <code class=syntax>StorageMergeTree</code>, <code class=syntax>StorageMemory</code> y así sucesivamente. Las instancias de estas clases son solo tablas.</p> <p>Clave <code class=syntax>IStorage</code> son <code class=syntax>read</code> y <code class=syntax>write</code>. También hay <code class=syntax>alter</code>, <code class=syntax>rename</code>, <code class=syntax>drop</code> y así sucesivamente. El <code class=syntax>read</code> método acepta los siguientes argumentos: el conjunto de columnas para leer de una tabla, el <code class=syntax>AST</code> consulta a considerar, y el número deseado de flujos para devolver. Devuelve uno o varios <code class=syntax>IBlockInputStream</code> objetos e información sobre la etapa de procesamiento de datos que se completó dentro de un motor de tablas durante la ejecución de la consulta.</p> <p>En la mayoría de los casos, el método de lectura solo es responsable de leer las columnas especificadas de una tabla, no de ningún procesamiento de datos adicional. Todo el procesamiento de datos adicional es realizado por el intérprete de consultas y está fuera de la responsabilidad de <code class=syntax>IStorage</code>.</p> <p>Pero hay excepciones notables:</p> <ul> <li>La consulta AST se pasa al <code class=syntax>read</code> método, y el motor de tablas puede usarlo para derivar el uso del índice y leer menos datos de una tabla.</li> <li>A veces, el motor de tablas puede procesar los datos a una etapa específica. Por ejemplo, <code class=syntax>StorageDistributed</code> puede enviar una consulta a servidores remotos, pedirles que procesen datos a una etapa donde se puedan fusionar datos de diferentes servidores remotos y devolver esos datos preprocesados. El intérprete de consultas termina de procesar los datos.</li> </ul> <p>Tabla <code class=syntax>read</code> método puede devolver múltiples <code class=syntax>IBlockInputStream</code> objetos para permitir el procesamiento de datos en paralelo. Estos flujos de entrada de bloques múltiples pueden leer de una tabla en paralelo. A continuación, puede ajustar estas secuencias con varias transformaciones (como la evaluación de expresiones o el filtrado) que se pueden calcular de forma independiente y crear un <code class=syntax>UnionBlockInputStream</code> encima de ellos, para leer desde múltiples flujos en paralelo.</p> <p>También hay <code class=syntax>TableFunction</code>s. Estas son funciones que devuelven un <code class=syntax>IStorage</code> objeto a utilizar en el <code class=syntax>FROM</code> cláusula de una consulta.</p> <p>Para tener una idea rápida de cómo implementar su motor de tabla, vea algo simple, como <code class=syntax>StorageMemory</code> o <code class=syntax>StorageTinyLog</code>.</p> <blockquote> <p>Como resultado de la <code class=syntax>read</code> método, <code class=syntax>IStorage</code> devoluciones <code class=syntax>QueryProcessingStage</code> – information about what parts of the query were already calculated inside storage.</p> </blockquote> <h2 id=parsers>Analizador<a class=headerlink href=#parsers title="Permanent link"> </a></h2> <p>Un analizador de descenso recursivo escrito a mano analiza una consulta. Por ejemplo, <code class=syntax>ParserSelectQuery</code> simplemente llama recursivamente a los analizadores subyacentes para varias partes de la consulta. Los analizadores crean un <code class=syntax>AST</code>. El <code class=syntax>AST</code> está representado por nodos, que son instancias de <code class=syntax>IAST</code>.</p> <blockquote> <p>Los generadores de analizadores no se utilizan por razones históricas.</p> </blockquote> <h2 id=interpreters>Interprete<a class=headerlink href=#interpreters title="Permanent link"> </a></h2> <p>Los intérpretes son responsables de crear la canalización de ejecución de consultas <code class=syntax>AST</code>. Hay intérpretes simples, como <code class=syntax>InterpreterExistsQuery</code> y <code class=syntax>InterpreterDropQuery</code> o el más sofisticado <code class=syntax>InterpreterSelectQuery</code>. La canalización de ejecución de consultas es una combinación de flujos de entrada o salida de bloques. Por ejemplo, el resultado de interpretar el <code class=syntax>SELECT</code> la consulta es la <code class=syntax>IBlockInputStream</code> para leer el conjunto de resultados; el resultado de la consulta INSERT es el <code class=syntax>IBlockOutputStream</code> para escribir datos para su inserción, y el resultado de interpretar el <code class=syntax>INSERT SELECT</code> la consulta es la <code class=syntax>IBlockInputStream</code> que devuelve un conjunto de resultados vacío en la primera lectura, pero que copia datos de <code class=syntax>SELECT</code> a <code class=syntax>INSERT</code> al mismo tiempo.</p> <p><code class=syntax>InterpreterSelectQuery</code> utilizar <code class=syntax>ExpressionAnalyzer</code> y <code class=syntax>ExpressionActions</code> maquinaria para el análisis de consultas y transformaciones. Aquí es donde se realizan la mayoría de las optimizaciones de consultas basadas en reglas. <code class=syntax>ExpressionAnalyzer</code> es bastante complicado y debe reescribirse: se deben extraer varias transformaciones de consultas y optimizaciones para separar clases para permitir transformaciones modulares o consultas.</p> <h2 id=functions>Función<a class=headerlink href=#functions title="Permanent link"> </a></h2> <p>Hay funciones ordinarias y funciones agregadas. Para las funciones agregadas, consulte la siguiente sección.</p> <p>Ordinary functions don't change the number of rows – they work as if they are processing each row independently. In fact, functions are not called for individual rows, but for <code class=syntax>Block</code>de datos para implementar la ejecución de consultas vectorizadas.</p> <p>Hay algunas funciones diversas, como <a href=../../sql-reference/functions/other-functions/#function-blocksize>BlockSize</a>, <a href=../../sql-reference/functions/other-functions/#function-rownumberinblock>rowNumberInBlock</a>, y <a href=../../sql-reference/functions/other-functions/#function-runningaccumulate>runningAccumulate</a>, que explotan el procesamiento de bloques y violan la independencia de las filas.</p> <p>ClickHouse tiene una tipificación fuerte, por lo que no hay conversión de tipo implícita. Si una función no admite una combinación específica de tipos, produce una excepción. Pero las funciones pueden funcionar (estar sobrecargadas) para muchas combinaciones diferentes de tipos. Por ejemplo, el <code class=syntax>plus</code> función (para implementar el <code class=syntax>+</code> operador) funciona para cualquier combinación de tipos numéricos: <code class=syntax>UInt8</code> + <code class=syntax>Float32</code>, <code class=syntax>UInt16</code> + <code class=syntax>Int8</code> y así sucesivamente. Además, algunas funciones variadas pueden aceptar cualquier número de argumentos, como el <code class=syntax>concat</code> función.</p> <p>Implementar una función puede ser un poco inconveniente porque una función distribuye explícitamente tipos de datos compatibles y <code class=syntax>IColumns</code>. Por ejemplo, el <code class=syntax>plus</code> La función tiene código generado por la creación de instancias de una plantilla de C ++ para cada combinación de tipos numéricos y argumentos izquierdo y derecho constantes o no constantes.</p> <p>Es un excelente lugar para implementar la generación de código en tiempo de ejecución para evitar la hinchazón del código de plantilla. Además, permite agregar funciones fusionadas como multiplicar-agregar fusionado o hacer comparaciones múltiples en una iteración de bucle.</p> <p>Debido a la ejecución de consultas vectorizadas, las funciones no se cortocircuitan. Por ejemplo, si escribe <code class=syntax>WHERE f(x) AND g(y)</code>, ambos lados se calculan, incluso para las filas, cuando <code class=syntax>f(x)</code> es cero (excepto cuando <code class=syntax>f(x)</code> es una expresión constante cero). Pero si la selectividad del <code class=syntax>f(x)</code> la condición es alta, y el cálculo de <code class=syntax>f(x)</code> es mucho más barato que <code class=syntax>g(y)</code>, es mejor implementar el cálculo de paso múltiple. Primero calcularía <code class=syntax>f(x)</code>, a continuación, filtrar columnas por el resultado, y luego calcular <code class=syntax>g(y)</code> solo para trozos de datos más pequeños y filtrados.</p> <h2 id=aggregate-functions>Funciones agregadas<a class=headerlink href=#aggregate-functions title="Permanent link"> </a></h2> <p>Las funciones agregadas son funciones con estado. Acumulan valores pasados en algún estado y le permiten obtener resultados de ese estado. Se gestionan con el <code class=syntax>IAggregateFunction</code> interfaz. Los estados pueden ser bastante simples (el estado para <code class=syntax>AggregateFunctionCount</code> es sólo una sola <code class=syntax>UInt64</code> valor) o bastante complejo (el estado de <code class=syntax>AggregateFunctionUniqCombined</code> es una combinación de una matriz lineal, una tabla hash, y un <code class=syntax>HyperLogLog</code> estructura de datos probabilística).</p> <p>Los Estados están asignados en <code class=syntax>Arena</code> (un grupo de memoria) para tratar con múltiples estados mientras se ejecuta una alta cardinalidad <code class=syntax>GROUP BY</code> consulta. Los estados pueden tener un constructor y destructor no trivial: por ejemplo, los estados de agregación complicados pueden asignar memoria adicional ellos mismos. Requiere cierta atención a la creación y destrucción de estados y a la adecuada aprobación de su orden de propiedad y destrucción.</p> <p>Los estados de agregación se pueden serializar y deserializar para pasar a través de la red durante la ejecución de consultas distribuidas o para escribirlos en el disco donde no hay suficiente RAM. Incluso se pueden almacenar en una tabla con el <code class=syntax>DataTypeAggregateFunction</code> para permitir la agregación incremental de datos.</p> <blockquote> <p>El formato de datos serializados para los estados de función agregados no tiene versiones en este momento. Está bien si los estados agregados solo se almacenan temporalmente. Pero tenemos el <code class=syntax>AggregatingMergeTree</code> motor de tabla para la agregación incremental, y la gente ya lo está utilizando en producción. Es la razón por la que se requiere compatibilidad con versiones anteriores al cambiar el formato serializado para cualquier función agregada en el futuro.</p> </blockquote> <h2 id=server>Servidor<a class=headerlink href=#server title="Permanent link"> </a></h2> <p>El servidor implementa varias interfaces diferentes:</p> <ul> <li>Una interfaz HTTP para cualquier cliente extranjero.</li> <li>Una interfaz TCP para el cliente nativo de ClickHouse y para la comunicación entre servidores durante la ejecución de consultas distribuidas.</li> <li>Una interfaz para transferir datos para la replicación.</li> </ul> <p>Internamente, es solo un servidor multiproceso primitivo sin corutinas ni fibras. Dado que el servidor no está diseñado para procesar una alta tasa de consultas simples, sino para procesar una tasa relativamente baja de consultas complejas, cada uno de ellos puede procesar una gran cantidad de datos para análisis.</p> <p>El servidor inicializa el <code class=syntax>Context</code> clase con el entorno necesario para la ejecución de consultas: la lista de bases de datos disponibles, usuarios y derechos de acceso, configuración, clústeres, la lista de procesos, el registro de consultas, etc. Los intérpretes utilizan este entorno.</p> <p>Mantenemos una compatibilidad total con versiones anteriores y posteriores para el protocolo TCP del servidor: los clientes antiguos pueden hablar con servidores nuevos y los nuevos clientes pueden hablar con servidores antiguos. Pero no queremos mantenerlo eternamente, y estamos eliminando el soporte para versiones antiguas después de aproximadamente un año.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Nota</p> <p>Para la mayoría de las aplicaciones externas, recomendamos usar la interfaz HTTP porque es simple y fácil de usar. El protocolo TCP está más estrechamente vinculado a las estructuras de datos internas: utiliza un formato interno para pasar bloques de datos y utiliza marcos personalizados para datos comprimidos. No hemos lanzado una biblioteca C para ese protocolo porque requiere vincular la mayor parte de la base de código ClickHouse, lo cual no es práctico.</p> </div> <h2 id=distributed-query-execution>Ejecución de consultas distribuidas<a class=headerlink href=#distributed-query-execution title="Permanent link"> </a></h2> <p>Los servidores de una configuración de clúster son en su mayoría independientes. Puede crear un <code class=syntax>Distributed</code> en uno o todos los servidores de un clúster. El <code class=syntax>Distributed</code> table does not store data itself – it only provides a “view” a todas las tablas locales en varios nodos de un clúster. Cuando se SELECCIONA desde un <code class=syntax>Distributed</code> tabla, reescribe esa consulta, elige nodos remotos de acuerdo con la configuración de equilibrio de carga y les envía la consulta. El <code class=syntax>Distributed</code> table solicita a los servidores remotos que procesen una consulta hasta una etapa en la que se pueden fusionar resultados intermedios de diferentes servidores. Luego recibe los resultados intermedios y los fusiona. La tabla distribuida intenta distribuir tanto trabajo como sea posible a servidores remotos y no envía muchos datos intermedios a través de la red.</p> <p>Las cosas se vuelven más complicadas cuando tiene subconsultas en cláusulas IN o JOIN, y cada una de ellas usa un <code class=syntax>Distributed</code> tabla. Tenemos diferentes estrategias para la ejecución de estas consultas.</p> <p>No existe un plan de consulta global para la ejecución de consultas distribuidas. Cada nodo tiene su plan de consulta local para su parte del trabajo. Solo tenemos una ejecución simple de consultas distribuidas de un solo paso: enviamos consultas para nodos remotos y luego fusionamos los resultados. Pero esto no es factible para consultas complicadas con alta cardinalidad GROUP BY o con una gran cantidad de datos temporales para JOIN. En tales casos, necesitamos “reshuffle” datos entre servidores, lo que requiere una coordinación adicional. ClickHouse no admite ese tipo de ejecución de consultas, y tenemos que trabajar en ello.</p> <h2 id=merge-tree>Árbol de fusión<a class=headerlink href=#merge-tree title="Permanent link"> </a></h2> <p><code class=syntax>MergeTree</code> es una familia de motores de almacenamiento que admite la indexación por clave principal. La clave principal puede ser una tupla arbitraria de columnas o expresiones. Datos en un <code class=syntax>MergeTree</code> se almacena en “parts”. Cada parte almacena los datos en el orden de la clave principal, por lo que la tupla de la clave principal ordena los datos lexicográficamente. Todas las columnas de la tabla se almacenan en <code class=syntax>column.bin</code> archivos en estas partes. Los archivos consisten en bloques comprimidos. Cada bloque suele ser de 64 KB a 1 MB de datos sin comprimir, dependiendo del tamaño del valor promedio. Los bloques constan de valores de columna colocados contiguamente uno tras otro. Los valores de columna están en el mismo orden para cada columna (la clave principal define el orden), por lo que cuando itera por muchas columnas, obtiene valores para las filas correspondientes.</p> <p>La clave principal en sí es “sparse”. No aborda cada fila, sino solo algunos rangos de datos. Separado <code class=syntax>primary.idx</code> file tiene el valor de la clave principal para cada fila N-ésima, donde se llama N <code class=syntax>index_granularity</code> (generalmente, N = 8192). Además, para cada columna, tenemos <code class=syntax>column.mrk</code> archivos con “marks,” que son desplazamientos a cada fila N-ésima en el archivo de datos. Cada marca es un par: el desplazamiento en el archivo al comienzo del bloque comprimido y el desplazamiento en el bloque descomprimido al comienzo de los datos. Por lo general, los bloques comprimidos están alineados por marcas, y el desplazamiento en el bloque descomprimido es cero. Datos para <code class=syntax>primary.idx</code> siempre reside en la memoria, y los datos para <code class=syntax>column.mrk</code> archivos se almacena en caché.</p> <p>Cuando vamos a leer algo de una parte en <code class=syntax>MergeTree</code> miramos <code class=syntax>primary.idx</code> datos y localice rangos que podrían contener datos solicitados, luego mire <code class=syntax>column.mrk</code> datos y calcular compensaciones para dónde comenzar a leer esos rangos. Debido a la escasez, el exceso de datos puede ser leído. ClickHouse no es adecuado para una gran carga de consultas de puntos simples, porque todo el rango con <code class=syntax>index_granularity</code> se deben leer filas para cada clave, y todo el bloque comprimido debe descomprimirse para cada columna. Hicimos que el índice sea disperso porque debemos poder mantener billones de filas por único servidor sin un consumo de memoria notable para el índice. Además, debido a que la clave principal es escasa, no es única: no puede verificar la existencia de la clave en la tabla en el momento de INSERTAR. Podría tener muchas filas con la misma clave en una tabla.</p> <p>Cuando <code class=syntax>INSERT</code> un montón de datos en <code class=syntax>MergeTree</code>, ese grupo está ordenado por orden de clave primaria y forma una nueva parte. Hay subprocesos de fondo que seleccionan periódicamente algunas partes y las fusionan en una sola parte ordenada para mantener el número de partes relativamente bajo. Es por eso que se llama <code class=syntax>MergeTree</code>. Por supuesto, la fusión conduce a “write amplification”. Todas las partes son inmutables: solo se crean y eliminan, pero no se modifican. Cuando se ejecuta SELECT, contiene una instantánea de la tabla (un conjunto de partes). Después de la fusión, también mantenemos las piezas viejas durante algún tiempo para facilitar la recuperación después de la falla, por lo que si vemos que alguna parte fusionada probablemente esté rota, podemos reemplazarla con sus partes de origen.</p> <p><code class=syntax>MergeTree</code> no es un árbol de LSM porque no contiene “memtable” y “log”: inserted data is written directly to the filesystem. This makes it suitable only to INSERT data in batches, not by individual row and not very frequently – about once per second is ok, but a thousand times a second is not. We did it this way for simplicity's sake, and because we are already inserting data in batches in our applications.</p> <blockquote> <p>Las tablas MergeTree solo pueden tener un índice (primario): no hay índices secundarios. Sería bueno permitir múltiples representaciones físicas bajo una tabla lógica, por ejemplo, para almacenar datos en más de un orden físico o incluso para permitir representaciones con datos preagregados junto con datos originales.</p> </blockquote> <p>Hay motores MergeTree que están haciendo un trabajo adicional durante las fusiones en segundo plano. Los ejemplos son <code class=syntax>CollapsingMergeTree</code> y <code class=syntax>AggregatingMergeTree</code>. Esto podría tratarse como soporte especial para actualizaciones. Tenga en cuenta que estas no son actualizaciones reales porque los usuarios generalmente no tienen control sobre el tiempo en que se ejecutan las fusiones en segundo plano y los datos en un <code class=syntax>MergeTree</code> casi siempre se almacena en más de una parte, no en forma completamente fusionada.</p> <h2 id=replication>Replicación<a class=headerlink href=#replication title="Permanent link"> </a></h2> <p>La replicación en ClickHouse se puede configurar por tabla. Podría tener algunas tablas replicadas y otras no replicadas en el mismo servidor. También puede tener tablas replicadas de diferentes maneras, como una tabla con replicación de dos factores y otra con replicación de tres factores.</p> <p>La replicación se implementa en el <code class=syntax>ReplicatedMergeTree</code> motor de almacenamiento. El camino en <code class=syntax>ZooKeeper</code> se especifica como un parámetro para el motor de almacenamiento. Todas las tablas con la misma ruta en <code class=syntax>ZooKeeper</code> se convierten en réplicas entre sí: sincronizan sus datos y mantienen la coherencia. Las réplicas se pueden agregar y eliminar dinámicamente simplemente creando o soltando una tabla.</p> <p>La replicación utiliza un esquema multi-maestro asíncrono. Puede insertar datos en cualquier réplica que tenga una sesión con <code class=syntax>ZooKeeper</code>, y los datos se replican en todas las demás réplicas de forma asíncrona. Como ClickHouse no admite UPDATE, la replicación está libre de conflictos. Como no hay reconocimiento de quórum de inserciones, los datos recién insertados pueden perderse si un nodo falla.</p> <p>Los metadatos para la replicación se almacenan en ZooKeeper. Hay un registro de replicación que enumera las acciones que se deben realizar. Las acciones son: obtener parte; fusionar partes; soltar una partición, etc. Cada réplica copia el registro de replicación en su cola y, a continuación, ejecuta las acciones desde la cola. Por ejemplo, en la inserción, el “get the part” la acción se crea en el registro y cada réplica descarga esa parte. Las fusiones se coordinan entre réplicas para obtener resultados idénticos en bytes. Todas las piezas se combinan de la misma manera en todas las réplicas. Se logra eligiendo una réplica como líder, y esa réplica inicia fusiones y escrituras “merge parts” acciones al registro.</p> <p>La replicación es física: solo las partes comprimidas se transfieren entre nodos, no consultas. Las fusiones se procesan en cada réplica de forma independiente en la mayoría de los casos para reducir los costos de red al evitar la amplificación de la red. Las piezas combinadas grandes se envían a través de la red solo en casos de retraso de replicación significativo.</p> <p>Además, cada réplica almacena su estado en ZooKeeper como el conjunto de piezas y sus sumas de comprobación. Cuando el estado en el sistema de archivos local difiere del estado de referencia en ZooKeeper, la réplica restaura su coherencia descargando partes faltantes y rotas de otras réplicas. Cuando hay algunos datos inesperados o rotos en el sistema de archivos local, ClickHouse no los elimina, sino que los mueve a un directorio separado y los olvida.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Nota</p> <p>El clúster ClickHouse consta de fragmentos independientes y cada fragmento consta de réplicas. El clúster es <strong>no elástico</strong>, por lo tanto, después de agregar un nuevo fragmento, los datos no se reequilibran automáticamente entre fragmentos. En su lugar, se supone que la carga del clúster debe ajustarse para que sea desigual. Esta implementación le da más control, y está bien para clústeres relativamente pequeños, como decenas de nodos. Pero para los clústeres con cientos de nodos que estamos utilizando en producción, este enfoque se convierte en un inconveniente significativo. Debemos implementar un motor de tablas que abarque todo el clúster con regiones replicadas dinámicamente que puedan dividirse y equilibrarse entre clústeres automáticamente.</p> </div> </div> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Was this content helpful?</span> <div id=rating-stars class="display-6 mb-0" data-titles="['Unusable', 'Poor', 'OK', 'Good', 'Excellent']" data-documentation=documentation>RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#columns title=Columna class="nav-link text-wrap d-inline-block w-100"> Columna </a> <a href=#field title=Campo class="nav-link text-wrap d-inline-block w-100"> Campo </a> <a href=#leaky-abstractions title="Abstracciones con fugas" class="nav-link text-wrap d-inline-block w-100"> Abstracciones con fugas </a> <a href=#data_types title="Tipos de datos" class="nav-link text-wrap d-inline-block w-100"> Tipos de datos </a> <a href=#block title=Bloque class="nav-link text-wrap d-inline-block w-100"> Bloque </a> <a href=#block-streams title="Bloquear flujos" class="nav-link text-wrap d-inline-block w-100"> Bloquear flujos </a> <a href=#formats title=Formato class="nav-link text-wrap d-inline-block w-100"> Formato </a> <a href=#io title=I/O class="nav-link text-wrap d-inline-block w-100"> I/O </a> <a href=#tables title=Tabla class="nav-link text-wrap d-inline-block w-100"> Tabla </a> <a href=#parsers title=Analizador class="nav-link text-wrap d-inline-block w-100"> Analizador </a> <a href=#interpreters title=Interprete class="nav-link text-wrap d-inline-block w-100"> Interprete </a> <a href=#functions title=Función class="nav-link text-wrap d-inline-block w-100"> Función </a> <a href=#aggregate-functions title="Funciones agregadas" class="nav-link text-wrap d-inline-block w-100"> Funciones agregadas </a> <a href=#server title=Servidor class="nav-link text-wrap d-inline-block w-100"> Servidor </a> <a href=#distributed-query-execution title="Ejecución de consultas distribuidas" class="nav-link text-wrap d-inline-block w-100"> Ejecución de consultas distribuidas </a> <a href=#merge-tree title="Árbol de fusión" class="nav-link text-wrap d-inline-block w-100"> Árbol de fusión </a> <a href=#replication title=Replicación class="nav-link text-wrap d-inline-block w-100"> Replicación </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?00223b07></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>