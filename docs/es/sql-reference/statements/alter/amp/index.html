<!doctype html><html ⚡ lang=es> <head><meta charset=utf-8><script async src=https://cdn.ampproject.org/v0.js></script><title>ALTER | Documentación de ClickHouse</title><link href=https://clickhouse.tech/docs/es/sql-reference/statements/alter/ rel=canonical><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "ALTER | Documentación de ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/es/sql-reference/statements/alter/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "ALTER | Documentación de ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,main{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}b{font-weight:bolder}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2rem}.h2,h2{font-size:1.5rem}.h3,h3{font-size:1.25rem}.h4,h4{font-size:1rem}.h5,h5{font-size:1rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-primary{background-color:#b8daff}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-dark{color:#fff;background-color:#343a40}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)}.shadow-none{box-shadow:none}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.headerlink{text-decoration:none;margin-left:.5rem}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#000;background:#eee;padding:.125rem .25rem}#content code.syntax{padding:0}#content pre{background:#efefef;padding:1rem;line-height:1.25}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee;padding:.125rem .25rem}#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#000;font-weight:700}.syntax .l{color:#08f}.syntax .n{color:#2f1e2e}.syntax .o{color:#800}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#08f}.syntax .s{color:#48b685}.syntax .nb{color:#2f1e2e}.syntax .no{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .mi{color:#08f}.syntax .mo{color:#08f}.syntax .s2{color:#48b685}.syntax .se{color:#08f}.syntax .si{color:#08f}.syntax .s1{color:#080}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .nb{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script></head> <body class=amp dir=ltr> <div class="container-fluid container-lg pb-5"> <div class="row pt-3 mb-3"> <div class=col> <a href=/ class=text-decoration-none> <amp-img class="d-inline-block mr-3" layout=fixed width=40 height=36 src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout=fixed width=238 height=36 src=/images/clickhouse-black.svg alt=ClickHouse title=ClickHouse></amp-img> </a> </div> </div> <div class=row> <div id=content class=col> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/sql-reference/statements/alter/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql-reference/statements/alter.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h2 id=query_language_queries_alter>ALTER<a class=headerlink href=../amp/#query_language_queries_alter title="Permanent link"> </a></h2> <p>El <code class=syntax>ALTER</code> consulta sólo se admite para <code class=syntax>*MergeTree</code> mesas, así como <code class=syntax>Merge</code>y<code class=syntax>Distributed</code>. La consulta tiene varias variaciones.</p> <h3 id=column-manipulations>Manipulaciones de columna<a class=headerlink href=../amp/#column-manipulations title="Permanent link"> </a></h3> <p>Cambiar la estructura de la tabla.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=k>ADD</span><span class=o>|</span><span class=k>DROP</span><span class=o>|</span><span class=n>CLEAR</span><span class=o>|</span><span class=k>COMMENT</span><span class=o>|</span><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>...</span>
</code></pre></div> <p>En la consulta, especifique una lista de una o más acciones separadas por comas.<br> Cada acción es una operación en una columna.</p> <p>Se admiten las siguientes acciones:</p> <ul> <li><a href=../amp/#alter_add-column>ADD COLUMN</a> — Adds a new column to the table.</li> <li><a href=../amp/#alter_drop-column>DROP COLUMN</a> — Deletes the column.</li> <li><a href=../amp/#alter_clear-column>CLEAR COLUMN</a> — Resets column values.</li> <li><a href=../amp/#alter_comment-column>COMMENT COLUMN</a> — Adds a text comment to the column.</li> <li><a href=../amp/#alter_modify-column>MODIFY COLUMN</a> — Changes column's type, default expression and TTL.</li> </ul> <p>Estas acciones se describen en detalle a continuación.</p> <h4 id=alter_add-column>ADD COLUMN<a class=headerlink href=../amp/#alter_add-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ADD</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>codec</span><span class=p>]</span> <span class=p>[</span><span class=k>AFTER</span> <span class=n>name_after</span><span class=p>]</span>
</code></pre></div> <p>Agrega una nueva columna a la tabla con el <code class=syntax>name</code>, <code class=syntax>type</code>, <a href=../../create/amp/#codecs><code class=syntax>codec</code></a> y <code class=syntax>default_expr</code> (ver la sección <a href=../../create/amp/#create-default-values>Expresiones predeterminadas</a>).</p> <p>Si el <code class=syntax>IF NOT EXISTS</code> cláusula, la consulta no devolverá un error si la columna ya existe. Si especifica <code class=syntax>AFTER name_after</code> (el nombre de otra columna), la columna se agrega después de la especificada en la lista de columnas de tabla. De lo contrario, la columna se agrega al final de la tabla. Tenga en cuenta que no hay forma de agregar una columna al principio de una tabla. Para una cadena de acciones, <code class=syntax>name_after</code> puede ser el nombre de una columna que se agrega en una de las acciones anteriores.</p> <p>Agregar una columna solo cambia la estructura de la tabla, sin realizar ninguna acción con datos. Los datos no aparecen en el disco después de <code class=syntax>ALTER</code>. Si faltan los datos para una columna al leer de la tabla, se rellena con valores predeterminados (realizando la expresión predeterminada si hay una, o usando ceros o cadenas vacías). La columna aparece en el disco después de fusionar partes de datos (consulte <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ >Método de codificación de datos:</a>).</p> <p>Este enfoque nos permite completar el <code class=syntax>ALTER</code> consulta al instante, sin aumentar el volumen de datos antiguos.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>ADD</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=n>String</span> <span class=k>AFTER</span> <span class=n>user_id</span>
</code></pre></div> <h4 id=alter_drop-column>DROP COLUMN<a class=headerlink href=../amp/#alter_drop-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span>
</code></pre></div> <p>Elimina la columna con el nombre <code class=syntax>name</code>. Si el <code class=syntax>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Elimina datos del sistema de archivos. Dado que esto elimina archivos completos, la consulta se completa casi al instante.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>DROP</span> <span class=k>COLUMN</span> <span class=n>browser</span>
</code></pre></div> <h4 id=alter_clear-column>CLEAR COLUMN<a class=headerlink href=../amp/#alter_clear-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>Restablece todos los datos de una columna para una partición especificada. Obtenga más información sobre cómo configurar el nombre de la partición en la sección <a href=../amp/#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>Si el <code class=syntax>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span>
</code></pre></div> <h4 id=alter_comment-column>COMMENT COLUMN<a class=headerlink href=../amp/#alter_comment-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=s1>'comment'</span>
</code></pre></div> <p>Agrega un comentario a la columna. Si el <code class=syntax>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Cada columna puede tener un comentario. Si ya existe un comentario para la columna, un nuevo comentario sobrescribe el comentario anterior.</p> <p>Los comentarios se almacenan en el <code class=syntax>comment_expression</code> columna devuelta por el <a href=../../misc/amp/#misc-describe-table>DESCRIBE TABLE</a> consulta.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=s1>'The table shows the browser used for accessing the site.'</span>
</code></pre></div> <h4 id=alter_modify-column>MODIFY COLUMN<a class=headerlink href=../amp/#alter_modify-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span><span class=p>]</span>
</code></pre></div> <p>Esta consulta cambia el <code class=syntax>name</code> propiedades de la columna:</p> <ul> <li> <p>Tipo</p> </li> <li> <p>Expresión predeterminada</p> </li> <li> <p>TTL</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>For</span> <span class=n>examples</span> <span class=n>of</span> <span class=n>columns</span> <span class=n>TTL</span> <span class=n>modifying</span><span class=p>,</span> <span class=n>see</span> <span class=p>[</span><span class=n>Column</span> <span class=n>TTL</span><span class=p>](..</span><span class=o>/</span><span class=n>engines</span><span class=o>/</span><span class=n>table_engines</span><span class=o>/</span><span class=n>mergetree_family</span><span class=o>/</span><span class=n>mergetree</span><span class=p>.</span><span class=n>md</span><span class=err>#</span><span class=n>mergetree</span><span class=o>-</span><span class=n>column</span><span class=o>-</span><span class=n>ttl</span><span class=p>).</span>
</code></pre></div> </li> </ul> <p>Si el <code class=syntax>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Al cambiar el tipo, los valores se convierten como si <a href=../../../functions/type-conversion-functions/amp/ >ToType</a> se les aplicaron funciones. Si solo se cambia la expresión predeterminada, la consulta no hace nada complejo y se completa casi al instante.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>)</span>
</code></pre></div> <p>Changing the column type is the only complex action – it changes the contents of files with data. For large tables, this may take a long time.</p> <p>Hay varias etapas de procesamiento:</p> <ul> <li>Preparación de archivos temporales (nuevos) con datos modificados.</li> <li>Cambiar el nombre de los archivos antiguos.</li> <li>Cambiar el nombre de los archivos temporales (nuevos) a los nombres antiguos.</li> <li>Eliminar los archivos antiguos.</li> </ul> <p>Solo la primera etapa lleva tiempo. Si hay un error en esta etapa, los datos no se cambian.<br> Si hay un error durante una de las etapas sucesivas, los datos se pueden restaurar manualmente. La excepción es si los archivos antiguos se eliminaron del sistema de archivos, pero los datos de los nuevos archivos no se escribieron en el disco y se perdieron.</p> <p>El <code class=syntax>ALTER</code> se replica la consulta para cambiar columnas. Las instrucciones se guardan en ZooKeeper, luego cada réplica las aplica. Todo <code class=syntax>ALTER</code> las consultas se ejecutan en el mismo orden. La consulta espera a que se completen las acciones adecuadas en las otras réplicas. Sin embargo, una consulta para cambiar columnas en una tabla replicada se puede interrumpir y todas las acciones se realizarán de forma asincrónica.</p> <h4 id=alter-query-limitations>Limitaciones de consulta ALTER<a class=headerlink href=../amp/#alter-query-limitations title="Permanent link"> </a></h4> <p>El <code class=syntax>ALTER</code> query le permite crear y eliminar elementos separados (columnas) en estructuras de datos anidadas, pero no en estructuras de datos anidadas completas. Para agregar una estructura de datos anidada, puede agregar columnas con un nombre como <code class=syntax>name.nested_name</code> y el tipo <code class=syntax>Array(T)</code>. Una estructura de datos anidada es equivalente a varias columnas de matriz con un nombre que tiene el mismo prefijo antes del punto.</p> <p>No hay soporte para eliminar columnas en la clave principal o la clave de muestreo (columnas que se utilizan en el <code class=syntax>ENGINE</code> expresion). Solo es posible cambiar el tipo de las columnas que se incluyen en la clave principal si este cambio no provoca que se modifiquen los datos (por ejemplo, puede agregar valores a un Enum o cambiar un tipo de <code class=syntax>DateTime</code> a <code class=syntax>UInt32</code>).</p> <p>Si el <code class=syntax>ALTER</code> la consulta no es suficiente para realizar los cambios en la tabla que necesita, puede crear una nueva tabla, copiar los datos <a href=../../insert-into/amp/#insert_query_insert-select>INSERT SELECT</a> consulta, luego cambie las tablas usando el <a href=../../misc/amp/#misc_operations-rename>RENAME</a> consulta y elimina la tabla anterior. Puede usar el <a href=../../../../operations/utilities/clickhouse-copier/amp/ >Método de codificación de datos:</a> como una alternativa a la <code class=syntax>INSERT SELECT</code> consulta.</p> <p>El <code class=syntax>ALTER</code> query bloquea todas las lecturas y escrituras para la tabla. En otras palabras, si un largo <code class=syntax>SELECT</code> se está ejecutando en el momento de la <code class=syntax>ALTER</code> consulta, el <code class=syntax>ALTER</code> la consulta esperará a que se complete. Al mismo tiempo, todas las consultas nuevas a la misma tabla esperarán <code class=syntax>ALTER</code> se está ejecutando.</p> <p>Para tablas que no almacenan datos por sí mismas (como <code class=syntax>Merge</code> y <code class=syntax>Distributed</code>), <code class=syntax>ALTER</code> simplemente cambia la estructura de la tabla, y no cambia la estructura de las tablas subordinadas. Por ejemplo, cuando se ejecuta ALTER para un <code class=syntax>Distributed</code> mesa, también tendrá que ejecutar <code class=syntax>ALTER</code> para las tablas en todos los servidores remotos.</p> <h3 id=manipulations-with-key-expressions>Manipulaciones con expresiones clave<a class=headerlink href=../amp/#manipulations-with-key-expressions title="Permanent link"> </a></h3> <p>Se admite el siguiente comando:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>MODIFY</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>new_expression</span>
</code></pre></div> <p>Solo funciona para tablas en el <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ ><code class=syntax>MergeTree</code></a> familia (incluyendo<br> <a href=../../../../engines/table-engines/mergetree-family/replication/amp/ >repetición</a> tabla). El comando cambia el<br> <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ >clave de clasificación</a> de la mesa<br> a <code class=syntax>new_expression</code> (una expresión o una tupla de expresiones). La clave principal sigue siendo la misma.</p> <p>El comando es liviano en el sentido de que solo cambia los metadatos. Para mantener la propiedad esa parte de datos<br> las filas están ordenadas por la expresión de clave de ordenación, no puede agregar expresiones que contengan columnas existentes<br> a la clave de ordenación (sólo las columnas añadidas <code class=syntax>ADD COLUMN</code> comando en el mismo <code class=syntax>ALTER</code> consulta).</p> <h3 id=manipulations-with-data-skipping-indices>Manipulaciones con índices de saltos de datos<a class=headerlink href=../amp/#manipulations-with-data-skipping-indices title="Permanent link"> </a></h3> <p>Solo funciona para tablas en el <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/ ><code class=syntax>*MergeTree</code></a> familia (incluyendo<br> <a href=../../../../engines/table-engines/mergetree-family/replication/amp/ >repetición</a> tabla). Las siguientes operaciones<br> están disponibles:</p> <ul> <li> <p><code class=syntax>ALTER TABLE [db].name ADD INDEX name expression TYPE type GRANULARITY value AFTER name [AFTER name2]</code> - Agrega la descripción del índice a los metadatos de las tablas.</p> </li> <li> <p><code class=syntax>ALTER TABLE [db].name DROP INDEX name</code> - Elimina la descripción del índice de los metadatos de las tablas y elimina los archivos de índice del disco.</p> </li> </ul> <p>Estos comandos son livianos en el sentido de que solo cambian los metadatos o eliminan archivos.<br> Además, se replican (sincronizando metadatos de índices a través de ZooKeeper).</p> <h3 id=manipulations-with-constraints>Manipulaciones con restricciones<a class=headerlink href=../amp/#manipulations-with-constraints title="Permanent link"> </a></h3> <p>Ver más en <a href=../../create/amp/#constraints>limitación</a></p> <p>Las restricciones se pueden agregar o eliminar utilizando la siguiente sintaxis:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>ADD</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span> <span class=k>CHECK</span> <span class=n>expression</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>DROP</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span><span class=p>;</span>
</code></pre></div> <p>Las consultas agregarán o eliminarán metadatos sobre restricciones de la tabla para que se procesen inmediatamente.</p> <p>Comprobación de restricciones <em>no se ejecutará</em> en los datos existentes si se agregaron.</p> <p>Todos los cambios en las tablas replicadas se transmiten a ZooKeeper, por lo que se aplicarán en otras réplicas.</p> <h3 id=alter_manipulations-with-partitions>Manipulaciones con particiones y piezas<a class=headerlink href=../amp/#alter_manipulations-with-partitions title="Permanent link"> </a></h3> <p>Las siguientes operaciones con <a href=../../../../engines/table-engines/mergetree-family/custom-partitioning-key/amp/ >partición</a> están disponibles:</p> <ul> <li><a href=../amp/#alter_detach-partition>DETACH PARTITION</a> – Moves a partition to the <code class=syntax>detached</code> directorio y olvidarlo.</li> <li><a href=../amp/#alter_drop-partition>DROP PARTITION</a> – Deletes a partition.</li> <li><a href=../amp/#alter_attach-partition>ATTACH PART|PARTITION</a> – Adds a part or partition from the <code class=syntax>detached</code> directorio a la tabla.</li> <li><a href=../amp/#alter_attach-partition-from>ATTACH PARTITION FROM</a> – Copies the data partition from one table to another and adds.</li> <li><a href=../amp/#alter_replace-partition>REPLACE PARTITION</a> - Copia la partición de datos de una tabla a otra y reemplaza.</li> <li><a href=../amp/#alter_move_to_table-partition>MOVE PARTITION TO TABLE</a>(#alter_move_to_table-partition) - Mover la partición de datos de una tabla a otra.</li> <li><a href=../amp/#alter_clear-column-partition>CLEAR COLUMN IN PARTITION</a> - Restablece el valor de una columna especificada en una partición.</li> <li><a href=../amp/#alter_clear-index-partition>CLEAR INDEX IN PARTITION</a> - Restablece el índice secundario especificado en una partición.</li> <li><a href=../amp/#alter_freeze-partition>FREEZE PARTITION</a> – Creates a backup of a partition.</li> <li><a href=../amp/#alter_fetch-partition>FETCH PARTITION</a> – Downloads a partition from another server.</li> <li><a href=../amp/#alter_move-partition>MOVE PARTITION|PART</a> – Move partition/data part to another disk or volume.</li> </ul> <!-- --> <h4 id=alter_detach-partition>DETACH PARTITION<a class=headerlink href=../amp/#alter_detach-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Mueve todos los datos de la partición especificada <code class=syntax>detached</code> directorio. El servidor se olvida de la partición de datos separada como si no existiera. El servidor no sabrá acerca de estos datos hasta que <a href=../amp/#alter_attach-partition>ATTACH</a> consulta.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span>
</code></pre></div> <p>Lea cómo configurar la expresión de partición en una sección <a href=../amp/#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>Después de ejecutar la consulta, puede hacer lo que quiera con los datos en el <code class=syntax>detached</code> directory — delete it from the file system, or just leave it.</p> <p>This query is replicated – it moves the data to the <code class=syntax>detached</code> directorio en todas las réplicas. Tenga en cuenta que solo puede ejecutar esta consulta en una réplica de líder. Para averiguar si una réplica es un líder, realice <code class=syntax>SELECT</code> consulta a la <a href=../../../../operations/system-tables/amp/#system_tables-replicas>sistema.Replica</a> tabla. Alternativamente, es más fácil hacer un <code class=syntax>DETACH</code> consulta en todas las réplicas: todas las réplicas producen una excepción, excepto la réplica líder.</p> <h4 id=alter_drop-partition>DROP PARTITION<a class=headerlink href=../amp/#alter_drop-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Elimina la partición especificada de la tabla. Esta consulta etiqueta la partición como inactiva y elimina los datos por completo, aproximadamente en 10 minutos.</p> <p>Lea cómo configurar la expresión de partición en una sección <a href=../amp/#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>The query is replicated – it deletes data on all replicas.</p> <h4 id=alter_drop-detached>DROP DETACHED PARTITION|PART<a class=headerlink href=../amp/#alter_drop-detached title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>DETACHED</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Quita la parte especificada o todas las partes de la partición especificada de <code class=syntax>detached</code>.<br> Más información sobre cómo establecer la expresión de partición en una sección <a href=../amp/#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <h4 id=alter_attach-partition>ATTACH PARTITION|PART<a class=headerlink href=../amp/#alter_attach-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Agrega datos a la tabla desde el <code class=syntax>detached</code> directorio. Es posible agregar datos para una partición completa o para una parte separada. Ejemplos:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PART</span> <span class=mi>201901</span><span class=n>_2_2_0</span><span class=p>;</span>
</code></pre></div> <p>Más información sobre cómo establecer la expresión de partición en una sección <a href=../amp/#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>Esta consulta se replica. El iniciador de réplica comprueba si hay datos en el <code class=syntax>detached</code> directorio. Si existen datos, la consulta comprueba su integridad. Si todo es correcto, la consulta agrega los datos a la tabla. Todas las demás réplicas descargan los datos del iniciador de réplica.</p> <p>Entonces puedes poner datos en el <code class=syntax>detached</code> en una réplica, y utilice el directorio <code class=syntax>ALTER ... ATTACH</code> consulta para agregarlo a la tabla en todas las réplicas.</p> <h4 id=alter_attach-partition-from>ATTACH PARTITION FROM<a class=headerlink href=../amp/#alter_attach-partition-from title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>Esta consulta copia la partición de datos <code class=syntax>table1</code> a <code class=syntax>table2</code> añade datos a los que existen en el <code class=syntax>table2</code>. Tenga en cuenta que los datos no se eliminarán de <code class=syntax>table1</code>.</p> <p>Para que la consulta se ejecute correctamente, se deben cumplir las siguientes condiciones:</p> <ul> <li>Ambas tablas deben tener la misma estructura.</li> <li>Ambas tablas deben tener la misma clave de partición.</li> </ul> <h4 id=alter_replace-partition>REPLACE PARTITION<a class=headerlink href=../amp/#alter_replace-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=k>REPLACE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>Esta consulta copia la partición de datos <code class=syntax>table1</code> a <code class=syntax>table2</code> y reemplaza la partición existente en el <code class=syntax>table2</code>. Tenga en cuenta que los datos no se eliminarán de <code class=syntax>table1</code>.</p> <p>Para que la consulta se ejecute correctamente, se deben cumplir las siguientes condiciones:</p> <ul> <li>Ambas tablas deben tener la misma estructura.</li> <li>Ambas tablas deben tener la misma clave de partición.</li> </ul> <h4 id=alter_move_to_table-partition>MOVE PARTITION TO TABLE<a class=headerlink href=../amp/#alter_move_to_table-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table_source</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=k>TABLE</span> <span class=n>table_dest</span>
</code></pre></div> <p>Esta consulta mueve la partición de datos <code class=syntax>table_source</code> a <code class=syntax>table_dest</code> con la eliminación de los datos de <code class=syntax>table_source</code>.</p> <p>Para que la consulta se ejecute correctamente, se deben cumplir las siguientes condiciones:</p> <ul> <li>Ambas tablas deben tener la misma estructura.</li> <li>Ambas tablas deben tener la misma clave de partición.</li> <li>Ambas tablas deben ser de la misma familia de motores. (replicado o no replicado)</li> <li>Ambas tablas deben tener la misma política de almacenamiento.</li> </ul> <h4 id=alter_clear-column-partition>CLEAR COLUMN IN PARTITION<a class=headerlink href=../amp/#alter_clear-column-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=k>column_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Restablece todos los valores de la columna especificada en una partición. Si el <code class=syntax>DEFAULT</code> cláusula se determinó al crear una tabla, esta consulta establece el valor de columna en un valor predeterminado especificado.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>hour</span> <span class=k>in</span> <span class=n>PARTITION</span> <span class=mi>201902</span>
</code></pre></div> <h4 id=alter_freeze-partition>FREEZE PARTITION<a class=headerlink href=../amp/#alter_freeze-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FREEZE</span> <span class=p>[</span><span class=n>PARTITION</span> <span class=n>partition_expr</span><span class=p>]</span>
</code></pre></div> <p>Esta consulta crea una copia de seguridad local de una partición especificada. Si el <code class=syntax>PARTITION</code> se omite la cláusula, la consulta crea la copia de seguridad de todas las particiones a la vez.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Nota</p> <p>Todo el proceso de copia de seguridad se realiza sin detener el servidor.</p> </div> <p>Tenga en cuenta que para las tablas de estilo antiguo puede especificar el prefijo del nombre de la partición (por ejemplo, ‘2019’) - entonces la consulta crea la copia de seguridad para todas las particiones correspondientes. Lea cómo configurar la expresión de partición en una sección <a href=../amp/#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>En el momento de la ejecución, para una instantánea de datos, la consulta crea vínculos rígidos a los datos de una tabla. Los enlaces duros se colocan en el directorio <code class=syntax>/var/lib/clickhouse/shadow/N/...</code>, donde:</p> <ul> <li><code class=syntax>/var/lib/clickhouse/</code> es el directorio ClickHouse de trabajo especificado en la configuración.</li> <li><code class=syntax>N</code> es el número incremental de la copia de seguridad.</li> </ul> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Nota</p> <p>Si usted usa <a class=alert-link href=../../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-multiple-volumes>un conjunto de discos para el almacenamiento de datos en una tabla</a>, el <code class=syntax>shadow/N</code> directorio aparece en cada disco, almacenando partes de datos que coinciden con el <code class=syntax>PARTITION</code> expresion.</p> </div> <p>La misma estructura de directorios se crea dentro de la copia de seguridad que dentro <code class=syntax>/var/lib/clickhouse/</code>. La consulta realiza ‘chmod’ para todos los archivos, prohibiendo escribir en ellos.</p> <p>Después de crear la copia de seguridad, puede copiar los datos desde <code class=syntax>/var/lib/clickhouse/shadow/</code> al servidor remoto y, a continuación, elimínelo del servidor local. Tenga en cuenta que el <code class=syntax>ALTER t FREEZE PARTITION</code> consulta no se replica. Crea una copia de seguridad local solo en el servidor local.</p> <p>La consulta crea una copia de seguridad casi instantáneamente (pero primero espera a que las consultas actuales a la tabla correspondiente terminen de ejecutarse).</p> <p><code class=syntax>ALTER TABLE t FREEZE PARTITION</code> copia solo los datos, no los metadatos de la tabla. Para hacer una copia de seguridad de los metadatos de la tabla, copie el archivo <code class=syntax>/var/lib/clickhouse/metadata/database/table.sql</code></p> <p>Para restaurar los datos de una copia de seguridad, haga lo siguiente:</p> <ol> <li>Cree la tabla si no existe. Para ver la consulta, utilice el .archivo sql (reemplazar <code class=syntax>ATTACH</code> en ella con <code class=syntax>CREATE</code>).</li> <li>Copie los datos de la <code class=syntax>data/database/table/</code> directorio dentro de la copia de seguridad a la <code class=syntax>/var/lib/clickhouse/data/database/table/detached/</code> directorio.</li> <li>Ejecutar <code class=syntax>ALTER TABLE t ATTACH PARTITION</code> consultas para agregar los datos a una tabla.</li> </ol> <p>La restauración desde una copia de seguridad no requiere detener el servidor.</p> <p>Para obtener más información sobre las copias de seguridad y la restauración de datos, consulte <a href=../../../../operations/backup/amp/ >Copia de seguridad de datos</a> apartado.</p> <h4 id=alter_clear-index-partition>CLEAR INDEX IN PARTITION<a class=headerlink href=../amp/#alter_clear-index-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>INDEX</span> <span class=n>index_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>La consulta funciona de forma similar a <code class=syntax>CLEAR COLUMN</code>, pero restablece un índice en lugar de una columna de datos.</p> <h4 id=alter_fetch-partition>FETCH PARTITION<a class=headerlink href=../amp/#alter_fetch-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=s1>'path-in-zookeeper'</span>
</code></pre></div> <p>Descarga una partición desde otro servidor. Esta consulta solo funciona para las tablas replicadas.</p> <p>La consulta hace lo siguiente:</p> <ol> <li>Descarga la partición del fragmento especificado. En ‘path-in-zookeeper’ debe especificar una ruta al fragmento en ZooKeeper.</li> <li>Luego, la consulta coloca los datos descargados en el <code class=syntax>detached</code> directorio de la <code class=syntax>table_name</code> tabla. Utilice el <a href=../amp/#alter_attach-partition>ATTACH PARTITION|PART</a> consulta para agregar los datos a la tabla.</li> </ol> <p>Por ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=mi>201902</span> <span class=k>FROM</span> <span class=s1>'/clickhouse/tables/01-01/visits'</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201902</span><span class=p>;</span>
</code></pre></div> <p>Tenga en cuenta que:</p> <ul> <li>El <code class=syntax>ALTER ... FETCH PARTITION</code> consulta no se replica. Coloca la partición en el <code class=syntax>detached</code> sólo en el servidor local.</li> <li>El <code class=syntax>ALTER TABLE ... ATTACH</code> consulta se replica. Agrega los datos a todas las réplicas. Los datos se agregan a una de las réplicas desde el <code class=syntax>detached</code> directorio, y para los demás - de réplicas vecinas.</li> </ul> <p>Antes de descargar, el sistema verifica si la partición existe y la estructura de la tabla coincide. La réplica más adecuada se selecciona automáticamente de las réplicas en buen estado.</p> <p>Aunque se llama a la consulta <code class=syntax>ALTER TABLE</code>, no cambia la estructura de la tabla y no cambiar inmediatamente los datos disponibles en la tabla.</p> <h4 id=alter_move-partition>MOVE PARTITION|PART<a class=headerlink href=../amp/#alter_move-partition title="Permanent link"> </a></h4> <p>Mueve particiones o partes de datos a otro volumen o disco para <code class=syntax>MergeTree</code>-mesas de motor. Ver <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/#table_engine-mergetree-multiple-volumes>Uso de varios dispositivos de bloque para el almacenamiento de datos</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>MOVE</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=n>DISK</span><span class=o>|</span><span class=n>VOLUME</span> <span class=s1>'disk_name'</span>
</code></pre></div> <p>El <code class=syntax>ALTER TABLE t MOVE</code> consulta:</p> <ul> <li>No replicado, porque diferentes réplicas pueden tener diferentes directivas de almacenamiento.</li> <li>Devuelve un error si el disco o volumen especificado no está configurado. La consulta también devuelve un error si no se pueden aplicar las condiciones de movimiento de datos especificadas en la directiva de almacenamiento.</li> <li>Puede devolver un error en el caso, cuando los datos que se moverán ya se mueven por un proceso en segundo plano, concurrente <code class=syntax>ALTER TABLE t MOVE</code> consulta o como resultado de la fusión de datos de fondo. Un usuario no debe realizar ninguna acción adicional en este caso.</li> </ul> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PART</span> <span class=s1>'20190301_14343_16206_438'</span> <span class=k>TO</span> <span class=n>VOLUME</span> <span class=s1>'slow'</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=s1>'2019-09-01'</span> <span class=k>TO</span> <span class=n>DISK</span> <span class=s1>'fast_ssd'</span>
</code></pre></div> <h4 id=alter-how-to-specify-part-expr>Cómo establecer la expresión de partición<a class=headerlink href=../amp/#alter-how-to-specify-part-expr title="Permanent link"> </a></h4> <p>Puede especificar la expresión de partición en <code class=syntax>ALTER ... PARTITION</code> de diferentes maneras:</p> <ul> <li>Como valor de la <code class=syntax>partition</code> columna de la <code class=syntax>system.parts</code> tabla. Por ejemplo, <code class=syntax>ALTER TABLE visits DETACH PARTITION 201901</code>.</li> <li>Como la expresión de la columna de la tabla. Se admiten constantes y expresiones constantes. Por ejemplo, <code class=syntax>ALTER TABLE visits DETACH PARTITION toYYYYMM(toDate('2019-01-25'))</code>.</li> <li>Usando el ID de partición. El ID de partición es un identificador de cadena de la partición (legible por humanos, si es posible) que se usa como nombres de particiones en el sistema de archivos y en ZooKeeper. El ID de partición debe especificarse en el <code class=syntax>PARTITION ID</code> cláusula, entre comillas simples. Por ejemplo, <code class=syntax>ALTER TABLE visits DETACH PARTITION ID '201901'</code>.</li> <li>En el <a href=../amp/#alter_attach-partition>ALTER ATTACH PART</a> y <a href=../amp/#alter_drop-detached>DROP DETACHED PART</a> consulta, para especificar el nombre de una parte, utilice un literal de cadena con un valor <code class=syntax>name</code> columna de la <a href=../../../../operations/system-tables/amp/#system_tables-detached_parts>sistema.detached_parts</a> tabla. Por ejemplo, <code class=syntax>ALTER TABLE visits ATTACH PART '201901_1_1_0'</code>.</li> </ul> <p>El uso de comillas al especificar la partición depende del tipo de expresión de partición. Por ejemplo, para el <code class=syntax>String</code> tipo, debe especificar su nombre entre comillas (<code class=syntax>'</code>). Para el <code class=syntax>Date</code> y <code class=syntax>Int*</code> tipos no se necesitan comillas.</p> <p>Para las tablas de estilo antiguo, puede especificar la partición como un número <code class=syntax>201901</code> o una cadena <code class=syntax>'201901'</code>. La sintaxis para las tablas de nuevo estilo es más estricta con los tipos (similar al analizador para el formato de entrada VALUES).</p> <p>Todas las reglas anteriores también son ciertas para el <a href=../../misc/amp/#misc_operations-optimize>OPTIMIZE</a> consulta. Si necesita especificar la única partición al optimizar una tabla no particionada, establezca la expresión <code class=syntax>PARTITION tuple()</code>. Por ejemplo:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>OPTIMIZE</span> <span class=k>TABLE</span> <span class=n>table_not_partitioned</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span> <span class=k>FINAL</span><span class=p>;</span>
</code></pre></div> <p>Los ejemplos de <code class=syntax>ALTER ... PARTITION</code> las consultas se demuestran en las pruebas <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_local.sql rel="external nofollow noreferrer" target=_blank><code class=syntax>00502_custom_partitioning_local</code></a> y <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_replicated_zookeeper.sql rel="external nofollow noreferrer" target=_blank><code class=syntax>00502_custom_partitioning_replicated_zookeeper</code></a>.</p> <h3 id=manipulations-with-table-ttl>Manipulaciones con Tabla TTL<a class=headerlink href=../amp/#manipulations-with-table-ttl title="Permanent link"> </a></h3> <p>Usted puede cambiar <a href=../../../../engines/table-engines/mergetree-family/mergetree/amp/#mergetree-table-ttl>tabla TTL</a> con una solicitud del siguiente formulario:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table</span><span class=o>-</span><span class=n>name</span> <span class=k>MODIFY</span> <span class=n>TTL</span> <span class=n>ttl</span><span class=o>-</span><span class=n>expression</span>
</code></pre></div> <h3 id=synchronicity-of-alter-queries>Sincronicidad de las consultas ALTER<a class=headerlink href=../amp/#synchronicity-of-alter-queries title="Permanent link"> </a></h3> <p>Para tablas no replicables, todas <code class=syntax>ALTER</code> las consultas se realizan de forma sincrónica. Para las tablas replicables, la consulta solo agrega instrucciones para las acciones apropiadas para <code class=syntax>ZooKeeper</code>, y las acciones mismas se realizan tan pronto como sea posible. Sin embargo, la consulta puede esperar a que estas acciones se completen en todas las réplicas.</p> <p>Para <code class=syntax>ALTER ... ATTACH|DETACH|DROP</code> consultas, puede utilizar el <code class=syntax>replication_alter_partitions_sync</code> configuración para configurar la espera.<br> Valores posibles: <code class=syntax>0</code> – do not wait; <code class=syntax>1</code> – only wait for own execution (default); <code class=syntax>2</code> – wait for all.</p> <h3 id=alter-mutations>Mutación<a class=headerlink href=../amp/#alter-mutations title="Permanent link"> </a></h3> <p>Las mutaciones son una variante de consulta ALTER que permite cambiar o eliminar filas en una tabla. En contraste con el estándar <code class=syntax>UPDATE</code> y <code class=syntax>DELETE</code> consultas destinadas a cambios de datos puntuales, las mutaciones están destinadas a operaciones pesadas que cambian muchas filas en una tabla. Apoyado para el <code class=syntax>MergeTree</code> familia de motores de mesa, incluidos los motores con soporte de replicación.</p> <p>Las tablas existentes están listas para las mutaciones tal como están (no es necesaria la conversión), pero después de que la primera mutación se aplica a una tabla, su formato de metadatos se vuelve incompatible con las versiones anteriores del servidor y volver a una versión anterior se vuelve imposible.</p> <p>Comandos disponibles actualmente:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>DELETE</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>El <code class=syntax>filter_expr</code> debe ser de tipo <code class=syntax>UInt8</code>. La consulta elimina las filas de la tabla para la que esta expresión toma un valor distinto de cero.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>UPDATE</span> <span class=n>column1</span> <span class=o>=</span> <span class=n>expr1</span> <span class=p>[,</span> <span class=p>...]</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>El <code class=syntax>filter_expr</code> debe ser de tipo <code class=syntax>UInt8</code>. Esta consulta actualiza los valores de las columnas especificadas a los valores de las expresiones correspondientes <code class=syntax>filter_expr</code> toma un valor distinto de cero. Los valores se convierten al tipo de columna utilizando el <code class=syntax>CAST</code> operador. No se admite la actualización de columnas que se utilizan en el cálculo de la clave principal o de partición.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=n>MATERIALIZE</span> <span class=k>INDEX</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>La consulta reconstruye el índice secundario <code class=syntax>name</code> en la partición <code class=syntax>partition_name</code>.</p> <p>Una consulta puede contener varios comandos separados por comas.</p> <p>Para las tablas *MergeTree, las mutaciones se ejecutan reescribiendo partes de datos completas. No hay atomicidad - las partes se sustituyen por partes mutadas tan pronto como están listas y una <code class=syntax>SELECT</code> La consulta que comenzó a ejecutarse durante una mutación verá datos de partes que ya han sido mutadas junto con datos de partes que aún no han sido mutadas.</p> <p>Las mutaciones están totalmente ordenadas por su orden de creación y se aplican a cada parte en ese orden. Las mutaciones también se ordenan parcialmente con INSERTs: los datos que se insertaron en la tabla antes de que se enviara la mutación se mutarán y los datos que se insertaron después de eso no se mutarán. Tenga en cuenta que las mutaciones no bloquean INSERTs de ninguna manera.</p> <p>Una consulta de mutación regresa inmediatamente después de agregar la entrada de mutación (en el caso de tablas replicadas a ZooKeeper, para tablas no replicadas, al sistema de archivos). La mutación en sí se ejecuta de forma asíncrona utilizando la configuración del perfil del sistema. Para realizar un seguimiento del progreso de las mutaciones, puede usar el <a href=../../../../operations/system-tables/amp/#system_tables-mutations><code class=syntax>system.mutations</code></a> tabla. Una mutación que se envió correctamente continuará ejecutándose incluso si se reinician los servidores ClickHouse. No hay forma de revertir la mutación una vez que se presenta, pero si la mutación está atascada por alguna razón, puede cancelarse con el <a href=../../misc/amp/#kill-mutation><code class=syntax>KILL MUTATION</code></a> consulta.</p> <p>Las entradas de mutaciones terminadas no se eliminan de inmediato (el número de entradas conservadas viene determinado por el <code class=syntax>finished_mutations_to_keep</code> parámetro del motor de almacenamiento). Las entradas de mutación más antiguas se eliminan.</p> <h2 id=alter-user-statement>ALTER USER<a class=headerlink href=../amp/#alter-user-statement title="Permanent link"> </a></h2> <p>Cambia las cuentas de usuario de ClickHouse.</p> <h3 id=alter-user-syntax>Sintaxis<a class=headerlink href=../amp/#alter-user-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>IDENTIFIED</span> <span class=p>[</span><span class=k>WITH</span> <span class=err>{</span><span class=n>PLAINTEXT_PASSWORD</span><span class=o>|</span><span class=n>SHA256_PASSWORD</span><span class=o>|</span><span class=n>DOUBLE_SHA1_PASSWORD</span><span class=err>}</span><span class=p>]</span> <span class=k>BY</span> <span class=err>{</span><span class=s1>'password'</span><span class=o>|</span><span class=s1>'hash'</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[[</span><span class=k>ADD</span><span class=o>|</span><span class=k>DROP</span><span class=p>]</span> <span class=k>HOST</span> <span class=err>{</span><span class=k>LOCAL</span> <span class=o>|</span> <span class=n>NAME</span> <span class=s1>'name'</span> <span class=o>|</span> <span class=n>REGEXP</span> <span class=s1>'name_regexp'</span> <span class=o>|</span> <span class=n>IP</span> <span class=s1>'address'</span> <span class=o>|</span> <span class=k>LIKE</span> <span class=s1>'pattern'</span><span class=err>}</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ANY</span> <span class=o>|</span> <span class=k>NONE</span><span class=p>]</span>
    <span class=p>[</span><span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span> <span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>PROFILE</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h3 id=alter-user-dscr>Descripci<a class=headerlink href=../amp/#alter-user-dscr title="Permanent link"> </a></h3> <p>Utilizar <code class=syntax>ALTER USER</code> debe tener el <a href=../../grant/amp/#grant-access-management>ALTER USER</a> privilegio.</p> <h3 id=alter-user-examples>Ejemplos<a class=headerlink href=../amp/#alter-user-examples title="Permanent link"> </a></h3> <p>Establecer roles concedidos como predeterminados:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span>
</code></pre></div> <p>Si los roles no se otorgan previamente a un usuario, ClickHouse produce una excepción.</p> <p>Establezca todas las funciones concedidas como predeterminadas:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span>
</code></pre></div> <p>Si se otorga un rol a un usuario en el futuro, se convertirá en predeterminado automáticamente.</p> <p>Establezca todas las funciones otorgadas a excepción predeterminada <code class=syntax>role1</code> y <code class=syntax>role2</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span>
</code></pre></div> <h2 id=alter-role-statement>ALTER ROLE<a class=headerlink href=../amp/#alter-role-statement title="Permanent link"> </a></h2> <p>Cambia los roles.</p> <h3 id=alter-role-syntax>Sintaxis<a class=headerlink href=../amp/#alter-role-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>ROLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>PROFILE</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h2 id=alter-row-policy-statement>ALTER ROW POLICY<a class=headerlink href=../amp/#alter-row-policy-statement title="Permanent link"> </a></h2> <p>Cambia la política de fila.</p> <h3 id=alter-row-policy-syntax>Sintaxis<a class=headerlink href=../amp/#alter-row-policy-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=p>[</span><span class=k>ROW</span><span class=p>]</span> <span class=n>POLICY</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span> <span class=k>ON</span> <span class=p>[</span><span class=k>database</span><span class=p>.]</span><span class=k>table</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>AS</span> <span class=err>{</span><span class=n>PERMISSIVE</span> <span class=o>|</span> <span class=n>RESTRICTIVE</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>FOR</span> <span class=k>SELECT</span><span class=p>]</span>
    <span class=p>[</span><span class=k>USING</span> <span class=err>{</span><span class=n>condition</span> <span class=o>|</span> <span class=k>NONE</span><span class=err>}</span><span class=p>][,...]</span>
    <span class=p>[</span><span class=k>TO</span> <span class=err>{</span><span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span><span class=p>]</span>
</code></pre></div> <h2 id=alter-quota-statement>ALTER QUOTA<a class=headerlink href=../amp/#alter-quota-statement title="Permanent link"> </a></h2> <p>Cambia las cuotas.</p> <h3 id=alter-quota-syntax>Sintaxis<a class=headerlink href=../amp/#alter-quota-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=n>QUOTA</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>KEYED</span> <span class=k>BY</span> <span class=err>{</span><span class=s1>'none'</span> <span class=o>|</span> <span class=s1>'user name'</span> <span class=o>|</span> <span class=s1>'ip address'</span> <span class=o>|</span> <span class=s1>'client key'</span> <span class=o>|</span> <span class=s1>'client key or user name'</span> <span class=o>|</span> <span class=s1>'client key or ip address'</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>FOR</span> <span class=p>[</span><span class=n>RANDOMIZED</span><span class=p>]</span> <span class=nb>INTERVAL</span> <span class=nb>number</span> <span class=err>{</span><span class=k>SECOND</span> <span class=o>|</span> <span class=k>MINUTE</span> <span class=o>|</span> <span class=n>HOUR</span> <span class=o>|</span> <span class=k>DAY</span> <span class=o>|</span> <span class=n>WEEK</span> <span class=o>|</span> <span class=k>MONTH</span> <span class=o>|</span> <span class=n>QUARTER</span> <span class=o>|</span> <span class=k>YEAR</span><span class=err>}</span>
        <span class=err>{</span><span class=k>MAX</span> <span class=err>{</span> <span class=err>{</span><span class=n>QUERIES</span> <span class=o>|</span> <span class=n>ERRORS</span> <span class=o>|</span> <span class=k>RESULT</span> <span class=k>ROWS</span> <span class=o>|</span> <span class=k>RESULT</span> <span class=n>BYTES</span> <span class=o>|</span> <span class=k>READ</span> <span class=k>ROWS</span> <span class=o>|</span> <span class=k>READ</span> <span class=n>BYTES</span> <span class=o>|</span> <span class=n>EXECUTION</span> <span class=n>TIME</span><span class=err>}</span> <span class=o>=</span> <span class=nb>number</span> <span class=err>}</span> <span class=p>[,...]</span> <span class=o>|</span>
        <span class=k>NO</span> <span class=n>LIMITS</span> <span class=o>|</span> <span class=n>TRACKING</span> <span class=k>ONLY</span><span class=err>}</span> <span class=p>[,...]]</span>
    <span class=p>[</span><span class=k>TO</span> <span class=err>{</span><span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span><span class=p>]</span>
</code></pre></div> <h2 id=alter-settings-profile-statement>ALTER SETTINGS PROFILE<a class=headerlink href=../amp/#alter-settings-profile-statement title="Permanent link"> </a></h2> <p>Cambia las cuotas.</p> <h3 id=alter-settings-profile-syntax>Sintaxis<a class=headerlink href=../amp/#alter-settings-profile-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=n>SETTINGS</span> <span class=n>PROFILE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>INHERIT</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <p><a href=https://clickhouse.tech/docs/en/query_language/alter/ target=_blank>Artículo Original</a> <!--hide--></p> </div> </div> <div class=row> <div class=col> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Article Rating</span> <div id=rating-stars class="display-6 mb-0">RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> </div> <div id=to-full-website class="row fixed-bottom text-center bg-white py-3"> <div class=col> <a href=https://clickhouse.tech/docs/es/sql-reference/statements/alter/ class="btn btn-lg btn-outline-orange">To full website</a> </div> </div> </div> <amp-analytics type=metrika> <script type=application/json>{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script> </amp-analytics> </body> </html> 