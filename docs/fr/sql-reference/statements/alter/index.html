<!DOCTYPE html><html lang=fr data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>ALTER | Documentation ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/images/logo-180x180.png><meta property=og:title content="ALTER | Documentation ClickHouse"><meta property=og:description content="ALTER Le ALTER la requête est prise en charge uniquement pour *MergeTree des tables, ainsi que MergeetDistributed. La re"><meta property=og:type content=article><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta content=https://clickhouse.tech/docs/fr/sql-reference/statements/alter/ property=og:url><link href=https://clickhouse.tech/docs/fr/sql-reference/statements/alter/ rel=canonical><link href=https://clickhouse.tech/docs/fr/sql-reference/statements/alter/amp/ rel=amphtml><link rel=search href=/opensearch.xml title=ClickHouse type=application/opensearchdescription+xml><script type=application/ld+json>[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "ALTER | Documentation ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fr/sql-reference/statements/alter/",




"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "ALTER | Documentation ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script><meta name=description content="ALTER Le ALTER la requête est prise en charge uniquement pour *MergeTree des tables, ainsi que MergeetDistributed. La re"><meta name=keywords content="ClickHouse, DBMS, OLAP, SQL, open-source, relational, analytics, analytical, Big Data, web-analytics"><link rel=alternate href=https://clickhouse.tech/docs/en/sql-reference/statements/alter/ hreflang=en><link rel=alternate href=https://clickhouse.tech/docs/zh/sql-reference/statements/alter/ hreflang=zh><link rel=alternate href=https://clickhouse.tech/docs/es/sql-reference/statements/alter/ hreflang=es><link rel=alternate href=https://clickhouse.tech/docs/fr/sql-reference/statements/alter/ hreflang=fr><link rel=alternate href=https://clickhouse.tech/docs/ru/sql-reference/statements/alter/ hreflang=ru><link rel=alternate href=https://clickhouse.tech/docs/ja/sql-reference/statements/alter/ hreflang=ja><link rel=alternate href=https://clickhouse.tech/docs/en/sql-reference/statements/alter/ hreflang=x-default><link href=/css/base.css?e27f3458 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> ALTER </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li id=edit-wrapper class=nav-item> <a id=edit-link href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/sql-reference/statements/alter.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/fr.svg alt=Français title=Français width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql-reference/statements/alter/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql-reference/statements/alter/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql-reference/statements/alter/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql-reference/statements/alter/ class="dropdown-item disabled"> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql-reference/statements/alter/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql-reference/statements/alter/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../introduction/distinctive-features/ title=particularité class="nav-link text-light text-wrap d-inline-block w-100 px-0">particularité</a> <a href=../../../introduction/performance/ title=Performance class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a> <a href=../../../introduction/history/ title=Histoire class="nav-link text-light text-wrap d-inline-block w-100 px-0">Histoire</a> <a href=../../../introduction/adopters/ title=Adoptant class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adoptant</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Prise En Main" class="nav-link text-light dropdown-toggle px-0">Prise En Main</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting-started/install/ title=Installation class="nav-link text-light text-wrap d-inline-block w-100 px-0">Installation</a> <a href=#sidebar-sidebar-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3 title="Exemple De Jeux De Données" class="nav-link text-light dropdown-toggle px-0">Exemple De Jeux De Données</a> <div id=sidebar-sidebar-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting-started/example-datasets/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../getting-started/example-datasets/metrica/ title="Yandex.Metrica De Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica De Données</a> <a href=../../../getting-started/example-datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../../getting-started/example-datasets/nyc-taxi/ title="New York Taxi Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">New York Taxi Données</a> <a href=../../../getting-started/example-datasets/amplab-benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../../getting-started/example-datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../../getting-started/example-datasets/criteo/ title="Téraoctet click Logs de Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Téraoctet click Logs de Criteo</a> <a href=../../../getting-started/example-datasets/star-schema/ title="Référence Du Schéma En Étoile" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Référence Du Schéma En Étoile</a> </nav> </div> <a href=../../../getting-started/tutorial/ title=Tutoriel class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutoriel</a> <a href=../../../getting-started/playground/ title=Récréation class="nav-link text-light text-wrap d-inline-block w-100 px-0">Récréation</a> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Interface class="nav-link text-light dropdown-toggle px-0">Interface</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../interfaces/cli/ title="Client De Ligne De Commande" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Client De Ligne De Commande</a> <a href=../../../interfaces/tcp/ title="Interface Native (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface Native (TCP)</a> <a href=../../../interfaces/http/ title="Interface HTTP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface HTTP</a> <a href=../../../interfaces/mysql/ title="Interface MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface MySQL</a> <a href=../../../interfaces/formats/ title="Formats d'entrée et de sortie" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Formats d'entrée et de sortie</a> <a href=../../../interfaces/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../interfaces/odbc/ title="Pilote ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pilote ODBC</a> <a href=../../../interfaces/cpp/ title="Bibliothèque Client C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliothèque Client C++</a> <a href=#sidebar-sidebar-3-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-10 title=tiers class="nav-link text-light dropdown-toggle px-0">tiers</a> <div id=sidebar-sidebar-3-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/client-libraries/ title="Bibliothèques Clientes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliothèques Clientes</a> <a href=../../../interfaces/third-party/integrations/ title=Intégration class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intégration</a> <a href=../../../interfaces/third-party/gui/ title="Les Interfaces Visuelles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Interfaces Visuelles</a> <a href=../../../interfaces/third-party/proxy/ title=Proxy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Moteur class="nav-link text-light dropdown-toggle px-0">Moteur</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title="Moteurs De Table" class="nav-link text-light dropdown-toggle px-0">Moteurs De Table</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-4-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-2 title="Famille MergeTree" class="nav-link text-light dropdown-toggle px-0">Famille MergeTree</a> <div id=sidebar-sidebar-4-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/mergetree-family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../../engines/table-engines/mergetree-family/replication/ title="Réplication Des Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Réplication Des Données</a> <a href=../../../engines/table-engines/mergetree-family/custom-partitioning-key/ title="Clé De Partitionnement Personnalisée" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clé De Partitionnement Personnalisée</a> <a href=../../../engines/table-engines/mergetree-family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table-engines/mergetree-family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-4-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-3 title=Intégration class="nav-link text-light dropdown-toggle px-0">Intégration</a> <div id=sidebar-sidebar-4-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table-engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table-engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table-engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table-engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-4-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-4 title=Spécial class="nav-link text-light dropdown-toggle px-0">Spécial</a> <div id=sidebar-sidebar-4-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/special/distributed/ title=Distribué class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distribué</a> <a href=../../../engines/table-engines/special/external-data/ title="De données externes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">De données externes</a> <a href=../../../engines/table-engines/special/dictionary/ title=Dictionnaire class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionnaire</a> <a href=../../../engines/table-engines/special/merge/ title=Fusionner class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fusionner</a> <a href=../../../engines/table-engines/special/file/ title=Fichier class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fichier</a> <a href=../../../engines/table-engines/special/null/ title=NULL class="nav-link text-light text-wrap d-inline-block w-100 px-0">NULL</a> <a href=../../../engines/table-engines/special/set/ title=Définir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Définir</a> <a href=../../../engines/table-engines/special/join/ title=Rejoindre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rejoindre</a> <a href=../../../engines/table-engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table-engines/special/view/ title=Vue class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vue</a> <a href=../../../engines/table-engines/special/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../../engines/table-engines/special/memory/ title=Mémoire class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mémoire</a> <a href=../../../engines/table-engines/special/buffer/ title=Tampon class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tampon</a> <a href=../../../engines/table-engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> <a href=#sidebar-sidebar-4-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-5 title="Journal De La Famille" class="nav-link text-light dropdown-toggle px-0">Journal De La Famille</a> <div id=sidebar-sidebar-4-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table-engines/log-family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table-engines/log-family/log/ title=Journal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Journal</a> <a href=../../../engines/table-engines/log-family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> <a href=../../../engines/table-engines/log-family/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-3 title="Moteurs De Base De Données" class="nav-link text-light dropdown-toggle px-0">Moteurs De Base De Données</a> <div id=sidebar-sidebar-4-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database-engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../engines/database-engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database-engines/lazy/ title=Paresseux class="nav-link text-light text-wrap d-inline-block w-100 px-0">Paresseux</a> <a href=../../../engines/database-engines/atomic/ title=Atomic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Atomic</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Référence SQL" class="nav-link text-light dropdown-toggle px-0">Référence SQL</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title=Déclaration class="nav-link text-light dropdown-toggle px-0">Déclaration</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title=SELECT class="nav-link text-light dropdown-toggle px-0">SELECT</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../sql-reference/statements/select/with/ title="AVEC la Clause" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AVEC la Clause</a> <a href=../../../sql-reference/statements/select/group-by/ title="Clause GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause GROUP BY</a> <a href=../../../sql-reference/statements/select/having/ title="Clause HAVING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause HAVING</a> <a href=../../../sql-reference/statements/select/limit/ title="Clause LIMIT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause LIMIT</a> <a href=../../../sql-reference/statements/select/order-by/ title="Clause ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause ORDER BY</a> <a href=../../../sql-reference/statements/select/prewhere/ title="Clause PREWHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause PREWHERE</a> <a href=../../../sql-reference/statements/select/union/ title="Clause UNION ALL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause UNION ALL</a> <a href=../../../sql-reference/statements/select/join/ title="Clause de JOINTURE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause de JOINTURE</a> <a href=../../../sql-reference/statements/select/array-join/ title="Clause de jointure de tableau" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause de jointure de tableau</a> <a href=../../../sql-reference/statements/select/where/ title="Clause where" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clause where</a> <a href=../../../sql-reference/statements/select/into-outfile/ title="Dans OUTFILE Clause" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dans OUTFILE Clause</a> <a href=../../../sql-reference/statements/select/from/ title="De la Clause" class="nav-link text-light text-wrap d-inline-block w-100 px-0">De la Clause</a> <a href=../../../sql-reference/statements/select/sample/ title="Exemple de Clause" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Exemple de Clause</a> <a href=../../../sql-reference/statements/select/format/ title="FORMAT de la Clause" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT de la Clause</a> <a href=../../../sql-reference/statements/select/distinct/ title="La Clause DISTINCT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Clause DISTINCT</a> <a href=../../../sql-reference/statements/select/limit-by/ title="Limite par Clause" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Limite par Clause</a> </nav> </div> <a href=../../../sql-reference/statements/insert-into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql-reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql-reference/statements/alter/ title=ALTER class="nav-link text-white active text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql-reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql-reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql-reference/statements/grant/ title=GRANT class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a> <a href=../../../sql-reference/statements/revoke/ title=REVOKE class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a> <a href=../../../sql-reference/statements/misc/ title=Autre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Autre</a> </nav> </div> <a href=../../../sql-reference/syntax/ title=Syntaxe class="nav-link text-light text-wrap d-inline-block w-100 px-0">Syntaxe</a> <a href=#sidebar-sidebar-5-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-4 title=Fonction class="nav-link text-light dropdown-toggle px-0">Fonction</a> <div id=sidebar-sidebar-5-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql-reference/functions/arithmetic-functions/ title=Arithmétique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arithmétique</a> <a href=../../../sql-reference/functions/comparison-functions/ title=Comparaison class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparaison</a> <a href=../../../sql-reference/functions/logical-functions/ title=Logique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Logique</a> <a href=../../../sql-reference/functions/type-conversion-functions/ title="La Conversion De Type" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Conversion De Type</a> <a href=../../../sql-reference/functions/date-time-functions/ title="Travailler avec les Dates et les heures" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec les Dates et les heures</a> <a href=../../../sql-reference/functions/string-functions/ title="Travailler avec des chaînes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des chaînes</a> <a href=../../../sql-reference/functions/string-search-functions/ title="Pour Rechercher Des Chaînes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pour Rechercher Des Chaînes</a> <a href=../../../sql-reference/functions/string-replace-functions/ title="Pour remplacer dans les chaînes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pour remplacer dans les chaînes</a> <a href=../../../sql-reference/functions/conditional-functions/ title=Conditionnel class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conditionnel</a> <a href=../../../sql-reference/functions/math-functions/ title=Mathématique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mathématique</a> <a href=../../../sql-reference/functions/rounding-functions/ title=Arrondi class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arrondi</a> <a href=../../../sql-reference/functions/array-functions/ title="Travailler avec des tableaux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des tableaux</a> <a href=../../../sql-reference/functions/splitting-merging-functions/ title="Fractionnement et fusion de chaînes et de tableaux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fractionnement et fusion de chaînes et de tableaux</a> <a href=../../../sql-reference/functions/bit-functions/ title=Bit class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bit</a> <a href=../../../sql-reference/functions/bitmap-functions/ title=Bitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a> <a href=../../../sql-reference/functions/hash-functions/ title=Hachage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hachage</a> <a href=../../../sql-reference/functions/random-functions/ title="La Génération De Nombres Pseudo-Aléatoires" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Génération De Nombres Pseudo-Aléatoires</a> <a href=../../../sql-reference/functions/encoding-functions/ title=Encodage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encodage</a> <a href=../../../sql-reference/functions/uuid-functions/ title="Travailler avec UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec UUID</a> <a href=../../../sql-reference/functions/url-functions/ title="Travailler avec des URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des URL</a> <a href=../../../sql-reference/functions/ip-address-functions/ title="Travailler avec des adresses IP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des adresses IP</a> <a href=../../../sql-reference/functions/json-functions/ title="Travailler avec JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec JSON</a> <a href=../../../sql-reference/functions/higher-order-functions/ title="D'Ordre Supérieur" class="nav-link text-light text-wrap d-inline-block w-100 px-0">D'Ordre Supérieur</a> <a href=../../../sql-reference/functions/ext-dict-functions/ title="Travailler avec des dictionnaires externes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des dictionnaires externes</a> <a href=../../../sql-reference/functions/ym-dict-functions/ title="Travailler avec Yandex.Dictionnaires Metrica" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec Yandex.Dictionnaires Metrica</a> <a href=../../../sql-reference/functions/in-functions/ title="Mise en œuvre de L'opérateur IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mise en œuvre de L'opérateur IN</a> <a href=../../../sql-reference/functions/array-join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../../sql-reference/functions/geo/ title="Travailler avec des coordonnées géographiques" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des coordonnées géographiques</a> <a href=../../../sql-reference/functions/functions-for-nulls/ title="Travailler avec des arguments nullables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des arguments nullables</a> <a href=../../../sql-reference/functions/machine-learning-functions/ title="Fonctions D'Apprentissage Automatique" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fonctions D'Apprentissage Automatique</a> <a href=../../../sql-reference/functions/introspection/ title=Introspection class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspection</a> <a href=../../../sql-reference/functions/other-functions/ title=Autre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Autre</a> </nav> </div> <a href=#sidebar-sidebar-5-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5 title="Les Fonctions D'Agrégation" class="nav-link text-light dropdown-toggle px-0">Les Fonctions D'Agrégation</a> <div id=sidebar-sidebar-5-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/aggregate-functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql-reference/aggregate-functions/reference/ title=Référence class="nav-link text-light text-wrap d-inline-block w-100 px-0">Référence</a> <a href=../../../sql-reference/aggregate-functions/combinators/ title=Combinators class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinators</a> <a href=../../../sql-reference/aggregate-functions/parametric-functions/ title=Paramétrique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Paramétrique</a> </nav> </div> <a href=#sidebar-sidebar-5-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-6 title="Les Fonctions De Table" class="nav-link text-light dropdown-toggle px-0">Les Fonctions De Table</a> <div id=sidebar-sidebar-5-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/table-functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql-reference/table-functions/file/ title=fichier class="nav-link text-light text-wrap d-inline-block w-100 px-0">fichier</a> <a href=../../../sql-reference/table-functions/merge/ title=fusionner class="nav-link text-light text-wrap d-inline-block w-100 px-0">fusionner</a> <a href=../../../sql-reference/table-functions/numbers/ title=nombre class="nav-link text-light text-wrap d-inline-block w-100 px-0">nombre</a> <a href=../../../sql-reference/table-functions/remote/ title=distant class="nav-link text-light text-wrap d-inline-block w-100 px-0">distant</a> <a href=../../../sql-reference/table-functions/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../sql-reference/table-functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql-reference/table-functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql-reference/table-functions/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../sql-reference/table-functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql-reference/table-functions/input/ title=entrée class="nav-link text-light text-wrap d-inline-block w-100 px-0">entrée</a> <a href=../../../sql-reference/table-functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-5-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7 title=Dictionnaire class="nav-link text-light dropdown-toggle px-0">Dictionnaire</a> <div id=sidebar-sidebar-5-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/dictionaries/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-5-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7-2 title="Dictionnaires Externes" class="nav-link text-light dropdown-toggle px-0">Dictionnaires Externes</a> <div id=sidebar-sidebar-5-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts/ title="Description Générale" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Description Générale</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/ title="Configuration D'un dictionnaire externe" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuration D'un dictionnaire externe</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/ title="Stockage des dictionnaires en mémoire" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Stockage des dictionnaires en mémoire</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/ title="Mises À Jour Du Dictionnaire" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mises À Jour Du Dictionnaire</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/ title="Sources de dictionnaires externes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sources de dictionnaires externes</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/ title="Clé et champs du dictionnaire" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clé et champs du dictionnaire</a> <a href=../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/ title="Dictionnaires hiérarchiques" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionnaires hiérarchiques</a> </nav> </div> <a href=../../../sql-reference/dictionaries/internal-dicts/ title="Dictionnaires Internes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionnaires Internes</a> </nav> </div> <a href=#sidebar-sidebar-5-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8 title=Opérateur class="nav-link text-light dropdown-toggle px-0">Opérateur</a> <div id=sidebar-sidebar-5-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/operators/ title=Opérateur class="nav-link text-light text-wrap d-inline-block w-100 px-0">Opérateur</a> <a href=../../../sql-reference/operators/in/ title="Dans les opérateurs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dans les opérateurs</a> </nav> </div> <a href=#sidebar-sidebar-5-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9 title="Types De Données" class="nav-link text-light dropdown-toggle px-0">Types De Données</a> <div id=sidebar-sidebar-5-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql-reference/data-types/int-uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql-reference/data-types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../../sql-reference/data-types/decimal/ title=Décimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Décimal</a> <a href=../../../sql-reference/data-types/boolean/ title=Booléen class="nav-link text-light text-wrap d-inline-block w-100 px-0">Booléen</a> <a href=../../../sql-reference/data-types/string/ title=Chaîne class="nav-link text-light text-wrap d-inline-block w-100 px-0">Chaîne</a> <a href=../../../sql-reference/data-types/fixedstring/ title="FixedString (N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString (N)</a> <a href=../../../sql-reference/data-types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql-reference/data-types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../../sql-reference/data-types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../sql-reference/data-types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql-reference/data-types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql-reference/data-types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../../sql-reference/data-types/aggregatefunction/ title="AggregateFunction (nom, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction (nom, types_of_arguments...)</a> <a href=../../../sql-reference/data-types/tuple/ title="Tuple (T1, T2,...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple (T1, T2,...)</a> <a href=../../../sql-reference/data-types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-5-9-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-17 title="Structures De Données Imbriquées" class="nav-link text-light dropdown-toggle px-0">Structures De Données Imbriquées</a> <div id=sidebar-sidebar-5-9-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/nested-data-structures/nested/ title="Imbriquée(Type1 Nom1, Nom2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Imbriquée(Type1 Nom1, Nom2 Type2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-5-9-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-18 title="Types De Données Spéciaux" class="nav-link text-light dropdown-toggle px-0">Types De Données Spéciaux</a> <div id=sidebar-sidebar-5-9-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/special-data-types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../../sql-reference/data-types/special-data-types/set/ title=Définir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Définir</a> <a href=../../../sql-reference/data-types/special-data-types/nothing/ title=Rien class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rien</a> <a href=../../../sql-reference/data-types/special-data-types/interval/ title=Intervalle class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intervalle</a> </nav> </div> <a href=#sidebar-sidebar-5-9-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-9-19 title=Domaine class="nav-link text-light dropdown-toggle px-0">Domaine</a> <div id=sidebar-sidebar-5-9-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql-reference/data-types/domains/ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../sql-reference/data-types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql-reference/data-types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../../sql-reference/data-types/simpleaggregatefunction/ title=SimpleAggregateFunction class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a> </nav> </div> <a href=../../../sql-reference/ansi/ title="La Compatibilité ANSI" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Compatibilité ANSI</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=Guide class="nav-link text-light dropdown-toggle px-0">Guide</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../guides/apply-catboost-model/ title="Application Des Modèles CatBoost" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Application Des Modèles CatBoost</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Opérations class="nav-link text-light dropdown-toggle px-0">Opérations</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/requirements/ title=Exigence class="nav-link text-light text-wrap d-inline-block w-100 px-0">Exigence</a> <a href=../../../operations/monitoring/ title=Surveiller class="nav-link text-light text-wrap d-inline-block w-100 px-0">Surveiller</a> <a href=../../../operations/troubleshooting/ title=Dépannage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dépannage</a> <a href=../../../operations/update/ title="Mise À Jour De ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mise À Jour De ClickHouse</a> <a href=../../../operations/access-rights/ title="Le Contrôle d'accès et de Gestion de Compte" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Le Contrôle d'accès et de Gestion de Compte</a> <a href=../../../operations/backup/ title="La Sauvegarde Des Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Sauvegarde Des Données</a> <a href=../../../operations/configuration-files/ title="Fichiers De Configuration" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fichiers De Configuration</a> <a href=../../../operations/quotas/ title=Quota class="nav-link text-light text-wrap d-inline-block w-100 px-0">Quota</a> <a href=../../../operations/system-tables/ title="Les Tables Système" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Tables Système</a> <a href=#sidebar-sidebar-7-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-11 title="Optimisation Des Performances" class="nav-link text-light dropdown-toggle px-0">Optimisation Des Performances</a> <div id=sidebar-sidebar-7-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing-performance/sampling-query-profiler/ title="Profilage De Requête" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Profilage De Requête</a> </nav> </div> <a href=#sidebar-sidebar-7-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-12 title="Paramètres De Configuration Du Serveur" class="nav-link text-light dropdown-toggle px-0">Paramètres De Configuration Du Serveur</a> <div id=sidebar-sidebar-7-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server-configuration-parameters/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/server-configuration-parameters/settings/ title="Les Paramètres Du Serveur" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Paramètres Du Serveur</a> </nav> </div> <a href=../../../operations/performance-test/ title="Tester Le Matériel" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tester Le Matériel</a> <a href=#sidebar-sidebar-7-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-14 title=Paramètre class="nav-link text-light dropdown-toggle px-0">Paramètre</a> <div id=sidebar-sidebar-7-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/settings/permissions-for-queries/ title="Autorisations pour les requêtes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Autorisations pour les requêtes</a> <a href=../../../operations/settings/query-complexity/ title="Restrictions sur la complexité des requêtes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restrictions sur la complexité des requêtes</a> <a href=../../../operations/settings/settings-profiles/ title="Les Paramètres Des Profils" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Paramètres Des Profils</a> <a href=../../../operations/settings/constraints-on-settings/ title="Contraintes sur les paramètres" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Contraintes sur les paramètres</a> <a href=../../../operations/settings/settings-users/ title="Les Paramètres De L'Utilisateur" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Paramètres De L'Utilisateur</a> <a href=../../../operations/settings/settings/ title=Paramètre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Paramètre</a> </nav> </div> <a href=#sidebar-sidebar-7-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-15 title=Utilitaire class="nav-link text-light dropdown-toggle px-0">Utilitaire</a> <div id=sidebar-sidebar-7-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../operations/utilities/clickhouse-copier/ title=clickhouse-copieur class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copieur</a> <a href=../../../operations/utilities/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title=clickhouse-benchmark class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a> </nav> </div> <a href=../../../operations/tips/ title="Recommandations D'Utilisation" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recommandations D'Utilisation</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Développement class="nav-link text-light dropdown-toggle px-0">Développement</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/developer-instruction/ title="Le Débutant Clickhouse Developer Instruction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Le Débutant Clickhouse Developer Instruction</a> <a href=../../../development/architecture/ title="Vue d'ensemble de L'Architecture ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vue d'ensemble de L'Architecture ClickHouse</a> <a href=../../../development/browse-code/ title="Parcourir Le Code Source" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Parcourir Le Code Source</a> <a href=../../../development/build/ title="Comment Construire ClickHouse sur Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Linux</a> <a href=../../../development/build-osx/ title="Comment Construire ClickHouse sur Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Mac OS X</a> <a href=../../../development/build-cross-osx/ title="Comment Construire ClickHouse sur Linux pour Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Linux pour Mac OS X</a> <a href=../../../development/build-cross-arm/ title="Comment Construire ClickHouse sur Linux pour AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Linux pour AARCH64 (ARM64)</a> <a href=../../../development/style/ title="Comment écrire du Code C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment écrire du Code C++</a> <a href=../../../development/tests/ title=Testing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing</a> <a href=../../../development/contrib/ title="Bibliothèques Tierces Utilisées" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliothèques Tierces Utilisées</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Commercial class="nav-link text-light dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/cloud/ title=Nuage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nuage</a> <a href=../../../commercial/support/ title=Soutien class="nav-link text-light text-wrap d-inline-block w-100 px-0">Soutien</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title="Ce qui est Nouveau" class="nav-link text-light dropdown-toggle px-0">Ce qui est Nouveau</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-10-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10-2 title=Changelog class="nav-link text-light dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-10-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats-new/changelog/ title=2021 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2021</a> <a href=../../../whats-new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats-new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats-new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats-new/roadmap/ title="Feuille de route" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Feuille de route</a> <a href=../../../whats-new/security-changelog/ title="Sécurité Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sécurité Changelog</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=F.A.Q. class="nav-link text-light dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/general/ title="Questions Générales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Questions Générales</a> </nav> </div> <a href=../../../single/clickhouse_fr.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-4"> <div id=content class=mt-md-n3> <nav class=text-muted aria-label=breadcrumb> <ol class="breadcrumb bg-transparent p-0"> <li class=breadcrumb-item><a href=../../ class=text-reset>Référence SQL</a> </li> <li class=breadcrumb-item><a href=../ class=text-reset>Déclaration</a> </li> </ol> </nav> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Help wanted!</p> <p class=lead>The following content of this documentation page has been machine-translated. But unlike other websites, it is not done on the fly. This translated text lives on GitHub repository alongside main ClickHouse codebase and waits for fellow native speakers to make it more human-readable. <a href=/docs/en/sql-reference/statements/alter/ class=alert-link>You can also use the original English version as a reference.</a></p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/sql-reference/statements/alter.md target=_blank rel="external nofollow noreferrer"> Help ClickHouse documentation by editing this page </a> </p> </div> <h2 id=query_language_queries_alter>ALTER<a class=headerlink href=#query_language_queries_alter title="Permanent link"> </a></h2> <p>Le <code class=syntax>ALTER</code> la requête est prise en charge uniquement pour <code class=syntax>*MergeTree</code> des tables, ainsi que <code class=syntax>Merge</code>et<code class=syntax>Distributed</code>. La requête a plusieurs variantes.</p> <h3 id=column-manipulations>Manipulations De Colonne<a class=headerlink href=#column-manipulations title="Permanent link"> </a></h3> <p>Modification de la structure de la table.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=k>ADD</span><span class=o>|</span><span class=k>DROP</span><span class=o>|</span><span class=n>CLEAR</span><span class=o>|</span><span class=k>COMMENT</span><span class=o>|</span><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>...</span>
</code></pre></div> <p>Dans la requête, spécifiez une liste d'une ou plusieurs actions séparées par des virgules.<br> Chaque action est une opération sur une colonne.</p> <p>Les actions suivantes sont prises en charge:</p> <ul> <li><a href=#alter_add-column>ADD COLUMN</a> — Adds a new column to the table.</li> <li><a href=#alter_drop-column>DROP COLUMN</a> — Deletes the column.</li> <li><a href=#alter_clear-column>CLEAR COLUMN</a> — Resets column values.</li> <li><a href=#alter_comment-column>COMMENT COLUMN</a> — Adds a text comment to the column.</li> <li><a href=#alter_modify-column>MODIFY COLUMN</a> — Changes column's type, default expression and TTL.</li> </ul> <p>Ces actions sont décrites en détail ci-dessous.</p> <h4 id=alter_add-column>ADD COLUMN<a class=headerlink href=#alter_add-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ADD</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>codec</span><span class=p>]</span> <span class=p>[</span><span class=k>AFTER</span> <span class=n>name_after</span><span class=p>]</span>
</code></pre></div> <p>Ajoute une nouvelle colonne à la table spécifiée <code class=syntax>name</code>, <code class=syntax>type</code>, <a href=../create/#codecs><code class=syntax>codec</code></a> et <code class=syntax>default_expr</code> (voir la section <a href=../create/#create-default-values>Expressions par défaut</a>).</p> <p>Si l' <code class=syntax>IF NOT EXISTS</code> la clause est incluse, la requête ne retournera pas d'erreur si la colonne existe déjà. Si vous spécifiez <code class=syntax>AFTER name_after</code> (le nom d'une autre colonne), la colonne est ajoutée après celle spécifiée dans la liste des colonnes de la table. Sinon, la colonne est ajoutée à la fin de la table. Notez qu'il n'existe aucun moyen d'ajouter une colonne au début d'un tableau. Pour une chaîne d'actions, <code class=syntax>name_after</code> peut être le nom d'une colonne est ajoutée dans l'une des actions précédentes.</p> <p>L'ajout d'une colonne modifie simplement la structure de la table, sans effectuer d'actions avec des données. Les données n'apparaissent pas sur le disque après la <code class=syntax>ALTER</code>. Si les données sont manquantes pour une colonne lors de la lecture de la table, elles sont remplies avec des valeurs par défaut (en exécutant l'expression par défaut s'il y en a une, ou en utilisant des zéros ou des chaînes vides). La colonne apparaît sur le disque après la fusion des parties de données (voir <a href=../../../engines/table-engines/mergetree-family/mergetree/ >MergeTree</a>).</p> <p>Cette approche nous permet de compléter le <code class=syntax>ALTER</code> requête instantanément, sans augmenter le volume de données anciennes.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>ADD</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=n>String</span> <span class=k>AFTER</span> <span class=n>user_id</span>
</code></pre></div> <h4 id=alter_drop-column>DROP COLUMN<a class=headerlink href=#alter_drop-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>DROP</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span>
</code></pre></div> <p>Supprime la colonne avec le nom <code class=syntax>name</code>. Si l' <code class=syntax>IF EXISTS</code> la clause est spécifiée, la requête ne retournera pas d'erreur si la colonne n'existe pas.</p> <p>Supprime les données du système de fichiers. Comme cela supprime des fichiers entiers, la requête est terminée presque instantanément.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>DROP</span> <span class=k>COLUMN</span> <span class=n>browser</span>
</code></pre></div> <h4 id=alter_clear-column>CLEAR COLUMN<a class=headerlink href=#alter_clear-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>Réinitialise toutes les données dans une colonne pour une partition spécifiée. En savoir plus sur la définition du nom de la partition dans la section <a href=#alter-how-to-specify-part-expr>Comment spécifier l'expression de partition</a>.</p> <p>Si l' <code class=syntax>IF EXISTS</code> la clause est spécifiée, la requête ne retournera pas d'erreur si la colonne n'existe pas.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span>
</code></pre></div> <h4 id=alter_comment-column>COMMENT COLUMN<a class=headerlink href=#alter_comment-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=s1>'comment'</span>
</code></pre></div> <p>Ajoute un commentaire à la colonne. Si l' <code class=syntax>IF EXISTS</code> la clause est spécifiée, la requête ne retournera pas d'erreur si la colonne n'existe pas.</p> <p>Chaque colonne peut avoir un commentaire. Si un commentaire existe déjà pour la colonne, un nouveau commentaire remplace le précédent commentaire.</p> <p>Les commentaires sont stockés dans le <code class=syntax>comment_expression</code> colonne renvoyée par le <a href=../misc/#misc-describe-table>DESCRIBE TABLE</a> requête.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=s1>'The table shows the browser used for accessing the site.'</span>
</code></pre></div> <h4 id=alter_modify-column>MODIFY COLUMN<a class=headerlink href=#alter_modify-column title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span><span class=p>]</span>
</code></pre></div> <p>Cette requête modifie le <code class=syntax>name</code> les propriétés de la colonne:</p> <ul> <li> <p>Type</p> </li> <li> <p>Expression par défaut</p> </li> <li> <p>TTL</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>For</span> <span class=n>examples</span> <span class=n>of</span> <span class=n>columns</span> <span class=n>TTL</span> <span class=n>modifying</span><span class=p>,</span> <span class=n>see</span> <span class=p>[</span><span class=n>Column</span> <span class=n>TTL</span><span class=p>](..</span><span class=o>/</span><span class=n>engines</span><span class=o>/</span><span class=n>table_engines</span><span class=o>/</span><span class=n>mergetree_family</span><span class=o>/</span><span class=n>mergetree</span><span class=p>.</span><span class=n>md</span><span class=err>#</span><span class=n>mergetree</span><span class=o>-</span><span class=n>column</span><span class=o>-</span><span class=n>ttl</span><span class=p>).</span>
</code></pre></div> </li> </ul> <p>Si l' <code class=syntax>IF EXISTS</code> la clause est spécifiée, la requête ne retournera pas d'erreur si la colonne n'existe pas.</p> <p>Lors de la modification du type, les valeurs sont converties comme si <a href=../../functions/type-conversion-functions/ >toType</a> les fonctions ont été appliquées. Si seule l'expression par défaut est modifiée, la requête ne fait rien de complexe et est terminée presque instantanément.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>)</span>
</code></pre></div> <p>Changing the column type is the only complex action – it changes the contents of files with data. For large tables, this may take a long time.</p> <p>Il y a plusieurs étapes de traitement:</p> <ul> <li>Préparation de (nouveaux) fichiers temporaires avec des données modifiées.</li> <li>Renommer les anciens fichiers.</li> <li>Renommer les (nouveaux) fichiers temporaires en anciens noms.</li> <li>Suppression des anciens fichiers.</li> </ul> <p>Seule la première étape prend du temps. Si il y a un échec à ce stade, les données ne sont pas modifiées.<br> En cas d'échec au cours d'une des étapes successives, les données peuvent être restaurées manuellement. L'exception est si les anciens fichiers ont été supprimés du système de fichiers mais que les données des nouveaux fichiers n'ont pas été écrites sur le disque et ont été perdues.</p> <p>Le <code class=syntax>ALTER</code> la requête de modification des colonnes est répliquée. Les instructions sont enregistrées dans ZooKeeper, puis chaque réplique les applique. Tout <code class=syntax>ALTER</code> les requêtes sont exécutées dans le même ordre. La requête attend que les actions appropriées soient terminées sur les autres répliques. Cependant, une requête pour modifier des colonnes dans une table répliquée peut être interrompue, et toutes les actions seront effectuées de manière asynchrone.</p> <h4 id=alter-query-limitations>Modifier les limites de la requête<a class=headerlink href=#alter-query-limitations title="Permanent link"> </a></h4> <p>Le <code class=syntax>ALTER</code> query vous permet de créer et de supprimer des éléments distincts (colonnes) dans des structures de données imbriquées, mais pas des structures de données imbriquées entières. Pour ajouter une structure de données imbriquée, vous pouvez ajouter des colonnes avec un nom comme <code class=syntax>name.nested_name</code> et le type <code class=syntax>Array(T)</code>. Une structure de données imbriquée est équivalente à plusieurs colonnes de tableau avec un nom qui a le même préfixe avant le point.</p> <p>Il n'y a pas de support pour supprimer des colonnes dans la clé primaire ou la clé d'échantillonnage (colonnes qui sont utilisées dans le <code class=syntax>ENGINE</code> expression). La modification du type des colonnes incluses dans la clé primaire n'est possible que si cette modification n'entraîne pas la modification des données (par exemple, vous êtes autorisé à ajouter des valeurs à une énumération ou à modifier un type de <code class=syntax>DateTime</code> de <code class=syntax>UInt32</code>).</p> <p>Si l' <code class=syntax>ALTER</code> la requête n'est pas suffisante pour apporter les modifications de table dont vous avez besoin, vous pouvez créer une nouvelle table, y copier les données en utilisant le <a href=../insert-into/#insert_query_insert-select>INSERT SELECT</a> requête, puis changer les tables en utilisant le <a href=../misc/#misc_operations-rename>RENAME</a> requête et supprimer l'ancienne table. Vous pouvez utiliser l' <a href=../../../operations/utilities/clickhouse-copier/ >clickhouse-copieur</a> comme une alternative à la <code class=syntax>INSERT SELECT</code> requête.</p> <p>Le <code class=syntax>ALTER</code> query bloque toutes les lectures et écritures pour la table. En d'autres termes, si une longue <code class=syntax>SELECT</code> est en cours d'exécution au moment de la <code class=syntax>ALTER</code> requête, la <code class=syntax>ALTER</code> la requête va attendre qu'elle se termine. Dans le même temps, toutes les nouvelles requêtes à la même table attendre que ce <code class=syntax>ALTER</code> est en cours d'exécution.</p> <p>Pour les tables qui ne stockent pas les données elles-mêmes (telles que <code class=syntax>Merge</code> et <code class=syntax>Distributed</code>), <code class=syntax>ALTER</code> change simplement la structure de la table, et ne change pas la structure des tables subordonnées. Par exemple, lors de L'exécution de ALTER pour un <code class=syntax>Distributed</code> table, vous devrez également exécuter <code class=syntax>ALTER</code> pour les tables sur tous les serveurs distants.</p> <h3 id=manipulations-with-key-expressions>Manipulations avec des Expressions clés<a class=headerlink href=#manipulations-with-key-expressions title="Permanent link"> </a></h3> <p>La commande suivante est prise en charge:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>MODIFY</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>new_expression</span>
</code></pre></div> <p>Cela ne fonctionne que pour les tables du <a href=../../../engines/table-engines/mergetree-family/mergetree/ ><code class=syntax>MergeTree</code></a> de la famille (y compris les<br> <a href=../../../engines/table-engines/mergetree-family/replication/ >répliqué</a> table). La commande change l'<br> <a href=../../../engines/table-engines/mergetree-family/mergetree/ >clé de tri</a> de la table<br> de <code class=syntax>new_expression</code> (une expression ou un tuple d'expressions). Clé primaire reste le même.</p> <p>La commande est légère en ce sens qu'elle ne modifie que les métadonnées. Pour conserver la propriété cette partie de données<br> les lignes sont ordonnées par l'expression de clé de tri vous ne pouvez pas ajouter d'expressions contenant des colonnes existantes<br> à la clé de tri (seules les colonnes ajoutées par <code class=syntax>ADD COLUMN</code> commande dans le même <code class=syntax>ALTER</code> requête).</p> <h3 id=manipulations-with-data-skipping-indices>Manipulations avec des Indices de saut de données<a class=headerlink href=#manipulations-with-data-skipping-indices title="Permanent link"> </a></h3> <p>Cela ne fonctionne que pour les tables du <a href=../../../engines/table-engines/mergetree-family/mergetree/ ><code class=syntax>*MergeTree</code></a> de la famille (y compris les<br> <a href=../../../engines/table-engines/mergetree-family/replication/ >répliqué</a> table). Les opérations suivantes<br> sont disponibles:</p> <ul> <li> <p><code class=syntax>ALTER TABLE [db].name ADD INDEX name expression TYPE type GRANULARITY value AFTER name [AFTER name2]</code> - Ajoute la description de l'index aux métadonnées des tables.</p> </li> <li> <p><code class=syntax>ALTER TABLE [db].name DROP INDEX name</code> - Supprime la description de l'index des métadonnées des tables et supprime les fichiers d'index du disque.</p> </li> </ul> <p>Ces commandes sont légères dans le sens où elles ne modifient que les métadonnées ou suppriment des fichiers.<br> En outre, ils sont répliqués (synchronisation des métadonnées des indices via ZooKeeper).</p> <h3 id=manipulations-with-constraints>Manipulations avec contraintes<a class=headerlink href=#manipulations-with-constraints title="Permanent link"> </a></h3> <p>En voir plus sur <a href=../create/#constraints>contraintes</a></p> <p>Les contraintes peuvent être ajoutées ou supprimées à l'aide de la syntaxe suivante:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>ADD</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span> <span class=k>CHECK</span> <span class=n>expression</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>DROP</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span><span class=p>;</span>
</code></pre></div> <p>Les requêtes ajouteront ou supprimeront des métadonnées sur les contraintes de la table afin qu'elles soient traitées immédiatement.</p> <p>Contrainte de vérifier <em>ne sera pas exécuté</em> sur les données existantes si elle a été ajoutée.</p> <p>Toutes les modifications sur les tables répliquées sont diffusées sur ZooKeeper et seront donc appliquées sur d'autres répliques.</p> <h3 id=alter_manipulations-with-partitions>Manipulations avec des Partitions et des pièces<a class=headerlink href=#alter_manipulations-with-partitions title="Permanent link"> </a></h3> <p>Les opérations suivantes avec <a href=../../../engines/table-engines/mergetree-family/custom-partitioning-key/ >partition</a> sont disponibles:</p> <ul> <li><a href=#alter_detach-partition>DETACH PARTITION</a> – Moves a partition to the <code class=syntax>detached</code> répertoire et de l'oublier.</li> <li><a href=#alter_drop-partition>DROP PARTITION</a> – Deletes a partition.</li> <li><a href=#alter_attach-partition>ATTACH PART|PARTITION</a> – Adds a part or partition from the <code class=syntax>detached</code> répertoire à la table.</li> <li><a href=#alter_attach-partition-from>ATTACH PARTITION FROM</a> – Copies the data partition from one table to another and adds.</li> <li><a href=#alter_replace-partition>REPLACE PARTITION</a> - Copie la partition de données d'une table à l'autre et la remplace.</li> <li><a href=#alter_move_to_table-partition>MOVE PARTITION TO TABLE</a>(#alter_move_to_table-partition) - déplace la partition de données d'une table à l'autre.</li> <li><a href=#alter_clear-column-partition>CLEAR COLUMN IN PARTITION</a> - Rétablit la valeur d'une colonne spécifiée dans une partition.</li> <li><a href=#alter_clear-index-partition>CLEAR INDEX IN PARTITION</a> - Réinitialise l'index secondaire spécifié dans une partition.</li> <li><a href=#alter_freeze-partition>FREEZE PARTITION</a> – Creates a backup of a partition.</li> <li><a href=#alter_fetch-partition>FETCH PARTITION</a> – Downloads a partition from another server.</li> <li><a href=#alter_move-partition>MOVE PARTITION|PART</a> – Move partition/data part to another disk or volume.</li> </ul> <!-- --> <h4 id=alter_detach-partition>DETACH PARTITION<a class=headerlink href=#alter_detach-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Déplace toutes les données de la partition spécifiée vers <code class=syntax>detached</code> répertoire. Le serveur oublie la partition de données détachée comme si elle n'existait pas. Le serveur ne connaîtra pas ces données tant que vous n'aurez pas <a href=#alter_attach-partition>ATTACH</a> requête.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span>
</code></pre></div> <p>Lisez à propos de la définition de l'expression de partition dans une section <a href=#alter-how-to-specify-part-expr>Comment spécifier l'expression de partition</a>.</p> <p>Une fois la requête exécutée, vous pouvez faire ce que vous voulez avec les données du <code class=syntax>detached</code> directory — delete it from the file system, or just leave it.</p> <p>This query is replicated – it moves the data to the <code class=syntax>detached</code> répertoire sur toutes les répliques. Notez que vous ne pouvez exécuter cette requête que sur un réplica leader. Pour savoir si une réplique est un leader, effectuez le <code class=syntax>SELECT</code> requête à l' <a href=../../../operations/system-tables/#system_tables-replicas>système.réplique</a> table. Alternativement, il est plus facile de faire une <code class=syntax>DETACH</code> requête sur toutes les répliques - toutes les répliques lancent une exception, à l'exception de la réplique leader.</p> <h4 id=alter_drop-partition>DROP PARTITION<a class=headerlink href=#alter_drop-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Supprime la partition spécifiée de la table. Cette requête marque la partition comme inactive et supprime complètement les données, environ en 10 minutes.</p> <p>Lisez à propos de la définition de l'expression de partition dans une section <a href=#alter-how-to-specify-part-expr>Comment spécifier l'expression de partition</a>.</p> <p>The query is replicated – it deletes data on all replicas.</p> <h4 id=alter_drop-detached>DROP DETACHED PARTITION|PART<a class=headerlink href=#alter_drop-detached title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>DETACHED</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Supprime la partie spécifiée ou toutes les parties de la partition spécifiée de <code class=syntax>detached</code>.<br> En savoir plus sur la définition de l'expression de partition dans une section <a href=#alter-how-to-specify-part-expr>Comment spécifier l'expression de partition</a>.</p> <h4 id=alter_attach-partition>ATTACH PARTITION|PART<a class=headerlink href=#alter_attach-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Ajoute des données à la table à partir du <code class=syntax>detached</code> répertoire. Il est possible d'ajouter des données dans une partition entière ou pour une partie distincte. Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PART</span> <span class=mi>201901</span><span class=n>_2_2_0</span><span class=p>;</span>
</code></pre></div> <p>En savoir plus sur la définition de l'expression de partition dans une section <a href=#alter-how-to-specify-part-expr>Comment spécifier l'expression de partition</a>.</p> <p>Cette requête est répliquée. L'initiateur de réplica vérifie s'il y a des données dans le <code class=syntax>detached</code> répertoire. Si des données existent, la requête vérifie son intégrité. Si tout est correct, la requête ajoute les données à la table. Tous les autres réplicas téléchargent les données de l'initiateur de réplica.</p> <p>Ainsi, vous pouvez mettre des données à la <code class=syntax>detached</code> répertoire sur une réplique, et utilisez le <code class=syntax>ALTER ... ATTACH</code> requête pour l'ajouter à la table sur tous les réplicas.</p> <h4 id=alter_attach-partition-from>ATTACH PARTITION FROM<a class=headerlink href=#alter_attach-partition-from title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>Cette requête copie la partition de données du <code class=syntax>table1</code> de <code class=syntax>table2</code> ajoute des données de gratuit dans la <code class=syntax>table2</code>. Notez que les données ne seront pas supprimées de <code class=syntax>table1</code>.</p> <p>Pour que la requête s'exécute correctement, les conditions suivantes doivent être remplies:</p> <ul> <li>Les deux tables doivent avoir la même structure.</li> <li>Les deux tables doivent avoir la même clé de partition.</li> </ul> <h4 id=alter_replace-partition>REPLACE PARTITION<a class=headerlink href=#alter_replace-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=k>REPLACE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>Cette requête copie la partition de données du <code class=syntax>table1</code> de <code class=syntax>table2</code> et remplace la partition existante dans le <code class=syntax>table2</code>. Notez que les données ne seront pas supprimées de <code class=syntax>table1</code>.</p> <p>Pour que la requête s'exécute correctement, les conditions suivantes doivent être remplies:</p> <ul> <li>Les deux tables doivent avoir la même structure.</li> <li>Les deux tables doivent avoir la même clé de partition.</li> </ul> <h4 id=alter_move_to_table-partition>MOVE PARTITION TO TABLE<a class=headerlink href=#alter_move_to_table-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table_source</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=k>TABLE</span> <span class=n>table_dest</span>
</code></pre></div> <p>Cette requête déplace la partition de données du <code class=syntax>table_source</code> de <code class=syntax>table_dest</code> avec la suppression des données de <code class=syntax>table_source</code>.</p> <p>Pour que la requête s'exécute correctement, les conditions suivantes doivent être remplies:</p> <ul> <li>Les deux tables doivent avoir la même structure.</li> <li>Les deux tables doivent avoir la même clé de partition.</li> <li>Les deux tables doivent appartenir à la même famille de moteurs. (répliqué ou non répliqué)</li> <li>Les deux tables doivent avoir la même stratégie de stockage.</li> </ul> <h4 id=alter_clear-column-partition>CLEAR COLUMN IN PARTITION<a class=headerlink href=#alter_clear-column-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=k>column_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Réinitialise toutes les valeurs de la colonne spécifiée dans une partition. Si l' <code class=syntax>DEFAULT</code> la clause a été déterminée lors de la création d'une table, cette requête définit la valeur de la colonne à une valeur par défaut spécifiée.</p> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>hour</span> <span class=k>in</span> <span class=n>PARTITION</span> <span class=mi>201902</span>
</code></pre></div> <h4 id=alter_freeze-partition>FREEZE PARTITION<a class=headerlink href=#alter_freeze-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FREEZE</span> <span class=p>[</span><span class=n>PARTITION</span> <span class=n>partition_expr</span><span class=p>]</span>
</code></pre></div> <p>Cette requête crée une sauvegarde locale d'une partition spécifiée. Si l' <code class=syntax>PARTITION</code> la clause est omise, la requête crée la sauvegarde de toutes les partitions à la fois.</p> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Note</p> <p>L'ensemble du processus de sauvegarde est effectuée sans arrêter le serveur.</p> </div> <p>Notez que pour les tables de style ancien, vous pouvez spécifier le préfixe du nom de la partition (par exemple, ‘2019’)- ensuite, la requête crée la sauvegarde pour toutes les partitions correspondantes. Lisez à propos de la définition de l'expression de partition dans une section <a href=#alter-how-to-specify-part-expr>Comment spécifier l'expression de partition</a>.</p> <p>Au moment de l'exécution, pour un instantané de données, la requête crée des liens rigides vers des données de table. Les liens sont placés dans le répertoire <code class=syntax>/var/lib/clickhouse/shadow/N/...</code>, où:</p> <ul> <li><code class=syntax>/var/lib/clickhouse/</code> est le répertoire de travail clickhouse spécifié dans la configuration.</li> <li><code class=syntax>N</code> est le numéro incrémental de la sauvegarde.</li> </ul> <div class="admonition note alert pb-0 mb-4 alert-primary" role=alert> <p class="admonition-title alert-heading display-6 mb-2">Note</p> <p>Si vous utilisez <a class=alert-link href=../../../engines/table-engines/mergetree-family/mergetree/#table_engine-mergetree-multiple-volumes>un ensemble de disques pour le stockage des données dans une table</a>, le <code class=syntax>shadow/N</code> le répertoire apparaît sur chaque disque, stockant les parties de données correspondant <code class=syntax>PARTITION</code> expression.</p> </div> <p>La même structure de répertoires est créée à l'intérieur de la sauvegarde qu'à l'intérieur <code class=syntax>/var/lib/clickhouse/</code>. La requête effectue ‘chmod’ pour tous les fichiers, interdisant d'écrire en eux.</p> <p>Après avoir créé la sauvegarde, vous pouvez copier les données depuis <code class=syntax>/var/lib/clickhouse/shadow/</code> sur le serveur distant, puis supprimez-le du serveur local. Notez que l' <code class=syntax>ALTER t FREEZE PARTITION</code> la requête n'est pas répliqué. Il crée une sauvegarde locale uniquement sur le serveur local.</p> <p>La requête crée une sauvegarde presque instantanément (mais elle attend d'abord que les requêtes en cours à la table correspondante se terminent).</p> <p><code class=syntax>ALTER TABLE t FREEZE PARTITION</code> copie uniquement les données, pas les métadonnées de la table. Faire une sauvegarde des métadonnées de la table, copiez le fichier <code class=syntax>/var/lib/clickhouse/metadata/database/table.sql</code></p> <p>Pour restaurer des données à partir d'une sauvegarde, procédez comme suit:</p> <ol> <li>Créer la table si elle n'existe pas. Pour afficher la requête, utilisez la .fichier sql (remplacer <code class=syntax>ATTACH</code> avec <code class=syntax>CREATE</code>).</li> <li>Copier les données de la <code class=syntax>data/database/table/</code> répertoire à l'intérieur de la sauvegarde <code class=syntax>/var/lib/clickhouse/data/database/table/detached/</code> répertoire.</li> <li>Exécuter <code class=syntax>ALTER TABLE t ATTACH PARTITION</code> les requêtes pour ajouter les données à une table.</li> </ol> <p>La restauration à partir d'une sauvegarde ne nécessite pas l'arrêt du serveur.</p> <p>Pour plus d'informations sur les sauvegardes et la restauration <a href=../../../operations/backup/ >La Sauvegarde Des Données</a> section.</p> <h4 id=alter_clear-index-partition>CLEAR INDEX IN PARTITION<a class=headerlink href=#alter_clear-index-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>INDEX</span> <span class=n>index_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>La requête fonctionne de manière similaire à <code class=syntax>CLEAR COLUMN</code> mais il remet un index au lieu d'une colonne de données.</p> <h4 id=alter_fetch-partition>FETCH PARTITION<a class=headerlink href=#alter_fetch-partition title="Permanent link"> </a></h4> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=s1>'path-in-zookeeper'</span>
</code></pre></div> <p>Télécharge une partition depuis un autre serveur. Cette requête ne fonctionne que pour les tables répliquées.</p> <p>La requête effectue les opérations suivantes:</p> <ol> <li>Télécharge la partition à partir du fragment spécifié. Dans ‘path-in-zookeeper’ vous devez spécifier un chemin vers le fragment dans ZooKeeper.</li> <li>Ensuite, la requête met les données téléchargées dans le <code class=syntax>detached</code> répertoire de la <code class=syntax>table_name</code> table. L'utilisation de la <a href=#alter_attach-partition>ATTACH PARTITION|PART</a> requête pour ajouter les données à la table.</li> </ol> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=mi>201902</span> <span class=k>FROM</span> <span class=s1>'/clickhouse/tables/01-01/visits'</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201902</span><span class=p>;</span>
</code></pre></div> <p>Notez que:</p> <ul> <li>Le <code class=syntax>ALTER ... FETCH PARTITION</code> la requête n'est pas répliqué. Il place la partition à la <code class=syntax>detached</code> répertoire sur le serveur local.</li> <li>Le <code class=syntax>ALTER TABLE ... ATTACH</code> la requête est répliquée. Il ajoute les données à toutes les répliques. Les données sont ajoutées à l'une des répliques <code class=syntax>detached</code> répertoire, et aux autres-des répliques voisines.</li> </ul> <p>Avant le téléchargement, le système vérifie si la partition existe et si la structure de la table correspond. La réplique la plus appropriée est sélectionnée automatiquement parmi les répliques saines.</p> <p>Bien que la requête soit appelée <code class=syntax>ALTER TABLE</code>, il ne modifie pas la structure de la table et ne modifie pas immédiatement les données disponibles dans la table.</p> <h4 id=alter_move-partition>MOVE PARTITION|PART<a class=headerlink href=#alter_move-partition title="Permanent link"> </a></h4> <p>Déplace des partitions ou des parties de données vers un autre volume ou disque pour <code class=syntax>MergeTree</code>-tables de moteur. Voir <a href=../../../engines/table-engines/mergetree-family/mergetree/#table_engine-mergetree-multiple-volumes>Utilisation de plusieurs périphériques de bloc pour le stockage de données</a>.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>MOVE</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=n>DISK</span><span class=o>|</span><span class=n>VOLUME</span> <span class=s1>'disk_name'</span>
</code></pre></div> <p>Le <code class=syntax>ALTER TABLE t MOVE</code> requête:</p> <ul> <li>Non répliqué, car différentes répliques peuvent avoir des stratégies de stockage différentes.</li> <li>Renvoie une erreur si le disque ou le volume n'est pas configuré. Query renvoie également une erreur si les conditions de déplacement des données, spécifiées dans la stratégie de stockage, ne peuvent pas être appliquées.</li> <li>Peut renvoyer une erreur dans le cas, lorsque les données à déplacer sont déjà déplacées par un processus en arrière-plan, simultané <code class=syntax>ALTER TABLE t MOVE</code> requête ou à la suite de la fusion de données d'arrière-plan. Un utilisateur ne doit effectuer aucune action supplémentaire dans ce cas.</li> </ul> <p>Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PART</span> <span class=s1>'20190301_14343_16206_438'</span> <span class=k>TO</span> <span class=n>VOLUME</span> <span class=s1>'slow'</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=s1>'2019-09-01'</span> <span class=k>TO</span> <span class=n>DISK</span> <span class=s1>'fast_ssd'</span>
</code></pre></div> <h4 id=alter-how-to-specify-part-expr>Comment définir L'Expression de la Partition<a class=headerlink href=#alter-how-to-specify-part-expr title="Permanent link"> </a></h4> <p>Vous pouvez spécifier l'expression de partition dans <code class=syntax>ALTER ... PARTITION</code> requêtes de différentes manières:</p> <ul> <li>Comme une valeur de l' <code class=syntax>partition</code> la colonne de la <code class=syntax>system.parts</code> table. Exemple, <code class=syntax>ALTER TABLE visits DETACH PARTITION 201901</code>.</li> <li>Comme expression de la colonne de la table. Les constantes et les expressions constantes sont prises en charge. Exemple, <code class=syntax>ALTER TABLE visits DETACH PARTITION toYYYYMM(toDate('2019-01-25'))</code>.</li> <li>À l'aide de l'ID de partition. Partition ID est un identifiant de chaîne de la partition (lisible par l'homme, si possible) qui est utilisé comme noms de partitions dans le système de fichiers et dans ZooKeeper. L'ID de partition doit être spécifié dans <code class=syntax>PARTITION ID</code> clause, entre guillemets simples. Exemple, <code class=syntax>ALTER TABLE visits DETACH PARTITION ID '201901'</code>.</li> <li>Dans le <a href=#alter_attach-partition>ALTER ATTACH PART</a> et <a href=#alter_drop-detached>DROP DETACHED PART</a> requête, pour spécifier le nom d'une partie, utilisez le littéral de chaîne avec une valeur de <code class=syntax>name</code> la colonne de la <a href=../../../operations/system-tables/#system_tables-detached_parts>système.detached_parts</a> table. Exemple, <code class=syntax>ALTER TABLE visits ATTACH PART '201901_1_1_0'</code>.</li> </ul> <p>L'utilisation de guillemets lors de la spécification de la partition dépend du type d'expression de partition. Par exemple, pour la <code class=syntax>String</code> type, vous devez spécifier son nom entre guillemets (<code class=syntax>'</code>). Pour l' <code class=syntax>Date</code> et <code class=syntax>Int*</code> types aucune citation n'est nécessaire.</p> <p>Pour les tables de style ancien, vous pouvez spécifier la partition sous forme de nombre <code class=syntax>201901</code> ou une chaîne de caractères <code class=syntax>'201901'</code>. La syntaxe des tables new-style est plus stricte avec les types (similaire à l'analyseur pour le format D'entrée des valeurs).</p> <p>Toutes les règles ci-dessus sont aussi valables pour la <a href=../misc/#misc_operations-optimize>OPTIMIZE</a> requête. Si vous devez spécifier la seule partition lors de l'optimisation d'une table non partitionnée, définissez l'expression <code class=syntax>PARTITION tuple()</code>. Exemple:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=n>OPTIMIZE</span> <span class=k>TABLE</span> <span class=n>table_not_partitioned</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span> <span class=k>FINAL</span><span class=p>;</span>
</code></pre></div> <p>Les exemples de <code class=syntax>ALTER ... PARTITION</code> les requêtes sont démontrées dans les tests <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_local.sql rel="external nofollow noreferrer" target=_blank><code class=syntax>00502_custom_partitioning_local</code></a> et <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_replicated_zookeeper.sql rel="external nofollow noreferrer" target=_blank><code class=syntax>00502_custom_partitioning_replicated_zookeeper</code></a>.</p> <h3 id=manipulations-with-table-ttl>Manipulations avec Table TTL<a class=headerlink href=#manipulations-with-table-ttl title="Permanent link"> </a></h3> <p>Vous pouvez modifier <a href=../../../engines/table-engines/mergetree-family/mergetree/#mergetree-table-ttl>tableau TTL</a> avec une demande du formulaire suivant:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table</span><span class=o>-</span><span class=n>name</span> <span class=k>MODIFY</span> <span class=n>TTL</span> <span class=n>ttl</span><span class=o>-</span><span class=n>expression</span>
</code></pre></div> <h3 id=synchronicity-of-alter-queries>Synchronicité des requêtes ALTER<a class=headerlink href=#synchronicity-of-alter-queries title="Permanent link"> </a></h3> <p>Pour les tables non réplicables, tous <code class=syntax>ALTER</code> les requêtes sont exécutées simultanément. Pour les tables réplicables, la requête ajoute simplement des instructions pour les actions appropriées à <code class=syntax>ZooKeeper</code> et les actions elles-mêmes sont effectuées dès que possible. Cependant, la requête peut attendre que ces actions soient terminées sur tous les réplicas.</p> <p>Pour <code class=syntax>ALTER ... ATTACH|DETACH|DROP</code> les requêtes, vous pouvez utiliser le <code class=syntax>replication_alter_partitions_sync</code> configuration pour configurer l'attente.<br> Valeurs possibles: <code class=syntax>0</code> – do not wait; <code class=syntax>1</code> – only wait for own execution (default); <code class=syntax>2</code> – wait for all.</p> <h3 id=alter-mutations>Mutation<a class=headerlink href=#alter-mutations title="Permanent link"> </a></h3> <p>Les Mutations sont une variante ALTER query qui permet de modifier ou de supprimer des lignes dans une table. Contrairement à la norme <code class=syntax>UPDATE</code> et <code class=syntax>DELETE</code> les requêtes qui sont destinées aux changements de données de point, les mutations sont destinées aux opérations lourdes qui modifient beaucoup de lignes dans une table. Pris en charge pour le <code class=syntax>MergeTree</code> famille de moteurs de table, y compris les moteurs avec support de réplication.</p> <p>Les tables existantes sont prêtes pour les mutations telles quelles (aucune conversion nécessaire), mais après l'application de la première mutation à une table, son format de métadonnées devient incompatible avec les versions précédentes du serveur et il devient impossible de revenir à une version précédente.</p> <p>Commandes actuellement disponibles:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>DELETE</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>Le <code class=syntax>filter_expr</code> doit être de type <code class=syntax>UInt8</code>. La requête supprime les lignes de la table pour lesquelles cette expression prend une valeur différente de zéro.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>UPDATE</span> <span class=n>column1</span> <span class=o>=</span> <span class=n>expr1</span> <span class=p>[,</span> <span class=p>...]</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>Le <code class=syntax>filter_expr</code> doit être de type <code class=syntax>UInt8</code>. Cette requête met à jour les valeurs des colonnes spécifiées en les valeurs des expressions correspondantes dans les lignes pour lesquelles <code class=syntax>filter_expr</code> prend une valeur non nulle. Les valeurs sont converties en type de colonne à l'aide <code class=syntax>CAST</code> opérateur. La mise à jour des colonnes utilisées dans le calcul de la clé primaire ou de la clé de partition n'est pas prise en charge.</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=n>MATERIALIZE</span> <span class=k>INDEX</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>La requête reconstruit l'index secondaire <code class=syntax>name</code> dans la partition <code class=syntax>partition_name</code>.</p> <p>Une requête peut contenir plusieurs commandes séparées par des virgules.</p> <p>Pour les tables * MergeTree, les mutations s'exécutent en réécrivant des parties de données entières. Il n'y a pas d'atomicité-les pièces sont substituées aux pièces mutées dès qu'elles sont prêtes et un <code class=syntax>SELECT</code> la requête qui a commencé à s'exécuter pendant une mutation verra les données des parties qui ont déjà été mutées ainsi que les données des parties qui n'ont pas encore été mutées.</p> <p>Les Mutations sont totalement ordonnées par leur ordre de création et sont appliquées à chaque partie dans cet ordre. Les Mutations sont également partiellement ordonnées avec des insertions - les données insérées dans la table avant la soumission de la mutation seront mutées et les données insérées après ne seront pas mutées. Notez que les mutations ne bloquent en aucune façon les INSERTs.</p> <p>Une requête de mutation retourne immédiatement après l'ajout de l'entrée de mutation (dans le cas de tables répliquées à ZooKeeper, pour les tables non compliquées - au système de fichiers). La mutation elle-même s'exécute de manière asynchrone en utilisant les paramètres du profil système. Pour suivre l'avancement des mutations vous pouvez utiliser la <a href=../../../operations/system-tables/#system_tables-mutations><code class=syntax>system.mutations</code></a> table. Une mutation qui a été soumise avec succès continuera à s'exécuter même si les serveurs ClickHouse sont redémarrés. Il n'y a aucun moyen de faire reculer la mutation une fois qu'elle est soumise, mais si la mutation est bloquée pour une raison quelconque, elle peut être annulée avec le <a href=../misc/#kill-mutation><code class=syntax>KILL MUTATION</code></a> requête.</p> <p>Les entrées pour les mutations finies ne sont pas supprimées immédiatement (le nombre d'entrées conservées est déterminé par <code class=syntax>finished_mutations_to_keep</code> le moteur de stockage de paramètre). Les anciennes entrées de mutation sont supprimées.</p> <h2 id=alter-user-statement>ALTER USER<a class=headerlink href=#alter-user-statement title="Permanent link"> </a></h2> <p>Changements clickhouse comptes d'utilisateurs.</p> <h3 id=alter-user-syntax>Syntaxe<a class=headerlink href=#alter-user-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>IDENTIFIED</span> <span class=p>[</span><span class=k>WITH</span> <span class=err>{</span><span class=n>PLAINTEXT_PASSWORD</span><span class=o>|</span><span class=n>SHA256_PASSWORD</span><span class=o>|</span><span class=n>DOUBLE_SHA1_PASSWORD</span><span class=err>}</span><span class=p>]</span> <span class=k>BY</span> <span class=err>{</span><span class=s1>'password'</span><span class=o>|</span><span class=s1>'hash'</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[[</span><span class=k>ADD</span><span class=o>|</span><span class=k>DROP</span><span class=p>]</span> <span class=k>HOST</span> <span class=err>{</span><span class=k>LOCAL</span> <span class=o>|</span> <span class=n>NAME</span> <span class=s1>'name'</span> <span class=o>|</span> <span class=n>REGEXP</span> <span class=s1>'name_regexp'</span> <span class=o>|</span> <span class=n>IP</span> <span class=s1>'address'</span> <span class=o>|</span> <span class=k>LIKE</span> <span class=s1>'pattern'</span><span class=err>}</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ANY</span> <span class=o>|</span> <span class=k>NONE</span><span class=p>]</span>
    <span class=p>[</span><span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span> <span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>PROFILE</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h3 id=alter-user-dscr>Description<a class=headerlink href=#alter-user-dscr title="Permanent link"> </a></h3> <p>Utiliser <code class=syntax>ALTER USER</code> vous devez avoir le <a href=../grant/#grant-access-management>ALTER USER</a> privilège.</p> <h3 id=alter-user-examples>Exemple<a class=headerlink href=#alter-user-examples title="Permanent link"> </a></h3> <p>Définir les rôles accordés par défaut:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span>
</code></pre></div> <p>Si les rôles ne sont pas précédemment accordés à un utilisateur, ClickHouse lève une exception.</p> <p>Définissez tous les rôles accordés à défaut:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span>
</code></pre></div> <p>Si un rôle seront accordés à un utilisateur dans l'avenir, il deviendra automatiquement par défaut.</p> <p>Définissez tous les rôles accordés sur default excepting <code class=syntax>role1</code> et <code class=syntax>role2</code>:</p> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>USER</span> <span class=k>user</span> <span class=k>DEFAULT</span> <span class=k>ROLE</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=n>role1</span><span class=p>,</span> <span class=n>role2</span>
</code></pre></div> <h2 id=alter-role-statement>ALTER ROLE<a class=headerlink href=#alter-role-statement title="Permanent link"> </a></h2> <p>Les changements de rôles.</p> <h3 id=alter-role-syntax>Syntaxe<a class=headerlink href=#alter-role-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=k>ROLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>PROFILE</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <h2 id=alter-row-policy-statement>ALTER ROW POLICY<a class=headerlink href=#alter-row-policy-statement title="Permanent link"> </a></h2> <p>Modifie la stratégie de ligne.</p> <h3 id=alter-row-policy-syntax>Syntaxe<a class=headerlink href=#alter-row-policy-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=p>[</span><span class=k>ROW</span><span class=p>]</span> <span class=n>POLICY</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span> <span class=k>ON</span> <span class=p>[</span><span class=k>database</span><span class=p>.]</span><span class=k>table</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>AS</span> <span class=err>{</span><span class=n>PERMISSIVE</span> <span class=o>|</span> <span class=n>RESTRICTIVE</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>FOR</span> <span class=k>SELECT</span><span class=p>]</span>
    <span class=p>[</span><span class=k>USING</span> <span class=err>{</span><span class=n>condition</span> <span class=o>|</span> <span class=k>NONE</span><span class=err>}</span><span class=p>][,...]</span>
    <span class=p>[</span><span class=k>TO</span> <span class=err>{</span><span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span><span class=p>]</span>
</code></pre></div> <h2 id=alter-quota-statement>ALTER QUOTA<a class=headerlink href=#alter-quota-statement title="Permanent link"> </a></h2> <p>Les changements de quotas.</p> <h3 id=alter-quota-syntax>Syntaxe<a class=headerlink href=#alter-quota-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=n>QUOTA</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>KEYED</span> <span class=k>BY</span> <span class=err>{</span><span class=s1>'none'</span> <span class=o>|</span> <span class=s1>'user name'</span> <span class=o>|</span> <span class=s1>'ip address'</span> <span class=o>|</span> <span class=s1>'client key'</span> <span class=o>|</span> <span class=s1>'client key or user name'</span> <span class=o>|</span> <span class=s1>'client key or ip address'</span><span class=err>}</span><span class=p>]</span>
    <span class=p>[</span><span class=k>FOR</span> <span class=p>[</span><span class=n>RANDOMIZED</span><span class=p>]</span> <span class=nb>INTERVAL</span> <span class=nb>number</span> <span class=err>{</span><span class=k>SECOND</span> <span class=o>|</span> <span class=k>MINUTE</span> <span class=o>|</span> <span class=n>HOUR</span> <span class=o>|</span> <span class=k>DAY</span> <span class=o>|</span> <span class=n>WEEK</span> <span class=o>|</span> <span class=k>MONTH</span> <span class=o>|</span> <span class=n>QUARTER</span> <span class=o>|</span> <span class=k>YEAR</span><span class=err>}</span>
        <span class=err>{</span><span class=k>MAX</span> <span class=err>{</span> <span class=err>{</span><span class=n>QUERIES</span> <span class=o>|</span> <span class=n>ERRORS</span> <span class=o>|</span> <span class=k>RESULT</span> <span class=k>ROWS</span> <span class=o>|</span> <span class=k>RESULT</span> <span class=n>BYTES</span> <span class=o>|</span> <span class=k>READ</span> <span class=k>ROWS</span> <span class=o>|</span> <span class=k>READ</span> <span class=n>BYTES</span> <span class=o>|</span> <span class=n>EXECUTION</span> <span class=n>TIME</span><span class=err>}</span> <span class=o>=</span> <span class=nb>number</span> <span class=err>}</span> <span class=p>[,...]</span> <span class=o>|</span>
        <span class=k>NO</span> <span class=n>LIMITS</span> <span class=o>|</span> <span class=n>TRACKING</span> <span class=k>ONLY</span><span class=err>}</span> <span class=p>[,...]]</span>
    <span class=p>[</span><span class=k>TO</span> <span class=err>{</span><span class=k>role</span> <span class=p>[,...]</span> <span class=o>|</span> <span class=k>ALL</span> <span class=o>|</span> <span class=k>ALL</span> <span class=k>EXCEPT</span> <span class=k>role</span> <span class=p>[,...]</span><span class=err>}</span><span class=p>]</span>
</code></pre></div> <h2 id=alter-settings-profile-statement>ALTER SETTINGS PROFILE<a class=headerlink href=#alter-settings-profile-statement title="Permanent link"> </a></h2> <p>Les changements de quotas.</p> <h3 id=alter-settings-profile-syntax>Syntaxe<a class=headerlink href=#alter-settings-profile-syntax title="Permanent link"> </a></h3> <div class=codehilite><pre><span></span><code class=syntax><span class=k>ALTER</span> <span class=n>SETTINGS</span> <span class=n>PROFILE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=n>cluster_name</span><span class=p>]</span>
    <span class=p>[</span><span class=k>RENAME</span> <span class=k>TO</span> <span class=n>new_name</span><span class=p>]</span>
    <span class=p>[</span><span class=n>SETTINGS</span> <span class=k>variable</span> <span class=p>[</span><span class=o>=</span> <span class=n>value</span><span class=p>]</span> <span class=p>[</span><span class=k>MIN</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>min_value</span><span class=p>]</span> <span class=p>[</span><span class=k>MAX</span> <span class=p>[</span><span class=o>=</span><span class=p>]</span> <span class=n>max_value</span><span class=p>]</span> <span class=p>[</span><span class=n>READONLY</span><span class=o>|</span><span class=n>WRITABLE</span><span class=p>]</span> <span class=o>|</span> <span class=n>INHERIT</span> <span class=s1>'profile_name'</span><span class=p>]</span> <span class=p>[,...]</span>
</code></pre></div> <p><a href=https://clickhouse.tech/docs/en/query_language/alter/ target=_blank>Article Original</a> <!--hide--></p> </div> <div class="alert alert-light my-3"> <p class="float-right mb-0">Rating: RATING_VALUE - RATING_COUNT votes</p> <span class="alert-heading display-6">Was this content helpful?</span> <div id=rating-stars class="display-6 mb-0" data-titles="['Unusable', 'Poor', 'OK', 'Good', 'Excellent']" data-documentation=documentation>RATING_STARS</div> </div> <div id=content-footer class="text-muted pt-3 mb-5"> <div class=float-md-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/b030bfedd7db4603034643fd183cf7784a820193 rel="external nofollow noreferrer" target=_blank class=text-reset>b030bfedd7</a> </div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#query_language_queries_alter title=ALTER class="nav-link text-wrap d-inline-block w-100"> ALTER </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#column-manipulations title="Manipulations De Colonne" class="nav-link text-wrap d-inline-block w-100"> Manipulations De Colonne </a> <nav id=toc-toc-1-1 class="nav flex-column pl-2"> <a href=#alter_add-column title="ADD COLUMN" class="nav-link text-wrap d-inline-block w-100"> ADD COLUMN </a> <a href=#alter_drop-column title="DROP COLUMN" class="nav-link text-wrap d-inline-block w-100"> DROP COLUMN </a> <a href=#alter_clear-column title="CLEAR COLUMN" class="nav-link text-wrap d-inline-block w-100"> CLEAR COLUMN </a> <a href=#alter_comment-column title="COMMENT COLUMN" class="nav-link text-wrap d-inline-block w-100"> COMMENT COLUMN </a> <a href=#alter_modify-column title="MODIFY COLUMN" class="nav-link text-wrap d-inline-block w-100"> MODIFY COLUMN </a> <a href=#alter-query-limitations title="Modifier les limites de la requête" class="nav-link text-wrap d-inline-block w-100"> Modifier les limites de la requête </a> </nav> <a href=#manipulations-with-key-expressions title="Manipulations avec des Expressions clés" class="nav-link text-wrap d-inline-block w-100"> Manipulations avec des Expressions clés </a> <a href=#manipulations-with-data-skipping-indices title="Manipulations avec des Indices de saut de données" class="nav-link text-wrap d-inline-block w-100"> Manipulations avec des Indices de saut de données </a> <a href=#manipulations-with-constraints title="Manipulations avec contraintes" class="nav-link text-wrap d-inline-block w-100"> Manipulations avec contraintes </a> <a href=#alter_manipulations-with-partitions title="Manipulations avec des Partitions et des pièces" class="nav-link text-wrap d-inline-block w-100"> Manipulations avec des Partitions et des pièces </a> <nav id=toc-toc-1-5 class="nav flex-column pl-2"> <a href=#alter_detach-partition title="DETACH PARTITION" class="nav-link text-wrap d-inline-block w-100"> DETACH PARTITION </a> <a href=#alter_drop-partition title="DROP PARTITION" class="nav-link text-wrap d-inline-block w-100"> DROP PARTITION </a> <a href=#alter_drop-detached title="DROP DETACHED PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> DROP DETACHED PARTITION|PART </a> <a href=#alter_attach-partition title="ATTACH PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> ATTACH PARTITION|PART </a> <a href=#alter_attach-partition-from title="ATTACH PARTITION FROM" class="nav-link text-wrap d-inline-block w-100"> ATTACH PARTITION FROM </a> <a href=#alter_replace-partition title="REPLACE PARTITION" class="nav-link text-wrap d-inline-block w-100"> REPLACE PARTITION </a> <a href=#alter_move_to_table-partition title="MOVE PARTITION TO TABLE" class="nav-link text-wrap d-inline-block w-100"> MOVE PARTITION TO TABLE </a> <a href=#alter_clear-column-partition title="CLEAR COLUMN IN PARTITION" class="nav-link text-wrap d-inline-block w-100"> CLEAR COLUMN IN PARTITION </a> <a href=#alter_freeze-partition title="FREEZE PARTITION" class="nav-link text-wrap d-inline-block w-100"> FREEZE PARTITION </a> <a href=#alter_clear-index-partition title="CLEAR INDEX IN PARTITION" class="nav-link text-wrap d-inline-block w-100"> CLEAR INDEX IN PARTITION </a> <a href=#alter_fetch-partition title="FETCH PARTITION" class="nav-link text-wrap d-inline-block w-100"> FETCH PARTITION </a> <a href=#alter_move-partition title="MOVE PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> MOVE PARTITION|PART </a> <a href=#alter-how-to-specify-part-expr title="Comment définir L'Expression de la Partition" class="nav-link text-wrap d-inline-block w-100"> Comment définir L'Expression de la Partition </a> </nav> <a href=#manipulations-with-table-ttl title="Manipulations avec Table TTL" class="nav-link text-wrap d-inline-block w-100"> Manipulations avec Table TTL </a> <a href=#synchronicity-of-alter-queries title="Synchronicité des requêtes ALTER" class="nav-link text-wrap d-inline-block w-100"> Synchronicité des requêtes ALTER </a> <a href=#alter-mutations title=Mutation class="nav-link text-wrap d-inline-block w-100"> Mutation </a> </nav> <a href=#alter-user-statement title="ALTER USER" class="nav-link text-wrap d-inline-block w-100"> ALTER USER </a> <nav id=toc-toc-2 class="nav flex-column pl-2"> <a href=#alter-user-syntax title=Syntaxe class="nav-link text-wrap d-inline-block w-100"> Syntaxe </a> <a href=#alter-user-dscr title=Description class="nav-link text-wrap d-inline-block w-100"> Description </a> <a href=#alter-user-examples title=Exemple class="nav-link text-wrap d-inline-block w-100"> Exemple </a> </nav> <a href=#alter-role-statement title="ALTER ROLE" class="nav-link text-wrap d-inline-block w-100"> ALTER ROLE </a> <nav id=toc-toc-3 class="nav flex-column pl-2"> <a href=#alter-role-syntax title=Syntaxe class="nav-link text-wrap d-inline-block w-100"> Syntaxe </a> </nav> <a href=#alter-row-policy-statement title="ALTER ROW POLICY" class="nav-link text-wrap d-inline-block w-100"> ALTER ROW POLICY </a> <nav id=toc-toc-4 class="nav flex-column pl-2"> <a href=#alter-row-policy-syntax title=Syntaxe class="nav-link text-wrap d-inline-block w-100"> Syntaxe </a> </nav> <a href=#alter-quota-statement title="ALTER QUOTA" class="nav-link text-wrap d-inline-block w-100"> ALTER QUOTA </a> <nav id=toc-toc-5 class="nav flex-column pl-2"> <a href=#alter-quota-syntax title=Syntaxe class="nav-link text-wrap d-inline-block w-100"> Syntaxe </a> </nav> <a href=#alter-settings-profile-statement title="ALTER SETTINGS PROFILE" class="nav-link text-wrap d-inline-block w-100"> ALTER SETTINGS PROFILE </a> <nav id=toc-toc-6 class="nav flex-column pl-2"> <a href=#alter-settings-profile-syntax title=Syntaxe class="nav-link text-wrap d-inline-block w-100"> Syntaxe </a> </nav> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?00223b07></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>